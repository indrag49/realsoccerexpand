<p>In our <a href="https://realsoccerexpand.netlify.app/post/pass-map-shot-map-and-heat-map/">last tutorial</a> we studied how to draw a pass map, a shot map and their corresponding heat maps. We used statsbomb’s open even data from the match between <em>Real Madrid</em> and <em>Barcelona</em>, which <em>Real Madrid</em> ended up winning 2-0. In this post we will again use statsbomb’s open event passing data (from a separate game this time, which we will decide on the go) and visualize the resulting pass network of a particular team on the football pitch. We will then use basic concepts from complex network analysis literature to further analyze the network and deduce some results. We will employ the <a href="https://networkx.org/"><code>NetworkX</code></a> Python package for the analysis purpose.</p>
<p>Let us <code>pip</code> install the package:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a>pip install networkx</span></code></pre></div>
<p>After installing the package we will import all the necessary packages and modules:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="im">from</span> statsbombpy <span class="im">import</span> sb <span class="co"># statsbomb api</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt <span class="co"># matplotlib for plotting</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="im">from</span> mplsoccer.pitch <span class="im">import</span> Pitch <span class="co"># for drawing the football pitch</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="im">import</span> seaborn <span class="im">as</span> sns <span class="co"># seaborn for plotting useful statistical graphs</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="im">import</span> numpy <span class="im">as</span> np <span class="co"># numerical python package</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="im">import</span> pandas <span class="im">as</span> pd <span class="co"># pandas for manipulating and analysing data</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="im">import</span> networkx <span class="im">as</span> nx <span class="co"># package for complex network analysis</span></span></code></pre></div>
<p>Let us again work step by step to fetch the event data from a particular match:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a>comp <span class="op">=</span> sb.competitions()</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a><span class="bu">print</span>(comp.to_markdown())</span></code></pre></div>
<pre><code>## |    |   competition_id |   season_id | country_name             | competition_name        | competition_gender   | season_name   | match_updated              | match_available            |
## |---:|-----------------:|------------:|:-------------------------|:------------------------|:---------------------|:--------------|:---------------------------|:---------------------------|
## |  0 |               16 |           4 | Europe                   | Champions League        | male                 | 2018/2019     | 2021-04-19T17:36:05.724116 | 2021-04-19T17:36:05.724116 |
## |  1 |               16 |           1 | Europe                   | Champions League        | male                 | 2017/2018     | 2021-01-23T21:55:30.425330 | 2021-01-23T21:55:30.425330 |
## |  2 |               16 |           2 | Europe                   | Champions League        | male                 | 2016/2017     | 2020-08-26T12:33:15.869622 | 2020-07-29T05:00           |
## |  3 |               16 |          27 | Europe                   | Champions League        | male                 | 2015/2016     | 2020-08-26T12:33:15.869622 | 2020-07-29T05:00           |
## |  4 |               16 |          26 | Europe                   | Champions League        | male                 | 2014/2015     | 2020-08-26T12:33:15.869622 | 2020-07-29T05:00           |
## |  5 |               16 |          25 | Europe                   | Champions League        | male                 | 2013/2014     | 2020-08-26T12:33:15.869622 | 2020-07-29T05:00           |
## |  6 |               16 |          24 | Europe                   | Champions League        | male                 | 2012/2013     | 2020-08-26T12:33:15.869622 | 2020-07-29T05:00           |
## |  7 |               16 |          23 | Europe                   | Champions League        | male                 | 2011/2012     | 2020-08-26T12:33:15.869622 | 2020-07-29T05:00           |
## |  8 |               16 |          22 | Europe                   | Champions League        | male                 | 2010/2011     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## |  9 |               16 |          21 | Europe                   | Champions League        | male                 | 2009/2010     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 10 |               16 |          41 | Europe                   | Champions League        | male                 | 2008/2009     | 2020-08-30T10:18:39.435424 | 2020-08-30T10:18:39.435424 |
## | 11 |               16 |          39 | Europe                   | Champions League        | male                 | 2006/2007     | 2021-03-31T04:18:30.437060 | 2021-03-31T04:18:30.437060 |
## | 12 |               16 |          37 | Europe                   | Champions League        | male                 | 2004/2005     | 2021-04-01T06:18:57.459032 | 2021-04-01T06:18:57.459032 |
## | 13 |               16 |          44 | Europe                   | Champions League        | male                 | 2003/2004     | 2021-04-01T00:34:59.472485 | 2021-04-01T00:34:59.472485 |
## | 14 |               16 |          76 | Europe                   | Champions League        | male                 | 1999/2000     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 15 |               37 |          42 | England                  | FA Women&#39;s Super League | female               | 2019/2020     | 2021-04-28T19:48:01.172671 | 2021-04-28T19:48:01.172671 |
## | 16 |               37 |           4 | England                  | FA Women&#39;s Super League | female               | 2018/2019     | 2021-04-28T19:48:01.166958 | 2021-04-28T19:48:01.166958 |
## | 17 |               43 |           3 | International            | FIFA World Cup          | male                 | 2018          | 2020-10-25T14:03:50.263266 | 2020-10-25T14:03:50.263266 |
## | 18 |               11 |          42 | Spain                    | La Liga                 | male                 | 2019/2020     | 2020-12-18T12:10:38.985394 | 2020-12-18T12:10:38.985394 |
## | 19 |               11 |           4 | Spain                    | La Liga                 | male                 | 2018/2019     | 2021-04-20T03:24:51.029365 | 2021-04-20T03:24:51.029365 |
## | 20 |               11 |           1 | Spain                    | La Liga                 | male                 | 2017/2018     | 2021-04-19T17:36:05.805404 | 2021-04-19T17:36:05.805404 |
## | 21 |               11 |           2 | Spain                    | La Liga                 | male                 | 2016/2017     | 2021-02-02T23:24:58.985975 | 2021-02-02T23:24:58.985975 |
## | 22 |               11 |          27 | Spain                    | La Liga                 | male                 | 2015/2016     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 23 |               11 |          26 | Spain                    | La Liga                 | male                 | 2014/2015     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 24 |               11 |          25 | Spain                    | La Liga                 | male                 | 2013/2014     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 25 |               11 |          24 | Spain                    | La Liga                 | male                 | 2012/2013     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 26 |               11 |          23 | Spain                    | La Liga                 | male                 | 2011/2012     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 27 |               11 |          22 | Spain                    | La Liga                 | male                 | 2010/2011     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 28 |               11 |          21 | Spain                    | La Liga                 | male                 | 2009/2010     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 29 |               11 |          41 | Spain                    | La Liga                 | male                 | 2008/2009     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 30 |               11 |          40 | Spain                    | La Liga                 | male                 | 2007/2008     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 31 |               11 |          39 | Spain                    | La Liga                 | male                 | 2006/2007     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 32 |               11 |          38 | Spain                    | La Liga                 | male                 | 2005/2006     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 33 |               11 |          37 | Spain                    | La Liga                 | male                 | 2004/2005     | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 34 |               49 |           3 | United States of America | NWSL                    | female               | 2018          | 2020-07-29T05:00           | 2020-07-29T05:00           |
## | 35 |                2 |          44 | England                  | Premier League          | male                 | 2003/2004     | 2020-08-31T20:40:28.969635 | 2020-08-31T20:40:28.969635 |
## | 36 |               72 |          30 | International            | Women&#39;s World Cup       | female               | 2019          | 2020-07-29T05:00           | 2020-07-29T05:00           |</code></pre>
<p>Let us use the first row from <code>comp</code> where the <code>competition_id</code> is <code>16</code> and <code>season_id</code> is <code>4</code>. We see that it holds the event data from <em>UEFA Champions League</em> ⚽ for the 2017-18 season. Let us now extract out the matches using the above information.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a>mat <span class="op">=</span> sb.matches(competition_id <span class="op">=</span> <span class="dv">16</span>, season_id <span class="op">=</span> <span class="dv">1</span>)</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a><span class="bu">print</span>(mat.to_markdown())</span></code></pre></div>
<pre><code>## |    |   match_id | match_date   | kick_off     | competition               | season    | home_team   | away_team   |   home_score |   away_score | match_status   | match_status_360   | last_updated               | last_updated_360   |   match_week | competition_stage   | stadium          | referee   | data_version   |   shot_fidelity_version |   xy_fidelity_version |
## |---:|-----------:|:-------------|:-------------|:--------------------------|:----------|:------------|:------------|-------------:|-------------:|:---------------|:-------------------|:---------------------------|:-------------------|-------------:|:--------------------|:-----------------|:----------|:---------------|------------------------:|----------------------:|
## |  0 |      18245 | 2018-05-26   | 20:45:00.000 | Europe - Champions League | 2017/2018 | Real Madrid | Liverpool   |            3 |            1 | available      | unscheduled        | 2021-01-23T21:55:30.425330 |                    |            7 | Final               | NSK Olimpijs&#39;kyj | M. Mažić  | 1.1.0          |                       2 |                     2 |</code></pre>
<p>We see there is only one match available, having <code>match_id</code> set to <code>18245</code>. It represents the final that took place between <em>Real Madrid</em> and <em>Liverpool</em> at <em>Olimpiyskiy National Sports Complex, Moscow</em> and Real Madrid won with the full time score: 3-1. Finally let us draw out the complete event data from this match:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a>events <span class="op">=</span> sb.events(match_id <span class="op">=</span> <span class="dv">18245</span>)</span></code></pre></div>
<p>We will print the first and the last 10 rows of the dataset to get an idea of how it looks and what information it provides us with:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a><span class="bu">print</span>(events.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   50_50 |   ball_receipt_outcome |   ball_recovery_recovery_failure |   block_offensive |   carry_end_location |   clearance_aerial_won |   clearance_body_part |   clearance_head |   clearance_left_foot |   clearance_right_foot |   counterpress |   dribble_nutmeg |   dribble_outcome |   dribble_overrun |   duel_outcome |   duel_type |   duration |   foul_committed_advantage |   foul_committed_card |   foul_committed_type |   foul_won_advantage |   foul_won_defensive |   goalkeeper_body_part |   goalkeeper_end_location |   goalkeeper_outcome |   goalkeeper_position |   goalkeeper_punched_out |   goalkeeper_technique |   goalkeeper_type | id                                   |   index |   injury_stoppage_in_chain |   interception_outcome | location     |   match_id |   minute |   off_camera |   out |   pass_aerial_won |   pass_angle |   pass_assisted_shot_id | pass_body_part   |   pass_cross |   pass_cut_back | pass_end_location   |   pass_goal_assist | pass_height   |   pass_inswinging |   pass_length |   pass_miscommunication | pass_outcome   |   pass_outswinging | pass_recipient                      |   pass_shot_assist |   pass_straight |   pass_switch |   pass_technique |   pass_through_ball | pass_type   |   period | play_pattern   | player              | position              |   possession | possession_team   | related_events                                                                                                           |   second |   shot_aerial_won |   shot_body_part |   shot_end_location |   shot_first_time |   shot_freeze_frame |   shot_key_pass_id |   shot_one_on_one |   shot_outcome |   shot_redirect |   shot_statsbomb_xg |   shot_technique |   shot_type |   substitution_outcome |   substitution_replacement | tactics                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | team        | timestamp    | type        |   under_pressure |
## |---:|--------:|-----------------------:|---------------------------------:|------------------:|---------------------:|-----------------------:|----------------------:|-----------------:|----------------------:|-----------------------:|---------------:|-----------------:|------------------:|------------------:|---------------:|------------:|-----------:|---------------------------:|----------------------:|----------------------:|---------------------:|---------------------:|-----------------------:|--------------------------:|---------------------:|----------------------:|-------------------------:|-----------------------:|------------------:|:-------------------------------------|--------:|---------------------------:|-----------------------:|:-------------|-----------:|---------:|-------------:|------:|------------------:|-------------:|------------------------:|:-----------------|-------------:|----------------:|:--------------------|-------------------:|:--------------|------------------:|--------------:|------------------------:|:---------------|-------------------:|:------------------------------------|-------------------:|----------------:|--------------:|-----------------:|--------------------:|:------------|---------:|:---------------|:--------------------|:----------------------|-------------:|:------------------|:-------------------------------------------------------------------------------------------------------------------------|---------:|------------------:|-----------------:|--------------------:|------------------:|--------------------:|-------------------:|------------------:|---------------:|----------------:|--------------------:|-----------------:|------------:|-----------------------:|---------------------------:|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:------------|:-------------|:------------|-----------------:|
## |  0 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |   0        |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | 5eee3ffd-f0c0-4532-868b-4a66cbf20cb8 |       1 |                        nan |                    nan | nan          |      18245 |        0 |          nan |   nan |               nan |   nan        |                     nan | nan              |          nan |             nan | nan                 |                nan | nan           |               nan |      nan      |                     nan | nan            |                nan | nan                                 |                nan |             nan |           nan |              nan |                 nan | nan         |        1 | Regular Play   | nan                 | nan                   |            1 | Real Madrid       | nan                                                                                                                      |        0 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan |                    nan |                        nan | {&#39;formation&#39;: 41212, &#39;lineup&#39;: [{&#39;player&#39;: {&#39;id&#39;: 5597, &#39;name&#39;: &#39;Keylor Navas Gamboa&#39;}, &#39;position&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}, &#39;jersey_number&#39;: 1}, {&#39;player&#39;: {&#39;id&#39;: 5721, &#39;name&#39;: &#39;Daniel Carvajal Ramos&#39;}, &#39;position&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}, &#39;jersey_number&#39;: 2}, {&#39;player&#39;: {&#39;id&#39;: 5485, &#39;name&#39;: &#39;Raphaël Varane&#39;}, &#39;position&#39;: {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}, &#39;jersey_number&#39;: 5}, {&#39;player&#39;: {&#39;id&#39;: 5201, &#39;name&#39;: &#39;Sergio Ramos García&#39;}, &#39;position&#39;: {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}, &#39;jersey_number&#39;: 4}, {&#39;player&#39;: {&#39;id&#39;: 5552, &#39;name&#39;: &#39;Marcelo Vieira da Silva Júnior&#39;}, &#39;position&#39;: {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}, &#39;jersey_number&#39;: 12}, {&#39;player&#39;: {&#39;id&#39;: 5539, &#39;name&#39;: &#39;Carlos Henrique Casimiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;}, &#39;jersey_number&#39;: 14}, {&#39;player&#39;: {&#39;id&#39;: 5463, &#39;name&#39;: &#39;Luka Modrić&#39;}, &#39;position&#39;: {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}, &#39;jersey_number&#39;: 10}, {&#39;player&#39;: {&#39;id&#39;: 5574, &#39;name&#39;: &#39;Toni Kroos&#39;}, &#39;position&#39;: {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}, &#39;jersey_number&#39;: 8}, {&#39;player&#39;: {&#39;id&#39;: 4926, &#39;name&#39;: &#39;Francisco Román Alarcón Suárez&#39;}, &#39;position&#39;: {&#39;id&#39;: 19, &#39;name&#39;: &#39;Center Attacking Midfield&#39;}, &#39;jersey_number&#39;: 22}, {&#39;player&#39;: {&#39;id&#39;: 19677, &#39;name&#39;: &#39;Karim Benzema&#39;}, &#39;position&#39;: {&#39;id&#39;: 22, &#39;name&#39;: &#39;Right Center Forward&#39;}, &#39;jersey_number&#39;: 9}, {&#39;player&#39;: {&#39;id&#39;: 5207, &#39;name&#39;: &#39;Cristiano Ronaldo dos Santos Aveiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 24, &#39;name&#39;: &#39;Left Center Forward&#39;}, &#39;jersey_number&#39;: 7}]} | Real Madrid | 00:00:00.000 | Starting XI |              nan |
## |  1 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |   0        |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | eaa65a92-02d3-4375-b2b7-7c2f679a620c |       2 |                        nan |                    nan | nan          |      18245 |        0 |          nan |   nan |               nan |   nan        |                     nan | nan              |          nan |             nan | nan                 |                nan | nan           |               nan |      nan      |                     nan | nan            |                nan | nan                                 |                nan |             nan |           nan |              nan |                 nan | nan         |        1 | Regular Play   | nan                 | nan                   |            1 | Real Madrid       | nan                                                                                                                      |        0 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan |                    nan |                        nan | {&#39;formation&#39;: 433, &#39;lineup&#39;: [{&#39;player&#39;: {&#39;id&#39;: 3630, &#39;name&#39;: &#39;Loris Karius&#39;}, &#39;position&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}, &#39;jersey_number&#39;: 1}, {&#39;player&#39;: {&#39;id&#39;: 3664, &#39;name&#39;: &#39;Trent Alexander-Arnold&#39;}, &#39;position&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}, &#39;jersey_number&#39;: 66}, {&#39;player&#39;: {&#39;id&#39;: 3471, &#39;name&#39;: &#39;Dejan Lovren&#39;}, &#39;position&#39;: {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}, &#39;jersey_number&#39;: 6}, {&#39;player&#39;: {&#39;id&#39;: 3669, &#39;name&#39;: &#39;Virgil van Dijk&#39;}, &#39;position&#39;: {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}, &#39;jersey_number&#39;: 4}, {&#39;player&#39;: {&#39;id&#39;: 3655, &#39;name&#39;: &#39;Andrew Robertson&#39;}, &#39;position&#39;: {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}, &#39;jersey_number&#39;: 26}, {&#39;player&#39;: {&#39;id&#39;: 3532, &#39;name&#39;: &#39;Jordan Brian Henderson&#39;}, &#39;position&#39;: {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;}, &#39;jersey_number&#39;: 14}, {&#39;player&#39;: {&#39;id&#39;: 3567, &#39;name&#39;: &#39;Georginio Wijnaldum&#39;}, &#39;position&#39;: {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}, &#39;jersey_number&#39;: 5}, {&#39;player&#39;: {&#39;id&#39;: 3473, &#39;name&#39;: &#39;James Philip Milner&#39;}, &#39;position&#39;: {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}, &#39;jersey_number&#39;: 7}, {&#39;player&#39;: {&#39;id&#39;: 3531, &#39;name&#39;: &#39;Mohamed Salah&#39;}, &#39;position&#39;: {&#39;id&#39;: 17, &#39;name&#39;: &#39;Right Wing&#39;}, &#39;jersey_number&#39;: 11}, {&#39;player&#39;: {&#39;id&#39;: 3629, &#39;name&#39;: &#39;Sadio Mané&#39;}, &#39;position&#39;: {&#39;id&#39;: 21, &#39;name&#39;: &#39;Left Wing&#39;}, &#39;jersey_number&#39;: 19}, {&#39;player&#39;: {&#39;id&#39;: 3535, &#39;name&#39;: &#39;Roberto Firmino Barbosa de Oliveira&#39;}, &#39;position&#39;: {&#39;id&#39;: 23, &#39;name&#39;: &#39;Center Forward&#39;}, &#39;jersey_number&#39;: 9}]}                                                                 | Liverpool   | 00:00:00.000 | Starting XI |              nan |
## |  2 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |   0        |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | 9c82d2e5-ebba-4825-b7f9-b11b04433ed8 |       3 |                        nan |                    nan | nan          |      18245 |        0 |          nan |   nan |               nan |   nan        |                     nan | nan              |          nan |             nan | nan                 |                nan | nan           |               nan |      nan      |                     nan | nan            |                nan | nan                                 |                nan |             nan |           nan |              nan |                 nan | nan         |        1 | Regular Play   | nan                 | nan                   |            1 | Real Madrid       | [&#39;b791047a-3eea-452f-b3a9-212bd40cd7cb&#39;]                                                                                 |        0 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan |                    nan |                        nan | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Real Madrid | 00:00:00.000 | Half Start  |              nan |
## |  3 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |   0        |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | b791047a-3eea-452f-b3a9-212bd40cd7cb |       4 |                        nan |                    nan | nan          |      18245 |        0 |          nan |   nan |               nan |   nan        |                     nan | nan              |          nan |             nan | nan                 |                nan | nan           |               nan |      nan      |                     nan | nan            |                nan | nan                                 |                nan |             nan |           nan |              nan |                 nan | nan         |        1 | Regular Play   | nan                 | nan                   |            1 | Real Madrid       | [&#39;9c82d2e5-ebba-4825-b7f9-b11b04433ed8&#39;]                                                                                 |        0 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan |                    nan |                        nan | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Liverpool   | 00:00:00.000 | Half Start  |              nan |
## |  4 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |   0        |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | c6dbfa9c-faf1-4f33-986e-357706c33dd0 |    1924 |                        nan |                    nan | nan          |      18245 |       45 |          nan |   nan |               nan |   nan        |                     nan | nan              |          nan |             nan | nan                 |                nan | nan           |               nan |      nan      |                     nan | nan            |                nan | nan                                 |                nan |             nan |           nan |              nan |                 nan | nan         |        2 | From Goal Kick | nan                 | nan                   |           85 | Liverpool         | [&#39;85d8a8b2-022f-493b-a161-cb6baec082a5&#39;]                                                                                 |        0 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan |                    nan |                        nan | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Liverpool   | 00:00:00.000 | Half Start  |              nan |
## |  5 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |   0        |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | 85d8a8b2-022f-493b-a161-cb6baec082a5 |    1925 |                        nan |                    nan | nan          |      18245 |       45 |          nan |   nan |               nan |   nan        |                     nan | nan              |          nan |             nan | nan                 |                nan | nan           |               nan |      nan      |                     nan | nan            |                nan | nan                                 |                nan |             nan |           nan |              nan |                 nan | nan         |        2 | From Goal Kick | nan                 | nan                   |           85 | Liverpool         | [&#39;c6dbfa9c-faf1-4f33-986e-357706c33dd0&#39;]                                                                                 |        0 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan |                    nan |                        nan | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Real Madrid | 00:00:00.000 | Half Start  |              nan |
## |  6 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |   1.73591  |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | 25be91a5-a084-42cb-8cc1-a0fe7b0f52f9 |       5 |                        nan |                    nan | [60.0, 40.0] |      18245 |        0 |          nan |   nan |               nan |     3.09861  |                     nan | Right Foot       |          nan |             nan | [32.1, 41.2]        |                nan | Ground Pass   |               nan |       27.9258 |                     nan | nan            |                nan | Dejan Lovren                        |                nan |             nan |           nan |              nan |                 nan | Kick Off    |        1 | From Kick Off  | James Philip Milner | Left Center Midfield  |            2 | Liverpool         | [&#39;e1a3ac58-89f3-42c7-aacc-1592ad5ab8f3&#39;]                                                                                 |        0 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan |                    nan |                        nan | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Liverpool   | 00:00:00.371 | Pass        |              nan |
## |  7 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |   3.77207  |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | b544eb38-7cc9-4cb5-99e9-ebac4fce9eb9 |       8 |                        nan |                    nan | [35.0, 40.8] |      18245 |        0 |          nan |   nan |               nan |    -0.30397  |                     nan | Right Foot       |          nan |             nan | [92.7, 22.7]        |                nan | High Pass     |               nan |       60.4723 |                     nan | Incomplete     |                nan | Roberto Firmino Barbosa de Oliveira |                nan |             nan |           nan |              nan |                 nan | nan         |        1 | From Kick Off  | Dejan Lovren        | Right Center Back     |            2 | Liverpool         | [&#39;ad23249c-f7da-4e2d-aa13-8a13df1afc57&#39;, &#39;ae5939bf-8467-4dfa-95df-ebba7c70d4c8&#39;]                                         |        3 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan |                    nan |                        nan | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Liverpool   | 00:00:03.275 | Pass        |              nan |
## |  8 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |   0.793057 |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | 192c9629-1703-40ab-8498-cab869cf0144 |      12 |                        nan |                    nan | [27.4, 60.2] |      18245 |        0 |          nan |   nan |               nan |     0.918927 |                     nan | Right Foot       |          nan |             nan | [36.1, 71.6]        |                nan | High Pass     |               nan |       14.3405 |                     nan | nan            |                nan | Luka Modrić                         |                nan |             nan |           nan |              nan |                 nan | nan         |        1 | Regular Play   | Raphaël Varane      | Right Center Back     |            3 | Real Madrid       | [&#39;a88801db-695b-4a7e-ac98-48a2e1b8b61c&#39;]                                                                                 |        8 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan |                    nan |                        nan | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Real Madrid | 00:00:08.236 | Pass        |              nan |
## |  9 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |   0.987721 |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | 599fb72e-8baf-4d5b-815e-7beb8c54e6af |      17 |                        nan |                    nan | [35.3, 75.4] |      18245 |        0 |          nan |   nan |               nan |     3.04884  |                     nan | Right Foot       |          nan |             nan | [22.4, 76.6]        |                nan | Low Pass      |               nan |       12.9557 |                     nan | nan            |                nan | Daniel Carvajal Ramos               |                nan |             nan |           nan |              nan |                 nan | nan         |        1 | Regular Play   | Luka Modrić         | Right Center Midfield |            3 | Real Madrid       | [&#39;5016d9e2-20f6-4d4b-a19f-3c7d5999c8d4&#39;, &#39;77afbacb-6fe9-47a2-857b-98c47a785e6a&#39;, &#39;b9d35239-8e68-4d04-a74d-ec653114de99&#39;] |       10 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan |                    nan |                        nan | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Real Madrid | 00:00:10.701 | Pass        |                1 |</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a><span class="bu">print</span>(events.tail(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |      |   50_50 |   ball_receipt_outcome |   ball_recovery_recovery_failure |   block_offensive |   carry_end_location |   clearance_aerial_won |   clearance_body_part |   clearance_head |   clearance_left_foot |   clearance_right_foot |   counterpress |   dribble_nutmeg |   dribble_outcome |   dribble_overrun |   duel_outcome |   duel_type |   duration |   foul_committed_advantage |   foul_committed_card |   foul_committed_type |   foul_won_advantage |   foul_won_defensive |   goalkeeper_body_part |   goalkeeper_end_location |   goalkeeper_outcome |   goalkeeper_position |   goalkeeper_punched_out |   goalkeeper_technique |   goalkeeper_type | id                                   |   index |   injury_stoppage_in_chain |   interception_outcome | location      |   match_id |   minute |   off_camera |   out |   pass_aerial_won |   pass_angle |   pass_assisted_shot_id |   pass_body_part |   pass_cross |   pass_cut_back |   pass_end_location |   pass_goal_assist |   pass_height |   pass_inswinging |   pass_length |   pass_miscommunication |   pass_outcome |   pass_outswinging |   pass_recipient |   pass_shot_assist |   pass_straight |   pass_switch |   pass_technique |   pass_through_ball |   pass_type |   period | play_pattern   | player              | position             |   possession | possession_team   | related_events                           |   second |   shot_aerial_won |   shot_body_part |   shot_end_location |   shot_first_time |   shot_freeze_frame |   shot_key_pass_id |   shot_one_on_one |   shot_outcome |   shot_redirect |   shot_statsbomb_xg |   shot_technique |   shot_type | substitution_outcome   | substitution_replacement   | tactics                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | team        | timestamp    | type           |   under_pressure |
## |-----:|--------:|-----------------------:|---------------------------------:|------------------:|---------------------:|-----------------------:|----------------------:|-----------------:|----------------------:|-----------------------:|---------------:|-----------------:|------------------:|------------------:|---------------:|------------:|-----------:|---------------------------:|----------------------:|----------------------:|---------------------:|---------------------:|-----------------------:|--------------------------:|---------------------:|----------------------:|-------------------------:|-----------------------:|------------------:|:-------------------------------------|--------:|---------------------------:|-----------------------:|:--------------|-----------:|---------:|-------------:|------:|------------------:|-------------:|------------------------:|-----------------:|-------------:|----------------:|--------------------:|-------------------:|--------------:|------------------:|--------------:|------------------------:|---------------:|-------------------:|-----------------:|-------------------:|----------------:|--------------:|-----------------:|--------------------:|------------:|---------:|:---------------|:--------------------|:---------------------|-------------:|:------------------|:-----------------------------------------|---------:|------------------:|-----------------:|--------------------:|------------------:|--------------------:|-------------------:|------------------:|---------------:|----------------:|--------------------:|-----------------:|------------:|:-----------------------|:---------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:------------|:-------------|:---------------|-----------------:|
## | 3487 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |          0 |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | 8fafbd4c-f4e0-4bc4-a518-9a27dee8c354 |    3199 |                        nan |                    nan | nan           |      18245 |       82 |          nan |   nan |               nan |          nan |                     nan |              nan |          nan |             nan |                 nan |                nan |           nan |               nan |           nan |                     nan |            nan |                nan |              nan |                nan |             nan |           nan |              nan |                 nan |         nan |        2 | From Throw In  | James Philip Milner | Left Center Midfield |          146 | Real Madrid       | nan                                      |       27 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan | Tactical               | Emre Can                   | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Liverpool   | 00:37:27.766 | Substitution   |              nan |
## | 3488 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |          0 |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | bcb01505-642d-4b35-9fb6-63bec1bf79d9 |    3349 |                        nan |                    nan | nan           |      18245 |       88 |          nan |   nan |               nan |          nan |                     nan |              nan |          nan |             nan |                 nan |                nan |           nan |               nan |           nan |                     nan |            nan |                nan |              nan |                nan |             nan |           nan |              nan |                 nan |         nan |        2 | From Free Kick | Karim Benzema       | Center Forward       |          154 | Liverpool         | nan                                      |       21 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan | Tactical               | Marco Asensio Willemsen    | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Real Madrid | 00:43:21.957 | Substitution   |              nan |
## | 3489 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |          0 |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | 7062c012-6d9c-4d89-833c-b91c427676ed |    1278 |                        nan |                    nan | nan           |      18245 |       31 |          nan |   nan |               nan |          nan |                     nan |              nan |          nan |             nan |                 nan |                nan |           nan |               nan |           nan |                     nan |            nan |                nan |              nan |                nan |             nan |           nan |              nan |                 nan |         nan |        1 | From Throw In  | nan                 | nan                  |           60 | Real Madrid       | nan                                      |       41 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan | nan                    | nan                        | {&#39;formation&#39;: 433, &#39;lineup&#39;: [{&#39;player&#39;: {&#39;id&#39;: 3630, &#39;name&#39;: &#39;Loris Karius&#39;}, &#39;position&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}, &#39;jersey_number&#39;: 1}, {&#39;player&#39;: {&#39;id&#39;: 3664, &#39;name&#39;: &#39;Trent Alexander-Arnold&#39;}, &#39;position&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}, &#39;jersey_number&#39;: 66}, {&#39;player&#39;: {&#39;id&#39;: 3471, &#39;name&#39;: &#39;Dejan Lovren&#39;}, &#39;position&#39;: {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}, &#39;jersey_number&#39;: 6}, {&#39;player&#39;: {&#39;id&#39;: 3669, &#39;name&#39;: &#39;Virgil van Dijk&#39;}, &#39;position&#39;: {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}, &#39;jersey_number&#39;: 4}, {&#39;player&#39;: {&#39;id&#39;: 3655, &#39;name&#39;: &#39;Andrew Robertson&#39;}, &#39;position&#39;: {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}, &#39;jersey_number&#39;: 26}, {&#39;player&#39;: {&#39;id&#39;: 3532, &#39;name&#39;: &#39;Jordan Brian Henderson&#39;}, &#39;position&#39;: {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;}, &#39;jersey_number&#39;: 14}, {&#39;player&#39;: {&#39;id&#39;: 3567, &#39;name&#39;: &#39;Georginio Wijnaldum&#39;}, &#39;position&#39;: {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}, &#39;jersey_number&#39;: 5}, {&#39;player&#39;: {&#39;id&#39;: 3473, &#39;name&#39;: &#39;James Philip Milner&#39;}, &#39;position&#39;: {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}, &#39;jersey_number&#39;: 7}, {&#39;player&#39;: {&#39;id&#39;: 3629, &#39;name&#39;: &#39;Sadio Mané&#39;}, &#39;position&#39;: {&#39;id&#39;: 17, &#39;name&#39;: &#39;Right Wing&#39;}, &#39;jersey_number&#39;: 19}, {&#39;player&#39;: {&#39;id&#39;: 4090, &#39;name&#39;: &#39;Adam David Lallana&#39;}, &#39;position&#39;: {&#39;id&#39;: 21, &#39;name&#39;: &#39;Left Wing&#39;}, &#39;jersey_number&#39;: 20}, {&#39;player&#39;: {&#39;id&#39;: 3535, &#39;name&#39;: &#39;Roberto Firmino Barbosa de Oliveira&#39;}, &#39;position&#39;: {&#39;id&#39;: 23, &#39;name&#39;: &#39;Center Forward&#39;}, &#39;jersey_number&#39;: 9}]}                                  | Liverpool   | 00:31:41.916 | Tactical Shift |              nan |
## | 3490 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |          0 |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | c659bbc3-5700-4fcb-85ad-b0e13e42023f |    2431 |                        nan |                    nan | nan           |      18245 |       61 |          nan |   nan |               nan |          nan |                     nan |              nan |          nan |             nan |                 nan |                nan |           nan |               nan |           nan |                     nan |            nan |                nan |              nan |                nan |             nan |           nan |              nan |                 nan |         nan |        2 | From Corner    | nan                 | nan                  |          110 | Real Madrid       | nan                                      |        1 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan | nan                    | nan                        | {&#39;formation&#39;: 433, &#39;lineup&#39;: [{&#39;player&#39;: {&#39;id&#39;: 5597, &#39;name&#39;: &#39;Keylor Navas Gamboa&#39;}, &#39;position&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}, &#39;jersey_number&#39;: 1}, {&#39;player&#39;: {&#39;id&#39;: 5202, &#39;name&#39;: &#39;José Ignacio Fernández Iglesias&#39;}, &#39;position&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}, &#39;jersey_number&#39;: 6}, {&#39;player&#39;: {&#39;id&#39;: 5485, &#39;name&#39;: &#39;Raphaël Varane&#39;}, &#39;position&#39;: {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}, &#39;jersey_number&#39;: 5}, {&#39;player&#39;: {&#39;id&#39;: 5201, &#39;name&#39;: &#39;Sergio Ramos García&#39;}, &#39;position&#39;: {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}, &#39;jersey_number&#39;: 4}, {&#39;player&#39;: {&#39;id&#39;: 5552, &#39;name&#39;: &#39;Marcelo Vieira da Silva Júnior&#39;}, &#39;position&#39;: {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}, &#39;jersey_number&#39;: 12}, {&#39;player&#39;: {&#39;id&#39;: 5539, &#39;name&#39;: &#39;Carlos Henrique Casimiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;}, &#39;jersey_number&#39;: 14}, {&#39;player&#39;: {&#39;id&#39;: 5463, &#39;name&#39;: &#39;Luka Modrić&#39;}, &#39;position&#39;: {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}, &#39;jersey_number&#39;: 10}, {&#39;player&#39;: {&#39;id&#39;: 5574, &#39;name&#39;: &#39;Toni Kroos&#39;}, &#39;position&#39;: {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}, &#39;jersey_number&#39;: 8}, {&#39;player&#39;: {&#39;id&#39;: 6399, &#39;name&#39;: &#39;Gareth Frank Bale&#39;}, &#39;position&#39;: {&#39;id&#39;: 17, &#39;name&#39;: &#39;Right Wing&#39;}, &#39;jersey_number&#39;: 11}, {&#39;player&#39;: {&#39;id&#39;: 5207, &#39;name&#39;: &#39;Cristiano Ronaldo dos Santos Aveiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 21, &#39;name&#39;: &#39;Left Wing&#39;}, &#39;jersey_number&#39;: 7}, {&#39;player&#39;: {&#39;id&#39;: 19677, &#39;name&#39;: &#39;Karim Benzema&#39;}, &#39;position&#39;: {&#39;id&#39;: 23, &#39;name&#39;: &#39;Center Forward&#39;}, &#39;jersey_number&#39;: 9}]}           | Real Madrid | 00:16:01.724 | Tactical Shift |              nan |
## | 3491 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |          0 |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | 5576a614-3af2-4fc0-8636-151a4508a1d7 |    3350 |                        nan |                    nan | nan           |      18245 |       88 |          nan |   nan |               nan |          nan |                     nan |              nan |          nan |             nan |                 nan |                nan |           nan |               nan |           nan |                     nan |            nan |                nan |              nan |                nan |             nan |           nan |              nan |                 nan |         nan |        2 | From Free Kick | nan                 | nan                  |          154 | Liverpool         | nan                                      |       34 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan | nan                    | nan                        | {&#39;formation&#39;: 433, &#39;lineup&#39;: [{&#39;player&#39;: {&#39;id&#39;: 5597, &#39;name&#39;: &#39;Keylor Navas Gamboa&#39;}, &#39;position&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}, &#39;jersey_number&#39;: 1}, {&#39;player&#39;: {&#39;id&#39;: 5202, &#39;name&#39;: &#39;José Ignacio Fernández Iglesias&#39;}, &#39;position&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}, &#39;jersey_number&#39;: 6}, {&#39;player&#39;: {&#39;id&#39;: 5485, &#39;name&#39;: &#39;Raphaël Varane&#39;}, &#39;position&#39;: {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}, &#39;jersey_number&#39;: 5}, {&#39;player&#39;: {&#39;id&#39;: 5201, &#39;name&#39;: &#39;Sergio Ramos García&#39;}, &#39;position&#39;: {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}, &#39;jersey_number&#39;: 4}, {&#39;player&#39;: {&#39;id&#39;: 5552, &#39;name&#39;: &#39;Marcelo Vieira da Silva Júnior&#39;}, &#39;position&#39;: {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}, &#39;jersey_number&#39;: 12}, {&#39;player&#39;: {&#39;id&#39;: 5539, &#39;name&#39;: &#39;Carlos Henrique Casimiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;}, &#39;jersey_number&#39;: 14}, {&#39;player&#39;: {&#39;id&#39;: 5463, &#39;name&#39;: &#39;Luka Modrić&#39;}, &#39;position&#39;: {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}, &#39;jersey_number&#39;: 10}, {&#39;player&#39;: {&#39;id&#39;: 5574, &#39;name&#39;: &#39;Toni Kroos&#39;}, &#39;position&#39;: {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}, &#39;jersey_number&#39;: 8}, {&#39;player&#39;: {&#39;id&#39;: 6399, &#39;name&#39;: &#39;Gareth Frank Bale&#39;}, &#39;position&#39;: {&#39;id&#39;: 17, &#39;name&#39;: &#39;Right Wing&#39;}, &#39;jersey_number&#39;: 11}, {&#39;player&#39;: {&#39;id&#39;: 5719, &#39;name&#39;: &#39;Marco Asensio Willemsen&#39;}, &#39;position&#39;: {&#39;id&#39;: 21, &#39;name&#39;: &#39;Left Wing&#39;}, &#39;jersey_number&#39;: 20}, {&#39;player&#39;: {&#39;id&#39;: 5207, &#39;name&#39;: &#39;Cristiano Ronaldo dos Santos Aveiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 23, &#39;name&#39;: &#39;Center Forward&#39;}, &#39;jersey_number&#39;: 7}]} | Real Madrid | 00:43:34.632 | Tactical Shift |              nan |
## | 3492 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |          0 |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | 6bc1c5c3-86ff-4ecb-882c-5d0ecb24a654 |    1730 |                        nan |                    nan | [114.8, 41.4] |      18245 |       42 |          nan |   nan |               nan |          nan |                     nan |              nan |          nan |             nan |                 nan |                nan |           nan |               nan |           nan |                     nan |            nan |                nan |              nan |                nan |             nan |           nan |              nan |                 nan |         nan |        1 | Regular Play   | Karim Benzema       | Right Center Forward |           73 | Real Madrid       | nan                                      |       21 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan | nan                    | nan                        | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Real Madrid | 00:42:21.211 | Offside        |              nan |
## | 3493 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |          0 |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | cfb22dca-62c8-4c66-bee7-46c52cfb25fa |    1922 |                        nan |                    nan | nan           |      18245 |       48 |          nan |   nan |               nan |          nan |                     nan |              nan |          nan |             nan |                 nan |                nan |           nan |               nan |           nan |                     nan |            nan |                nan |              nan |                nan |             nan |           nan |              nan |                 nan |         nan |        1 | From Goal Kick | nan                 | nan                  |           85 | Liverpool         | [&#39;3344a029-5f88-48de-b70c-925c4363dcd3&#39;] |       31 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan | nan                    | nan                        | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Real Madrid | 00:48:31.725 | Half End       |              nan |
## | 3494 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |          0 |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | 3344a029-5f88-48de-b70c-925c4363dcd3 |    1923 |                        nan |                    nan | nan           |      18245 |       48 |          nan |   nan |               nan |          nan |                     nan |              nan |          nan |             nan |                 nan |                nan |           nan |               nan |           nan |                     nan |            nan |                nan |              nan |                nan |             nan |           nan |              nan |                 nan |         nan |        1 | From Goal Kick | nan                 | nan                  |           85 | Liverpool         | [&#39;cfb22dca-62c8-4c66-bee7-46c52cfb25fa&#39;] |       31 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan | nan                    | nan                        | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Liverpool   | 00:48:31.725 | Half End       |              nan |
## | 3495 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |          0 |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | ce7d446a-e8bf-4631-bcf5-2bd323ba251e |    3496 |                        nan |                    nan | nan           |      18245 |       93 |          nan |   nan |               nan |          nan |                     nan |              nan |          nan |             nan |                 nan |                nan |           nan |               nan |           nan |                     nan |            nan |                nan |              nan |                nan |             nan |           nan |              nan |                 nan |         nan |        2 | Regular Play   | nan                 | nan                  |          164 | Real Madrid       | [&#39;d19b2348-de55-4bbf-9b1f-e44d95aa3a77&#39;] |        2 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan | nan                    | nan                        | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Liverpool   | 00:48:02.893 | Half End       |              nan |
## | 3496 |     nan |                    nan |                              nan |               nan |                  nan |                    nan |                   nan |              nan |                   nan |                    nan |            nan |              nan |               nan |               nan |            nan |         nan |          0 |                        nan |                   nan |                   nan |                  nan |                  nan |                    nan |                       nan |                  nan |                   nan |                      nan |                    nan |               nan | d19b2348-de55-4bbf-9b1f-e44d95aa3a77 |    3497 |                        nan |                    nan | nan           |      18245 |       93 |          nan |   nan |               nan |          nan |                     nan |              nan |          nan |             nan |                 nan |                nan |           nan |               nan |           nan |                     nan |            nan |                nan |              nan |                nan |             nan |           nan |              nan |                 nan |         nan |        2 | Regular Play   | nan                 | nan                  |          164 | Real Madrid       | [&#39;ce7d446a-e8bf-4631-bcf5-2bd323ba251e&#39;] |        2 |               nan |              nan |                 nan |               nan |                 nan |                nan |               nan |            nan |             nan |                 nan |              nan |         nan | nan                    | nan                        | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Real Madrid | 00:48:02.893 | Half End       |              nan |</code></pre>
<p>As we have been usually doing till now, let us print out the column names of <code>events</code> to get an overview of the relevant and the unnecessary rows for this tutorial.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a><span class="bu">print</span>(events.columns)</span></code></pre></div>
<pre><code>## Index([&#39;50_50&#39;, &#39;ball_receipt_outcome&#39;, &#39;ball_recovery_recovery_failure&#39;,
##        &#39;block_offensive&#39;, &#39;carry_end_location&#39;, &#39;clearance_aerial_won&#39;,
##        &#39;clearance_body_part&#39;, &#39;clearance_head&#39;, &#39;clearance_left_foot&#39;,
##        &#39;clearance_right_foot&#39;, &#39;counterpress&#39;, &#39;dribble_nutmeg&#39;,
##        &#39;dribble_outcome&#39;, &#39;dribble_overrun&#39;, &#39;duel_outcome&#39;, &#39;duel_type&#39;,
##        &#39;duration&#39;, &#39;foul_committed_advantage&#39;, &#39;foul_committed_card&#39;,
##        &#39;foul_committed_type&#39;, &#39;foul_won_advantage&#39;, &#39;foul_won_defensive&#39;,
##        &#39;goalkeeper_body_part&#39;, &#39;goalkeeper_end_location&#39;, &#39;goalkeeper_outcome&#39;,
##        &#39;goalkeeper_position&#39;, &#39;goalkeeper_punched_out&#39;, &#39;goalkeeper_technique&#39;,
##        &#39;goalkeeper_type&#39;, &#39;id&#39;, &#39;index&#39;, &#39;injury_stoppage_in_chain&#39;,
##        &#39;interception_outcome&#39;, &#39;location&#39;, &#39;match_id&#39;, &#39;minute&#39;, &#39;off_camera&#39;,
##        &#39;out&#39;, &#39;pass_aerial_won&#39;, &#39;pass_angle&#39;, &#39;pass_assisted_shot_id&#39;,
##        &#39;pass_body_part&#39;, &#39;pass_cross&#39;, &#39;pass_cut_back&#39;, &#39;pass_end_location&#39;,
##        &#39;pass_goal_assist&#39;, &#39;pass_height&#39;, &#39;pass_inswinging&#39;, &#39;pass_length&#39;,
##        &#39;pass_miscommunication&#39;, &#39;pass_outcome&#39;, &#39;pass_outswinging&#39;,
##        &#39;pass_recipient&#39;, &#39;pass_shot_assist&#39;, &#39;pass_straight&#39;, &#39;pass_switch&#39;,
##        &#39;pass_technique&#39;, &#39;pass_through_ball&#39;, &#39;pass_type&#39;, &#39;period&#39;,
##        &#39;play_pattern&#39;, &#39;player&#39;, &#39;position&#39;, &#39;possession&#39;, &#39;possession_team&#39;,
##        &#39;related_events&#39;, &#39;second&#39;, &#39;shot_aerial_won&#39;, &#39;shot_body_part&#39;,
##        &#39;shot_end_location&#39;, &#39;shot_first_time&#39;, &#39;shot_freeze_frame&#39;,
##        &#39;shot_key_pass_id&#39;, &#39;shot_one_on_one&#39;, &#39;shot_outcome&#39;, &#39;shot_redirect&#39;,
##        &#39;shot_statsbomb_xg&#39;, &#39;shot_technique&#39;, &#39;shot_type&#39;,
##        &#39;substitution_outcome&#39;, &#39;substitution_replacement&#39;, &#39;tactics&#39;, &#39;team&#39;,
##        &#39;timestamp&#39;, &#39;type&#39;, &#39;under_pressure&#39;],
##       dtype=&#39;object&#39;)</code></pre>
<p>If we look into the <code>events</code> dataset, we notice that the <code>tactics</code> column provides us with team lineups, formations, player ids and their jersey number from both the teams. The corresponding row values for column <code>type</code> gives us an idea about whether it was the starting 11 formation or was a tactical shift or any other developments in the teams. Let us generate a completely new dataset only focusing on the <code>tactics</code> and the <code>type</code> columns. We will filter the data in such a way that the <code>tactics</code> column has no rows set to <code>nan</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a>tact <span class="op">=</span> events[events[<span class="st">&#39;tactics&#39;</span>].isnull() <span class="op">==</span> <span class="va">False</span>]</span>
<span id="cb16-2"><a href="#cb16-2"></a>tact <span class="op">=</span> tact[[<span class="st">&#39;tactics&#39;</span>, <span class="st">&#39;team&#39;</span>, <span class="st">&#39;type&#39;</span>]]</span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="bu">print</span>(tact.to_markdown())</span></code></pre></div>
<pre><code>## |      | tactics                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | team        | type           |
## |-----:|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:------------|:---------------|
## |    0 | {&#39;formation&#39;: 41212, &#39;lineup&#39;: [{&#39;player&#39;: {&#39;id&#39;: 5597, &#39;name&#39;: &#39;Keylor Navas Gamboa&#39;}, &#39;position&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}, &#39;jersey_number&#39;: 1}, {&#39;player&#39;: {&#39;id&#39;: 5721, &#39;name&#39;: &#39;Daniel Carvajal Ramos&#39;}, &#39;position&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}, &#39;jersey_number&#39;: 2}, {&#39;player&#39;: {&#39;id&#39;: 5485, &#39;name&#39;: &#39;Raphaël Varane&#39;}, &#39;position&#39;: {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}, &#39;jersey_number&#39;: 5}, {&#39;player&#39;: {&#39;id&#39;: 5201, &#39;name&#39;: &#39;Sergio Ramos García&#39;}, &#39;position&#39;: {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}, &#39;jersey_number&#39;: 4}, {&#39;player&#39;: {&#39;id&#39;: 5552, &#39;name&#39;: &#39;Marcelo Vieira da Silva Júnior&#39;}, &#39;position&#39;: {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}, &#39;jersey_number&#39;: 12}, {&#39;player&#39;: {&#39;id&#39;: 5539, &#39;name&#39;: &#39;Carlos Henrique Casimiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;}, &#39;jersey_number&#39;: 14}, {&#39;player&#39;: {&#39;id&#39;: 5463, &#39;name&#39;: &#39;Luka Modrić&#39;}, &#39;position&#39;: {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}, &#39;jersey_number&#39;: 10}, {&#39;player&#39;: {&#39;id&#39;: 5574, &#39;name&#39;: &#39;Toni Kroos&#39;}, &#39;position&#39;: {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}, &#39;jersey_number&#39;: 8}, {&#39;player&#39;: {&#39;id&#39;: 4926, &#39;name&#39;: &#39;Francisco Román Alarcón Suárez&#39;}, &#39;position&#39;: {&#39;id&#39;: 19, &#39;name&#39;: &#39;Center Attacking Midfield&#39;}, &#39;jersey_number&#39;: 22}, {&#39;player&#39;: {&#39;id&#39;: 19677, &#39;name&#39;: &#39;Karim Benzema&#39;}, &#39;position&#39;: {&#39;id&#39;: 22, &#39;name&#39;: &#39;Right Center Forward&#39;}, &#39;jersey_number&#39;: 9}, {&#39;player&#39;: {&#39;id&#39;: 5207, &#39;name&#39;: &#39;Cristiano Ronaldo dos Santos Aveiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 24, &#39;name&#39;: &#39;Left Center Forward&#39;}, &#39;jersey_number&#39;: 7}]} | Real Madrid | Starting XI    |
## |    1 | {&#39;formation&#39;: 433, &#39;lineup&#39;: [{&#39;player&#39;: {&#39;id&#39;: 3630, &#39;name&#39;: &#39;Loris Karius&#39;}, &#39;position&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}, &#39;jersey_number&#39;: 1}, {&#39;player&#39;: {&#39;id&#39;: 3664, &#39;name&#39;: &#39;Trent Alexander-Arnold&#39;}, &#39;position&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}, &#39;jersey_number&#39;: 66}, {&#39;player&#39;: {&#39;id&#39;: 3471, &#39;name&#39;: &#39;Dejan Lovren&#39;}, &#39;position&#39;: {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}, &#39;jersey_number&#39;: 6}, {&#39;player&#39;: {&#39;id&#39;: 3669, &#39;name&#39;: &#39;Virgil van Dijk&#39;}, &#39;position&#39;: {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}, &#39;jersey_number&#39;: 4}, {&#39;player&#39;: {&#39;id&#39;: 3655, &#39;name&#39;: &#39;Andrew Robertson&#39;}, &#39;position&#39;: {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}, &#39;jersey_number&#39;: 26}, {&#39;player&#39;: {&#39;id&#39;: 3532, &#39;name&#39;: &#39;Jordan Brian Henderson&#39;}, &#39;position&#39;: {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;}, &#39;jersey_number&#39;: 14}, {&#39;player&#39;: {&#39;id&#39;: 3567, &#39;name&#39;: &#39;Georginio Wijnaldum&#39;}, &#39;position&#39;: {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}, &#39;jersey_number&#39;: 5}, {&#39;player&#39;: {&#39;id&#39;: 3473, &#39;name&#39;: &#39;James Philip Milner&#39;}, &#39;position&#39;: {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}, &#39;jersey_number&#39;: 7}, {&#39;player&#39;: {&#39;id&#39;: 3531, &#39;name&#39;: &#39;Mohamed Salah&#39;}, &#39;position&#39;: {&#39;id&#39;: 17, &#39;name&#39;: &#39;Right Wing&#39;}, &#39;jersey_number&#39;: 11}, {&#39;player&#39;: {&#39;id&#39;: 3629, &#39;name&#39;: &#39;Sadio Mané&#39;}, &#39;position&#39;: {&#39;id&#39;: 21, &#39;name&#39;: &#39;Left Wing&#39;}, &#39;jersey_number&#39;: 19}, {&#39;player&#39;: {&#39;id&#39;: 3535, &#39;name&#39;: &#39;Roberto Firmino Barbosa de Oliveira&#39;}, &#39;position&#39;: {&#39;id&#39;: 23, &#39;name&#39;: &#39;Center Forward&#39;}, &#39;jersey_number&#39;: 9}]}                                                                 | Liverpool   | Starting XI    |
## | 3489 | {&#39;formation&#39;: 433, &#39;lineup&#39;: [{&#39;player&#39;: {&#39;id&#39;: 3630, &#39;name&#39;: &#39;Loris Karius&#39;}, &#39;position&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}, &#39;jersey_number&#39;: 1}, {&#39;player&#39;: {&#39;id&#39;: 3664, &#39;name&#39;: &#39;Trent Alexander-Arnold&#39;}, &#39;position&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}, &#39;jersey_number&#39;: 66}, {&#39;player&#39;: {&#39;id&#39;: 3471, &#39;name&#39;: &#39;Dejan Lovren&#39;}, &#39;position&#39;: {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}, &#39;jersey_number&#39;: 6}, {&#39;player&#39;: {&#39;id&#39;: 3669, &#39;name&#39;: &#39;Virgil van Dijk&#39;}, &#39;position&#39;: {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}, &#39;jersey_number&#39;: 4}, {&#39;player&#39;: {&#39;id&#39;: 3655, &#39;name&#39;: &#39;Andrew Robertson&#39;}, &#39;position&#39;: {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}, &#39;jersey_number&#39;: 26}, {&#39;player&#39;: {&#39;id&#39;: 3532, &#39;name&#39;: &#39;Jordan Brian Henderson&#39;}, &#39;position&#39;: {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;}, &#39;jersey_number&#39;: 14}, {&#39;player&#39;: {&#39;id&#39;: 3567, &#39;name&#39;: &#39;Georginio Wijnaldum&#39;}, &#39;position&#39;: {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}, &#39;jersey_number&#39;: 5}, {&#39;player&#39;: {&#39;id&#39;: 3473, &#39;name&#39;: &#39;James Philip Milner&#39;}, &#39;position&#39;: {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}, &#39;jersey_number&#39;: 7}, {&#39;player&#39;: {&#39;id&#39;: 3629, &#39;name&#39;: &#39;Sadio Mané&#39;}, &#39;position&#39;: {&#39;id&#39;: 17, &#39;name&#39;: &#39;Right Wing&#39;}, &#39;jersey_number&#39;: 19}, {&#39;player&#39;: {&#39;id&#39;: 4090, &#39;name&#39;: &#39;Adam David Lallana&#39;}, &#39;position&#39;: {&#39;id&#39;: 21, &#39;name&#39;: &#39;Left Wing&#39;}, &#39;jersey_number&#39;: 20}, {&#39;player&#39;: {&#39;id&#39;: 3535, &#39;name&#39;: &#39;Roberto Firmino Barbosa de Oliveira&#39;}, &#39;position&#39;: {&#39;id&#39;: 23, &#39;name&#39;: &#39;Center Forward&#39;}, &#39;jersey_number&#39;: 9}]}                                                            | Liverpool   | Tactical Shift |
## | 3490 | {&#39;formation&#39;: 433, &#39;lineup&#39;: [{&#39;player&#39;: {&#39;id&#39;: 5597, &#39;name&#39;: &#39;Keylor Navas Gamboa&#39;}, &#39;position&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}, &#39;jersey_number&#39;: 1}, {&#39;player&#39;: {&#39;id&#39;: 5202, &#39;name&#39;: &#39;José Ignacio Fernández Iglesias&#39;}, &#39;position&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}, &#39;jersey_number&#39;: 6}, {&#39;player&#39;: {&#39;id&#39;: 5485, &#39;name&#39;: &#39;Raphaël Varane&#39;}, &#39;position&#39;: {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}, &#39;jersey_number&#39;: 5}, {&#39;player&#39;: {&#39;id&#39;: 5201, &#39;name&#39;: &#39;Sergio Ramos García&#39;}, &#39;position&#39;: {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}, &#39;jersey_number&#39;: 4}, {&#39;player&#39;: {&#39;id&#39;: 5552, &#39;name&#39;: &#39;Marcelo Vieira da Silva Júnior&#39;}, &#39;position&#39;: {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}, &#39;jersey_number&#39;: 12}, {&#39;player&#39;: {&#39;id&#39;: 5539, &#39;name&#39;: &#39;Carlos Henrique Casimiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;}, &#39;jersey_number&#39;: 14}, {&#39;player&#39;: {&#39;id&#39;: 5463, &#39;name&#39;: &#39;Luka Modrić&#39;}, &#39;position&#39;: {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}, &#39;jersey_number&#39;: 10}, {&#39;player&#39;: {&#39;id&#39;: 5574, &#39;name&#39;: &#39;Toni Kroos&#39;}, &#39;position&#39;: {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}, &#39;jersey_number&#39;: 8}, {&#39;player&#39;: {&#39;id&#39;: 6399, &#39;name&#39;: &#39;Gareth Frank Bale&#39;}, &#39;position&#39;: {&#39;id&#39;: 17, &#39;name&#39;: &#39;Right Wing&#39;}, &#39;jersey_number&#39;: 11}, {&#39;player&#39;: {&#39;id&#39;: 5207, &#39;name&#39;: &#39;Cristiano Ronaldo dos Santos Aveiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 21, &#39;name&#39;: &#39;Left Wing&#39;}, &#39;jersey_number&#39;: 7}, {&#39;player&#39;: {&#39;id&#39;: 19677, &#39;name&#39;: &#39;Karim Benzema&#39;}, &#39;position&#39;: {&#39;id&#39;: 23, &#39;name&#39;: &#39;Center Forward&#39;}, &#39;jersey_number&#39;: 9}]}                                     | Real Madrid | Tactical Shift |
## | 3491 | {&#39;formation&#39;: 433, &#39;lineup&#39;: [{&#39;player&#39;: {&#39;id&#39;: 5597, &#39;name&#39;: &#39;Keylor Navas Gamboa&#39;}, &#39;position&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}, &#39;jersey_number&#39;: 1}, {&#39;player&#39;: {&#39;id&#39;: 5202, &#39;name&#39;: &#39;José Ignacio Fernández Iglesias&#39;}, &#39;position&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}, &#39;jersey_number&#39;: 6}, {&#39;player&#39;: {&#39;id&#39;: 5485, &#39;name&#39;: &#39;Raphaël Varane&#39;}, &#39;position&#39;: {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}, &#39;jersey_number&#39;: 5}, {&#39;player&#39;: {&#39;id&#39;: 5201, &#39;name&#39;: &#39;Sergio Ramos García&#39;}, &#39;position&#39;: {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}, &#39;jersey_number&#39;: 4}, {&#39;player&#39;: {&#39;id&#39;: 5552, &#39;name&#39;: &#39;Marcelo Vieira da Silva Júnior&#39;}, &#39;position&#39;: {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}, &#39;jersey_number&#39;: 12}, {&#39;player&#39;: {&#39;id&#39;: 5539, &#39;name&#39;: &#39;Carlos Henrique Casimiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;}, &#39;jersey_number&#39;: 14}, {&#39;player&#39;: {&#39;id&#39;: 5463, &#39;name&#39;: &#39;Luka Modrić&#39;}, &#39;position&#39;: {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}, &#39;jersey_number&#39;: 10}, {&#39;player&#39;: {&#39;id&#39;: 5574, &#39;name&#39;: &#39;Toni Kroos&#39;}, &#39;position&#39;: {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}, &#39;jersey_number&#39;: 8}, {&#39;player&#39;: {&#39;id&#39;: 6399, &#39;name&#39;: &#39;Gareth Frank Bale&#39;}, &#39;position&#39;: {&#39;id&#39;: 17, &#39;name&#39;: &#39;Right Wing&#39;}, &#39;jersey_number&#39;: 11}, {&#39;player&#39;: {&#39;id&#39;: 5719, &#39;name&#39;: &#39;Marco Asensio Willemsen&#39;}, &#39;position&#39;: {&#39;id&#39;: 21, &#39;name&#39;: &#39;Left Wing&#39;}, &#39;jersey_number&#39;: 20}, {&#39;player&#39;: {&#39;id&#39;: 5207, &#39;name&#39;: &#39;Cristiano Ronaldo dos Santos Aveiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 23, &#39;name&#39;: &#39;Center Forward&#39;}, &#39;jersey_number&#39;: 7}]}                           | Real Madrid | Tactical Shift |</code></pre>
<p>Let us focus only on the tactics for the starting 11 set up from both the teams. We will build and analyze the pass network generated from among the starting 11 players from either of the teams. If we look into the first two rows of the <code>type</code> column in <code>tact</code>, we see that they are set as <code>'Starting XI'</code>, one for each team. Let us separately fetch the data for the teams, filtering by <code>type</code></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a>tact <span class="op">=</span> tact[tact[<span class="st">&#39;type&#39;</span>] <span class="op">==</span> <span class="st">&#39;Starting XI&#39;</span>]</span>
<span id="cb18-2"><a href="#cb18-2"></a>tact_Real <span class="op">=</span> tact[tact[<span class="st">&#39;team&#39;</span>] <span class="op">==</span> <span class="st">&#39;Real Madrid&#39;</span>]</span>
<span id="cb18-3"><a href="#cb18-3"></a>tact_Liv <span class="op">=</span> tact[tact[<span class="st">&#39;team&#39;</span>] <span class="op">==</span> <span class="st">&#39;Liverpool&#39;</span>]</span>
<span id="cb18-4"><a href="#cb18-4"></a>tact_Real <span class="op">=</span> tact_Real[<span class="st">&#39;tactics&#39;</span>]</span>
<span id="cb18-5"><a href="#cb18-5"></a>tact_Liv <span class="op">=</span> tact_Liv[<span class="st">&#39;tactics&#39;</span>]</span></code></pre></div>
<p>Let us see how <code>tact_Real</code> and <code>tact_Barca</code> look:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a><span class="bu">print</span>(tact_Real.to_markdown())</span></code></pre></div>
<pre><code>## |    | tactics                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
## |---:|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
## |  0 | {&#39;formation&#39;: 41212, &#39;lineup&#39;: [{&#39;player&#39;: {&#39;id&#39;: 5597, &#39;name&#39;: &#39;Keylor Navas Gamboa&#39;}, &#39;position&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}, &#39;jersey_number&#39;: 1}, {&#39;player&#39;: {&#39;id&#39;: 5721, &#39;name&#39;: &#39;Daniel Carvajal Ramos&#39;}, &#39;position&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}, &#39;jersey_number&#39;: 2}, {&#39;player&#39;: {&#39;id&#39;: 5485, &#39;name&#39;: &#39;Raphaël Varane&#39;}, &#39;position&#39;: {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}, &#39;jersey_number&#39;: 5}, {&#39;player&#39;: {&#39;id&#39;: 5201, &#39;name&#39;: &#39;Sergio Ramos García&#39;}, &#39;position&#39;: {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}, &#39;jersey_number&#39;: 4}, {&#39;player&#39;: {&#39;id&#39;: 5552, &#39;name&#39;: &#39;Marcelo Vieira da Silva Júnior&#39;}, &#39;position&#39;: {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}, &#39;jersey_number&#39;: 12}, {&#39;player&#39;: {&#39;id&#39;: 5539, &#39;name&#39;: &#39;Carlos Henrique Casimiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;}, &#39;jersey_number&#39;: 14}, {&#39;player&#39;: {&#39;id&#39;: 5463, &#39;name&#39;: &#39;Luka Modrić&#39;}, &#39;position&#39;: {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}, &#39;jersey_number&#39;: 10}, {&#39;player&#39;: {&#39;id&#39;: 5574, &#39;name&#39;: &#39;Toni Kroos&#39;}, &#39;position&#39;: {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}, &#39;jersey_number&#39;: 8}, {&#39;player&#39;: {&#39;id&#39;: 4926, &#39;name&#39;: &#39;Francisco Román Alarcón Suárez&#39;}, &#39;position&#39;: {&#39;id&#39;: 19, &#39;name&#39;: &#39;Center Attacking Midfield&#39;}, &#39;jersey_number&#39;: 22}, {&#39;player&#39;: {&#39;id&#39;: 19677, &#39;name&#39;: &#39;Karim Benzema&#39;}, &#39;position&#39;: {&#39;id&#39;: 22, &#39;name&#39;: &#39;Right Center Forward&#39;}, &#39;jersey_number&#39;: 9}, {&#39;player&#39;: {&#39;id&#39;: 5207, &#39;name&#39;: &#39;Cristiano Ronaldo dos Santos Aveiro&#39;}, &#39;position&#39;: {&#39;id&#39;: 24, &#39;name&#39;: &#39;Left Center Forward&#39;}, &#39;jersey_number&#39;: 7}]} |</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a><span class="bu">print</span>(tact_Liv.to_markdown())</span></code></pre></div>
<pre><code>## |    | tactics                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
## |---:|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
## |  1 | {&#39;formation&#39;: 433, &#39;lineup&#39;: [{&#39;player&#39;: {&#39;id&#39;: 3630, &#39;name&#39;: &#39;Loris Karius&#39;}, &#39;position&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}, &#39;jersey_number&#39;: 1}, {&#39;player&#39;: {&#39;id&#39;: 3664, &#39;name&#39;: &#39;Trent Alexander-Arnold&#39;}, &#39;position&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}, &#39;jersey_number&#39;: 66}, {&#39;player&#39;: {&#39;id&#39;: 3471, &#39;name&#39;: &#39;Dejan Lovren&#39;}, &#39;position&#39;: {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}, &#39;jersey_number&#39;: 6}, {&#39;player&#39;: {&#39;id&#39;: 3669, &#39;name&#39;: &#39;Virgil van Dijk&#39;}, &#39;position&#39;: {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}, &#39;jersey_number&#39;: 4}, {&#39;player&#39;: {&#39;id&#39;: 3655, &#39;name&#39;: &#39;Andrew Robertson&#39;}, &#39;position&#39;: {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}, &#39;jersey_number&#39;: 26}, {&#39;player&#39;: {&#39;id&#39;: 3532, &#39;name&#39;: &#39;Jordan Brian Henderson&#39;}, &#39;position&#39;: {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;}, &#39;jersey_number&#39;: 14}, {&#39;player&#39;: {&#39;id&#39;: 3567, &#39;name&#39;: &#39;Georginio Wijnaldum&#39;}, &#39;position&#39;: {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}, &#39;jersey_number&#39;: 5}, {&#39;player&#39;: {&#39;id&#39;: 3473, &#39;name&#39;: &#39;James Philip Milner&#39;}, &#39;position&#39;: {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}, &#39;jersey_number&#39;: 7}, {&#39;player&#39;: {&#39;id&#39;: 3531, &#39;name&#39;: &#39;Mohamed Salah&#39;}, &#39;position&#39;: {&#39;id&#39;: 17, &#39;name&#39;: &#39;Right Wing&#39;}, &#39;jersey_number&#39;: 11}, {&#39;player&#39;: {&#39;id&#39;: 3629, &#39;name&#39;: &#39;Sadio Mané&#39;}, &#39;position&#39;: {&#39;id&#39;: 21, &#39;name&#39;: &#39;Left Wing&#39;}, &#39;jersey_number&#39;: 19}, {&#39;player&#39;: {&#39;id&#39;: 3535, &#39;name&#39;: &#39;Roberto Firmino Barbosa de Oliveira&#39;}, &#39;position&#39;: {&#39;id&#39;: 23, &#39;name&#39;: &#39;Center Forward&#39;}, &#39;jersey_number&#39;: 9}]} |</code></pre>
<p>So both <code>tact_Real</code> and <code>tact_Liv</code> are dataframes made of single rows with their indices (Which we will use to extract the data), and the <code>tactics</code> column is made up of a Python <code>dict</code> object. For now we are only interested in the key <code>'lineup'</code> to get all the information about the players from the teams.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1"></a>dict_Real <span class="op">=</span> tact_Real[<span class="dv">0</span>][<span class="st">&#39;lineup&#39;</span>]</span>
<span id="cb23-2"><a href="#cb23-2"></a>dict_Liv <span class="op">=</span> tact_Liv[<span class="dv">1</span>][<span class="st">&#39;lineup&#39;</span>]</span></code></pre></div>
<p>We will use the <code>from_dict()</code> function provided by <code>pandas</code> to convert the dictionary into a dataframe.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a>lineup_Real <span class="op">=</span> pd.DataFrame.from_dict(dict_Real)</span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="bu">print</span>(lineup_Real.to_markdown())</span></code></pre></div>
<pre><code>## |    | player                                                      | position                                        |   jersey_number |
## |---:|:------------------------------------------------------------|:------------------------------------------------|----------------:|
## |  0 | {&#39;id&#39;: 5597, &#39;name&#39;: &#39;Keylor Navas Gamboa&#39;}                 | {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}                 |               1 |
## |  1 | {&#39;id&#39;: 5721, &#39;name&#39;: &#39;Daniel Carvajal Ramos&#39;}               | {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}                 |               2 |
## |  2 | {&#39;id&#39;: 5485, &#39;name&#39;: &#39;Raphaël Varane&#39;}                      | {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}          |               5 |
## |  3 | {&#39;id&#39;: 5201, &#39;name&#39;: &#39;Sergio Ramos García&#39;}                 | {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}           |               4 |
## |  4 | {&#39;id&#39;: 5552, &#39;name&#39;: &#39;Marcelo Vieira da Silva Júnior&#39;}      | {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}                  |              12 |
## |  5 | {&#39;id&#39;: 5539, &#39;name&#39;: &#39;Carlos Henrique Casimiro&#39;}            | {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;} |              14 |
## |  6 | {&#39;id&#39;: 5463, &#39;name&#39;: &#39;Luka Modrić&#39;}                         | {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}     |              10 |
## |  7 | {&#39;id&#39;: 5574, &#39;name&#39;: &#39;Toni Kroos&#39;}                          | {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}      |               8 |
## |  8 | {&#39;id&#39;: 4926, &#39;name&#39;: &#39;Francisco Román Alarcón Suárez&#39;}      | {&#39;id&#39;: 19, &#39;name&#39;: &#39;Center Attacking Midfield&#39;} |              22 |
## |  9 | {&#39;id&#39;: 19677, &#39;name&#39;: &#39;Karim Benzema&#39;}                      | {&#39;id&#39;: 22, &#39;name&#39;: &#39;Right Center Forward&#39;}      |               9 |
## | 10 | {&#39;id&#39;: 5207, &#39;name&#39;: &#39;Cristiano Ronaldo dos Santos Aveiro&#39;} | {&#39;id&#39;: 24, &#39;name&#39;: &#39;Left Center Forward&#39;}       |               7 |</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a>lineup_Liv <span class="op">=</span> pd.DataFrame.from_dict(dict_Liv)</span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="bu">print</span>(lineup_Liv.to_markdown())</span></code></pre></div>
<pre><code>## |    | player                                                      | position                                        |   jersey_number |
## |---:|:------------------------------------------------------------|:------------------------------------------------|----------------:|
## |  0 | {&#39;id&#39;: 3630, &#39;name&#39;: &#39;Loris Karius&#39;}                        | {&#39;id&#39;: 1, &#39;name&#39;: &#39;Goalkeeper&#39;}                 |               1 |
## |  1 | {&#39;id&#39;: 3664, &#39;name&#39;: &#39;Trent Alexander-Arnold&#39;}              | {&#39;id&#39;: 2, &#39;name&#39;: &#39;Right Back&#39;}                 |              66 |
## |  2 | {&#39;id&#39;: 3471, &#39;name&#39;: &#39;Dejan Lovren&#39;}                        | {&#39;id&#39;: 3, &#39;name&#39;: &#39;Right Center Back&#39;}          |               6 |
## |  3 | {&#39;id&#39;: 3669, &#39;name&#39;: &#39;Virgil van Dijk&#39;}                     | {&#39;id&#39;: 5, &#39;name&#39;: &#39;Left Center Back&#39;}           |               4 |
## |  4 | {&#39;id&#39;: 3655, &#39;name&#39;: &#39;Andrew Robertson&#39;}                    | {&#39;id&#39;: 6, &#39;name&#39;: &#39;Left Back&#39;}                  |              26 |
## |  5 | {&#39;id&#39;: 3532, &#39;name&#39;: &#39;Jordan Brian Henderson&#39;}              | {&#39;id&#39;: 10, &#39;name&#39;: &#39;Center Defensive Midfield&#39;} |              14 |
## |  6 | {&#39;id&#39;: 3567, &#39;name&#39;: &#39;Georginio Wijnaldum&#39;}                 | {&#39;id&#39;: 13, &#39;name&#39;: &#39;Right Center Midfield&#39;}     |               5 |
## |  7 | {&#39;id&#39;: 3473, &#39;name&#39;: &#39;James Philip Milner&#39;}                 | {&#39;id&#39;: 15, &#39;name&#39;: &#39;Left Center Midfield&#39;}      |               7 |
## |  8 | {&#39;id&#39;: 3531, &#39;name&#39;: &#39;Mohamed Salah&#39;}                       | {&#39;id&#39;: 17, &#39;name&#39;: &#39;Right Wing&#39;}                |              11 |
## |  9 | {&#39;id&#39;: 3629, &#39;name&#39;: &#39;Sadio Mané&#39;}                          | {&#39;id&#39;: 21, &#39;name&#39;: &#39;Left Wing&#39;}                 |              19 |
## | 10 | {&#39;id&#39;: 3535, &#39;name&#39;: &#39;Roberto Firmino Barbosa de Oliveira&#39;} | {&#39;id&#39;: 23, &#39;name&#39;: &#39;Center Forward&#39;}            |               9 |</code></pre>
<p>We are basically interested in the players name and their corresponding jersey numbers. We will use a simple for loop and store the information in seperate dictionaries for both the teams.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a>players_Real <span class="op">=</span> {}</span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(lineup_Real)):</span>
<span id="cb28-3"><a href="#cb28-3"></a>    key <span class="op">=</span> lineup_Real.player[i][<span class="st">&#39;name&#39;</span>]</span>
<span id="cb28-4"><a href="#cb28-4"></a>    val <span class="op">=</span> lineup_Real.jersey_number[i]</span>
<span id="cb28-5"><a href="#cb28-5"></a>    players_Real[key] <span class="op">=</span> <span class="bu">str</span>(val)</span>
<span id="cb28-6"><a href="#cb28-6"></a><span class="bu">print</span>(players_Real)</span></code></pre></div>
<pre><code>## {&#39;Keylor Navas Gamboa&#39;: &#39;1&#39;, &#39;Daniel Carvajal Ramos&#39;: &#39;2&#39;, &#39;Raphaël Varane&#39;: &#39;5&#39;, &#39;Sergio Ramos García&#39;: &#39;4&#39;, &#39;Marcelo Vieira da Silva Júnior&#39;: &#39;12&#39;, &#39;Carlos Henrique Casimiro&#39;: &#39;14&#39;, &#39;Luka Modrić&#39;: &#39;10&#39;, &#39;Toni Kroos&#39;: &#39;8&#39;, &#39;Francisco Román Alarcón Suárez&#39;: &#39;22&#39;, &#39;Karim Benzema&#39;: &#39;9&#39;, &#39;Cristiano Ronaldo dos Santos Aveiro&#39;: &#39;7&#39;}</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a>players_Liv <span class="op">=</span> {}</span>
<span id="cb30-2"><a href="#cb30-2"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(lineup_Liv)):</span>
<span id="cb30-3"><a href="#cb30-3"></a>    key <span class="op">=</span> lineup_Liv.player[i][<span class="st">&#39;name&#39;</span>]</span>
<span id="cb30-4"><a href="#cb30-4"></a>    val <span class="op">=</span> lineup_Liv.jersey_number[i]</span>
<span id="cb30-5"><a href="#cb30-5"></a>    players_Liv[key] <span class="op">=</span> <span class="bu">str</span>(val)</span>
<span id="cb30-6"><a href="#cb30-6"></a><span class="bu">print</span>(players_Liv)</span></code></pre></div>
<pre><code>## {&#39;Loris Karius&#39;: &#39;1&#39;, &#39;Trent Alexander-Arnold&#39;: &#39;66&#39;, &#39;Dejan Lovren&#39;: &#39;6&#39;, &#39;Virgil van Dijk&#39;: &#39;4&#39;, &#39;Andrew Robertson&#39;: &#39;26&#39;, &#39;Jordan Brian Henderson&#39;: &#39;14&#39;, &#39;Georginio Wijnaldum&#39;: &#39;5&#39;, &#39;James Philip Milner&#39;: &#39;7&#39;, &#39;Mohamed Salah&#39;: &#39;11&#39;, &#39;Sadio Mané&#39;: &#39;19&#39;, &#39;Roberto Firmino Barbosa de Oliveira&#39;: &#39;9&#39;}</code></pre>
<p>So, we have collected the names and the jersey number of the players (starting 11) from both the teams in separate dictionaries named <code>players_Real</code> and <code>players_Liv</code>. These will come handy later!</p>
<p>Now from the <code>events</code> dataset we will extract out the relevant columns for our pass network analysis purposes.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a>events_pn <span class="op">=</span> events[[<span class="st">&#39;minute&#39;</span>, <span class="st">&#39;second&#39;</span>, <span class="st">&#39;team&#39;</span>, <span class="st">&#39;type&#39;</span>, <span class="st">&#39;location&#39;</span>, <span class="st">&#39;pass_end_location&#39;</span>, <span class="st">&#39;pass_outcome&#39;</span>, <span class="st">&#39;player&#39;</span>]]</span></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1"></a><span class="bu">print</span>(events_pn.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   minute |   second | team        | type        | location     | pass_end_location   | pass_outcome   | player              |
## |---:|---------:|---------:|:------------|:------------|:-------------|:--------------------|:---------------|:--------------------|
## |  0 |        0 |        0 | Real Madrid | Starting XI | nan          | nan                 | nan            | nan                 |
## |  1 |        0 |        0 | Liverpool   | Starting XI | nan          | nan                 | nan            | nan                 |
## |  2 |        0 |        0 | Real Madrid | Half Start  | nan          | nan                 | nan            | nan                 |
## |  3 |        0 |        0 | Liverpool   | Half Start  | nan          | nan                 | nan            | nan                 |
## |  4 |       45 |        0 | Liverpool   | Half Start  | nan          | nan                 | nan            | nan                 |
## |  5 |       45 |        0 | Real Madrid | Half Start  | nan          | nan                 | nan            | nan                 |
## |  6 |        0 |        0 | Liverpool   | Pass        | [60.0, 40.0] | [32.1, 41.2]        | nan            | James Philip Milner |
## |  7 |        0 |        3 | Liverpool   | Pass        | [35.0, 40.8] | [92.7, 22.7]        | Incomplete     | Dejan Lovren        |
## |  8 |        0 |        8 | Real Madrid | Pass        | [27.4, 60.2] | [36.1, 71.6]        | nan            | Raphaël Varane      |
## |  9 |        0 |       10 | Real Madrid | Pass        | [35.3, 75.4] | [22.4, 76.6]        | nan            | Luka Modrić         |</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1"></a><span class="bu">print</span>(events_pn.tail(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |      |   minute |   second | team        | type           | location      |   pass_end_location |   pass_outcome | player              |
## |-----:|---------:|---------:|:------------|:---------------|:--------------|--------------------:|---------------:|:--------------------|
## | 3487 |       82 |       27 | Liverpool   | Substitution   | nan           |                 nan |            nan | James Philip Milner |
## | 3488 |       88 |       21 | Real Madrid | Substitution   | nan           |                 nan |            nan | Karim Benzema       |
## | 3489 |       31 |       41 | Liverpool   | Tactical Shift | nan           |                 nan |            nan | nan                 |
## | 3490 |       61 |        1 | Real Madrid | Tactical Shift | nan           |                 nan |            nan | nan                 |
## | 3491 |       88 |       34 | Real Madrid | Tactical Shift | nan           |                 nan |            nan | nan                 |
## | 3492 |       42 |       21 | Real Madrid | Offside        | [114.8, 41.4] |                 nan |            nan | Karim Benzema       |
## | 3493 |       48 |       31 | Real Madrid | Half End       | nan           |                 nan |            nan | nan                 |
## | 3494 |       48 |       31 | Liverpool   | Half End       | nan           |                 nan |            nan | nan                 |
## | 3495 |       93 |        2 | Liverpool   | Half End       | nan           |                 nan |            nan | nan                 |
## | 3496 |       93 |        2 | Real Madrid | Half End       | nan           |                 nan |            nan | nan                 |</code></pre>
<p>The next step is to filter the datset by teams and store them as new datasets:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1"></a>events_Real <span class="op">=</span> events_pn[events_pn[<span class="st">&#39;team&#39;</span>] <span class="op">==</span> <span class="st">&#39;Real Madrid&#39;</span>]</span>
<span id="cb37-2"><a href="#cb37-2"></a>events_Liv <span class="op">=</span> events_pn[events_pn[<span class="st">&#39;team&#39;</span>] <span class="op">==</span> <span class="st">&#39;Liverpool&#39;</span>]</span></code></pre></div>
<p>View the first 10 rows from both the datasets:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1"></a><span class="bu">print</span>(events_Real.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   minute |   second | team        | type        | location     | pass_end_location   | pass_outcome   | player                         |
## |---:|---------:|---------:|:------------|:------------|:-------------|:--------------------|:---------------|:-------------------------------|
## |  0 |        0 |        0 | Real Madrid | Starting XI | nan          | nan                 | nan            | nan                            |
## |  2 |        0 |        0 | Real Madrid | Half Start  | nan          | nan                 | nan            | nan                            |
## |  5 |       45 |        0 | Real Madrid | Half Start  | nan          | nan                 | nan            | nan                            |
## |  8 |        0 |        8 | Real Madrid | Pass        | [27.4, 60.2] | [36.1, 71.6]        | nan            | Raphaël Varane                 |
## |  9 |        0 |       10 | Real Madrid | Pass        | [35.3, 75.4] | [22.4, 76.6]        | nan            | Luka Modrić                    |
## | 10 |        0 |       11 | Real Madrid | Pass        | [22.3, 76.6] | [33.4, 68.0]        | nan            | Daniel Carvajal Ramos          |
## | 11 |        0 |       15 | Real Madrid | Pass        | [36.2, 75.3] | [43.6, 62.0]        | Incomplete     | Carlos Henrique Casimiro       |
## | 16 |        0 |       25 | Real Madrid | Pass        | [14.7, 23.2] | [56.7, 6.2]         | Incomplete     | Sergio Ramos García            |
## | 17 |        0 |       40 | Real Madrid | Pass        | [57.5, 4.6]  | [49.2, 15.6]        | nan            | Marcelo Vieira da Silva Júnior |
## | 18 |        0 |       43 | Real Madrid | Pass        | [48.8, 18.4] | [49.8, 12.5]        | nan            | Carlos Henrique Casimiro       |</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1"></a><span class="bu">print</span>(events_Liv.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   minute |   second | team      | type        | location     | pass_end_location   | pass_outcome   | player                              |
## |---:|---------:|---------:|:----------|:------------|:-------------|:--------------------|:---------------|:------------------------------------|
## |  1 |        0 |        0 | Liverpool | Starting XI | nan          | nan                 | nan            | nan                                 |
## |  3 |        0 |        0 | Liverpool | Half Start  | nan          | nan                 | nan            | nan                                 |
## |  4 |       45 |        0 | Liverpool | Half Start  | nan          | nan                 | nan            | nan                                 |
## |  6 |        0 |        0 | Liverpool | Pass        | [60.0, 40.0] | [32.1, 41.2]        | nan            | James Philip Milner                 |
## |  7 |        0 |        3 | Liverpool | Pass        | [35.0, 40.8] | [92.7, 22.7]        | Incomplete     | Dejan Lovren                        |
## | 12 |        0 |       16 | Liverpool | Pass        | [76.5, 18.1] | [84.8, 9.5]         | nan            | Jordan Brian Henderson              |
## | 13 |        0 |       18 | Liverpool | Pass        | [84.4, 10.0] | [92.5, 19.1]        | nan            | Sadio Mané                          |
## | 14 |        0 |       19 | Liverpool | Pass        | [91.6, 21.3] | [90.6, 50.7]        | nan            | Roberto Firmino Barbosa de Oliveira |
## | 15 |        0 |       22 | Liverpool | Pass        | [92.2, 50.9] | [109.7, 46.4]       | Incomplete     | Mohamed Salah                       |
## | 25 |        1 |        7 | Liverpool | Pass        | [42.0, 75.9] | [115.6, 59.3]       | Incomplete     | Trent Alexander-Arnold              |</code></pre>
<p>As we are only interested in the pass network generation, we will filter the datasets by keeping those rows where <code>type</code> is set to <code>Pass</code>.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1"></a>events_pn_Real <span class="op">=</span> events_Real[events_Real[<span class="st">&#39;type&#39;</span>] <span class="op">==</span> <span class="st">&#39;Pass&#39;</span>]</span>
<span id="cb42-2"><a href="#cb42-2"></a>events_pn_Liv <span class="op">=</span> events_Liv[events_Liv[<span class="st">&#39;type&#39;</span>] <span class="op">==</span> <span class="st">&#39;Pass&#39;</span>]</span></code></pre></div>
<p>Again view the first 10 rows of the filtered datasets:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1"></a><span class="bu">print</span>(events_pn_Real.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   minute |   second | team        | type   | location     | pass_end_location   | pass_outcome   | player                         |
## |---:|---------:|---------:|:------------|:-------|:-------------|:--------------------|:---------------|:-------------------------------|
## |  8 |        0 |        8 | Real Madrid | Pass   | [27.4, 60.2] | [36.1, 71.6]        | nan            | Raphaël Varane                 |
## |  9 |        0 |       10 | Real Madrid | Pass   | [35.3, 75.4] | [22.4, 76.6]        | nan            | Luka Modrić                    |
## | 10 |        0 |       11 | Real Madrid | Pass   | [22.3, 76.6] | [33.4, 68.0]        | nan            | Daniel Carvajal Ramos          |
## | 11 |        0 |       15 | Real Madrid | Pass   | [36.2, 75.3] | [43.6, 62.0]        | Incomplete     | Carlos Henrique Casimiro       |
## | 16 |        0 |       25 | Real Madrid | Pass   | [14.7, 23.2] | [56.7, 6.2]         | Incomplete     | Sergio Ramos García            |
## | 17 |        0 |       40 | Real Madrid | Pass   | [57.5, 4.6]  | [49.2, 15.6]        | nan            | Marcelo Vieira da Silva Júnior |
## | 18 |        0 |       43 | Real Madrid | Pass   | [48.8, 18.4] | [49.8, 12.5]        | nan            | Carlos Henrique Casimiro       |
## | 19 |        0 |       46 | Real Madrid | Pass   | [48.8, 13.9] | [36.1, 56.3]        | nan            | Toni Kroos                     |
## | 20 |        0 |       52 | Real Madrid | Pass   | [41.3, 54.8] | [34.4, 40.2]        | nan            | Raphaël Varane                 |
## | 21 |        0 |       55 | Real Madrid | Pass   | [39.1, 36.5] | [65.4, 13.1]        | nan            | Sergio Ramos García            |</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1"></a><span class="bu">print</span>(events_pn_Liv.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   minute |   second | team      | type   | location     | pass_end_location   | pass_outcome   | player                              |
## |---:|---------:|---------:|:----------|:-------|:-------------|:--------------------|:---------------|:------------------------------------|
## |  6 |        0 |        0 | Liverpool | Pass   | [60.0, 40.0] | [32.1, 41.2]        | nan            | James Philip Milner                 |
## |  7 |        0 |        3 | Liverpool | Pass   | [35.0, 40.8] | [92.7, 22.7]        | Incomplete     | Dejan Lovren                        |
## | 12 |        0 |       16 | Liverpool | Pass   | [76.5, 18.1] | [84.8, 9.5]         | nan            | Jordan Brian Henderson              |
## | 13 |        0 |       18 | Liverpool | Pass   | [84.4, 10.0] | [92.5, 19.1]        | nan            | Sadio Mané                          |
## | 14 |        0 |       19 | Liverpool | Pass   | [91.6, 21.3] | [90.6, 50.7]        | nan            | Roberto Firmino Barbosa de Oliveira |
## | 15 |        0 |       22 | Liverpool | Pass   | [92.2, 50.9] | [109.7, 46.4]       | Incomplete     | Mohamed Salah                       |
## | 25 |        1 |        7 | Liverpool | Pass   | [42.0, 75.9] | [115.6, 59.3]       | Incomplete     | Trent Alexander-Arnold              |
## | 37 |        2 |        0 | Liverpool | Pass   | [9.9, 39.1]  | [28.1, 4.2]         | nan            | Virgil van Dijk                     |
## | 38 |        2 |        3 | Liverpool | Pass   | [43.2, 2.8]  | [50.1, 4.8]         | Incomplete     | Andrew Robertson                    |
## | 39 |        2 |        7 | Liverpool | Pass   | [53.2, 0.1]  | [50.0, 4.0]         | nan            | Andrew Robertson                    |</code></pre>
<p>Let us now very carefully observe the datasets. Suppose from the <code>events_rn_Real</code> dataset, we are focusing on the second and the third row (index <code>1</code> and <code>2</code>). <code>Luka Modrić</code> makes the pass at around <code>0</code>th <code>minute</code> and <code>10</code>th <code>second</code> (Second row) and <code>Daniel Carvajal Ramos</code> receives the pass at around <code>0</code>th <code>minute</code> and <code>11</code>th <code>second</code> (third row). So in both the datasets we need to add two extra columns named as <code>pass_maker</code> and <code>pass_receiver</code>, where <code>pass_maker</code> column would be similar to <code>player</code> column and the <code>pass_receiver</code> column would be the <code>player</code> column whose index would be shifted by one place in the negative direction. This can be achieved by the <code>shift()</code> function provided by <code>pandas</code>. We will perform this operation on both <code>events_pn_Real</code> and <code>events_pn_Liv</code>.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1"></a>events_pn_Real[<span class="st">&#39;pass_maker&#39;</span>] <span class="op">=</span> events_pn_Real[<span class="st">&#39;player&#39;</span>]</span></code></pre></div>
<pre><code>## C:/Users/indra/AppData/Local/r-miniconda/envs/r-reticulate/python.exe:1: SettingWithCopyWarning: 
## A value is trying to be set on a copy of a slice from a DataFrame.
## Try using .loc[row_indexer,col_indexer] = value instead
## 
## See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1"></a>events_pn_Real[<span class="st">&#39;pass_receiver&#39;</span>] <span class="op">=</span> events_pn_Real[<span class="st">&#39;player&#39;</span>].shift(<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb49-2"><a href="#cb49-2"></a></span>
<span id="cb49-3"><a href="#cb49-3"></a>events_pn_Liv[<span class="st">&#39;pass_maker&#39;</span>] <span class="op">=</span> events_pn_Liv[<span class="st">&#39;player&#39;</span>]</span>
<span id="cb49-4"><a href="#cb49-4"></a>events_pn_Liv[<span class="st">&#39;pass_receiver&#39;</span>] <span class="op">=</span> events_pn_Liv[<span class="st">&#39;player&#39;</span>].shift(<span class="op">-</span><span class="dv">1</span>)</span></code></pre></div>
<p>Let us check now how the modified datasets look:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1"></a><span class="bu">print</span>(events_pn_Real.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   minute |   second | team        | type   | location     | pass_end_location   | pass_outcome   | player                         | pass_maker                     | pass_receiver                       |
## |---:|---------:|---------:|:------------|:-------|:-------------|:--------------------|:---------------|:-------------------------------|:-------------------------------|:------------------------------------|
## |  8 |        0 |        8 | Real Madrid | Pass   | [27.4, 60.2] | [36.1, 71.6]        | nan            | Raphaël Varane                 | Raphaël Varane                 | Luka Modrić                         |
## |  9 |        0 |       10 | Real Madrid | Pass   | [35.3, 75.4] | [22.4, 76.6]        | nan            | Luka Modrić                    | Luka Modrić                    | Daniel Carvajal Ramos               |
## | 10 |        0 |       11 | Real Madrid | Pass   | [22.3, 76.6] | [33.4, 68.0]        | nan            | Daniel Carvajal Ramos          | Daniel Carvajal Ramos          | Carlos Henrique Casimiro            |
## | 11 |        0 |       15 | Real Madrid | Pass   | [36.2, 75.3] | [43.6, 62.0]        | Incomplete     | Carlos Henrique Casimiro       | Carlos Henrique Casimiro       | Sergio Ramos García                 |
## | 16 |        0 |       25 | Real Madrid | Pass   | [14.7, 23.2] | [56.7, 6.2]         | Incomplete     | Sergio Ramos García            | Sergio Ramos García            | Marcelo Vieira da Silva Júnior      |
## | 17 |        0 |       40 | Real Madrid | Pass   | [57.5, 4.6]  | [49.2, 15.6]        | nan            | Marcelo Vieira da Silva Júnior | Marcelo Vieira da Silva Júnior | Carlos Henrique Casimiro            |
## | 18 |        0 |       43 | Real Madrid | Pass   | [48.8, 18.4] | [49.8, 12.5]        | nan            | Carlos Henrique Casimiro       | Carlos Henrique Casimiro       | Toni Kroos                          |
## | 19 |        0 |       46 | Real Madrid | Pass   | [48.8, 13.9] | [36.1, 56.3]        | nan            | Toni Kroos                     | Toni Kroos                     | Raphaël Varane                      |
## | 20 |        0 |       52 | Real Madrid | Pass   | [41.3, 54.8] | [34.4, 40.2]        | nan            | Raphaël Varane                 | Raphaël Varane                 | Sergio Ramos García                 |
## | 21 |        0 |       55 | Real Madrid | Pass   | [39.1, 36.5] | [65.4, 13.1]        | nan            | Sergio Ramos García            | Sergio Ramos García            | Cristiano Ronaldo dos Santos Aveiro |</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1"></a><span class="bu">print</span>(events_pn_Liv.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   minute |   second | team      | type   | location     | pass_end_location   | pass_outcome   | player                              | pass_maker                          | pass_receiver                       |
## |---:|---------:|---------:|:----------|:-------|:-------------|:--------------------|:---------------|:------------------------------------|:------------------------------------|:------------------------------------|
## |  6 |        0 |        0 | Liverpool | Pass   | [60.0, 40.0] | [32.1, 41.2]        | nan            | James Philip Milner                 | James Philip Milner                 | Dejan Lovren                        |
## |  7 |        0 |        3 | Liverpool | Pass   | [35.0, 40.8] | [92.7, 22.7]        | Incomplete     | Dejan Lovren                        | Dejan Lovren                        | Jordan Brian Henderson              |
## | 12 |        0 |       16 | Liverpool | Pass   | [76.5, 18.1] | [84.8, 9.5]         | nan            | Jordan Brian Henderson              | Jordan Brian Henderson              | Sadio Mané                          |
## | 13 |        0 |       18 | Liverpool | Pass   | [84.4, 10.0] | [92.5, 19.1]        | nan            | Sadio Mané                          | Sadio Mané                          | Roberto Firmino Barbosa de Oliveira |
## | 14 |        0 |       19 | Liverpool | Pass   | [91.6, 21.3] | [90.6, 50.7]        | nan            | Roberto Firmino Barbosa de Oliveira | Roberto Firmino Barbosa de Oliveira | Mohamed Salah                       |
## | 15 |        0 |       22 | Liverpool | Pass   | [92.2, 50.9] | [109.7, 46.4]       | Incomplete     | Mohamed Salah                       | Mohamed Salah                       | Trent Alexander-Arnold              |
## | 25 |        1 |        7 | Liverpool | Pass   | [42.0, 75.9] | [115.6, 59.3]       | Incomplete     | Trent Alexander-Arnold              | Trent Alexander-Arnold              | Virgil van Dijk                     |
## | 37 |        2 |        0 | Liverpool | Pass   | [9.9, 39.1]  | [28.1, 4.2]         | nan            | Virgil van Dijk                     | Virgil van Dijk                     | Andrew Robertson                    |
## | 38 |        2 |        3 | Liverpool | Pass   | [43.2, 2.8]  | [50.1, 4.8]         | Incomplete     | Andrew Robertson                    | Andrew Robertson                    | Andrew Robertson                    |
## | 39 |        2 |        7 | Liverpool | Pass   | [53.2, 0.1]  | [50.0, 4.0]         | nan            | Andrew Robertson                    | Andrew Robertson                    | James Philip Milner                 |</code></pre>
<p>Now, there might be passes which were not successful. Remember from the <a href="https://realsoccerexpand.netlify.app/post/pass-map-shot-map-and-heat-map/">third post</a> that in the statsbomb data passes whose <code>pass_outcome</code> are set as <code>nan</code> are actually the successful passes. We will again filter the datasets by successful passes:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1"></a>events_pn_Real <span class="op">=</span> events_pn_Real[events_pn_Real[<span class="st">&#39;pass_outcome&#39;</span>].isnull() <span class="op">==</span> <span class="va">True</span>].reset_index()</span>
<span id="cb54-2"><a href="#cb54-2"></a>events_pn_Liv <span class="op">=</span> events_pn_Liv[events_pn_Liv[<span class="st">&#39;pass_outcome&#39;</span>].isnull() <span class="op">==</span> <span class="va">True</span>].reset_index()</span></code></pre></div>
<p>The first 10 rows of the filtered datasets:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1"></a><span class="bu">print</span>(events_pn_Real.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   index |   minute |   second | team        | type   | location     | pass_end_location   |   pass_outcome | player                              | pass_maker                          | pass_receiver                       |
## |---:|--------:|---------:|---------:|:------------|:-------|:-------------|:--------------------|---------------:|:------------------------------------|:------------------------------------|:------------------------------------|
## |  0 |       8 |        0 |        8 | Real Madrid | Pass   | [27.4, 60.2] | [36.1, 71.6]        |            nan | Raphaël Varane                      | Raphaël Varane                      | Luka Modrić                         |
## |  1 |       9 |        0 |       10 | Real Madrid | Pass   | [35.3, 75.4] | [22.4, 76.6]        |            nan | Luka Modrić                         | Luka Modrić                         | Daniel Carvajal Ramos               |
## |  2 |      10 |        0 |       11 | Real Madrid | Pass   | [22.3, 76.6] | [33.4, 68.0]        |            nan | Daniel Carvajal Ramos               | Daniel Carvajal Ramos               | Carlos Henrique Casimiro            |
## |  3 |      17 |        0 |       40 | Real Madrid | Pass   | [57.5, 4.6]  | [49.2, 15.6]        |            nan | Marcelo Vieira da Silva Júnior      | Marcelo Vieira da Silva Júnior      | Carlos Henrique Casimiro            |
## |  4 |      18 |        0 |       43 | Real Madrid | Pass   | [48.8, 18.4] | [49.8, 12.5]        |            nan | Carlos Henrique Casimiro            | Carlos Henrique Casimiro            | Toni Kroos                          |
## |  5 |      19 |        0 |       46 | Real Madrid | Pass   | [48.8, 13.9] | [36.1, 56.3]        |            nan | Toni Kroos                          | Toni Kroos                          | Raphaël Varane                      |
## |  6 |      20 |        0 |       52 | Real Madrid | Pass   | [41.3, 54.8] | [34.4, 40.2]        |            nan | Raphaël Varane                      | Raphaël Varane                      | Sergio Ramos García                 |
## |  7 |      21 |        0 |       55 | Real Madrid | Pass   | [39.1, 36.5] | [65.4, 13.1]        |            nan | Sergio Ramos García                 | Sergio Ramos García                 | Cristiano Ronaldo dos Santos Aveiro |
## |  8 |      22 |        0 |       58 | Real Madrid | Pass   | [64.5, 11.1] | [54.2, 5.6]         |            nan | Cristiano Ronaldo dos Santos Aveiro | Cristiano Ronaldo dos Santos Aveiro | Marcelo Vieira da Silva Júnior      |
## |  9 |      23 |        0 |       59 | Real Madrid | Pass   | [55.3, 5.5]  | [83.9, 4.3]         |            nan | Marcelo Vieira da Silva Júnior      | Marcelo Vieira da Silva Júnior      | Karim Benzema                       |</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1"></a><span class="bu">print</span>(events_pn_Liv.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   index |   minute |   second | team      | type   | location     | pass_end_location   |   pass_outcome | player                              | pass_maker                          | pass_receiver                       |
## |---:|--------:|---------:|---------:|:----------|:-------|:-------------|:--------------------|---------------:|:------------------------------------|:------------------------------------|:------------------------------------|
## |  0 |       6 |        0 |        0 | Liverpool | Pass   | [60.0, 40.0] | [32.1, 41.2]        |            nan | James Philip Milner                 | James Philip Milner                 | Dejan Lovren                        |
## |  1 |      12 |        0 |       16 | Liverpool | Pass   | [76.5, 18.1] | [84.8, 9.5]         |            nan | Jordan Brian Henderson              | Jordan Brian Henderson              | Sadio Mané                          |
## |  2 |      13 |        0 |       18 | Liverpool | Pass   | [84.4, 10.0] | [92.5, 19.1]        |            nan | Sadio Mané                          | Sadio Mané                          | Roberto Firmino Barbosa de Oliveira |
## |  3 |      14 |        0 |       19 | Liverpool | Pass   | [91.6, 21.3] | [90.6, 50.7]        |            nan | Roberto Firmino Barbosa de Oliveira | Roberto Firmino Barbosa de Oliveira | Mohamed Salah                       |
## |  4 |      37 |        2 |        0 | Liverpool | Pass   | [9.9, 39.1]  | [28.1, 4.2]         |            nan | Virgil van Dijk                     | Virgil van Dijk                     | Andrew Robertson                    |
## |  5 |      39 |        2 |        7 | Liverpool | Pass   | [53.2, 0.1]  | [50.0, 4.0]         |            nan | Andrew Robertson                    | Andrew Robertson                    | James Philip Milner                 |
## |  6 |      40 |        2 |       10 | Liverpool | Pass   | [45.5, 4.0]  | [27.4, 16.8]        |            nan | James Philip Milner                 | James Philip Milner                 | Virgil van Dijk                     |
## |  7 |      41 |        2 |       13 | Liverpool | Pass   | [26.7, 19.6] | [27.8, 47.3]        |            nan | Virgil van Dijk                     | Virgil van Dijk                     | Dejan Lovren                        |
## |  8 |      42 |        2 |       16 | Liverpool | Pass   | [28.0, 45.4] | [28.4, 21.4]        |            nan | Dejan Lovren                        | Dejan Lovren                        | Virgil van Dijk                     |
## |  9 |      43 |        2 |       19 | Liverpool | Pass   | [30.4, 25.7] | [30.7, 52.9]        |            nan | Virgil van Dijk                     | Virgil van Dijk                     | Dejan Lovren                        |</code></pre>
<p>So it seems we have been able to logically clean and modify the datasets. Now we are only focused on building the pass netwrok among the players who were in the starting 11 from both the teams. So we will discard out the rows which consist of pass events that took place after the first substitution for either of the teams. Let us find the <code>minute</code> and <code>second</code> of the first substitution for both <code>Real Madrid</code> and <code>Liverpool</code>.</p>
<p>So let us filter the datasets <code>events_Real</code> and <code>events_Liv</code> by setting the <code>type</code> to be <code>Substitution</code>. This will give us the information of when the first substitution had taken place for the teams.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1"></a>substitution_Real <span class="op">=</span> events_Real[events_Real[<span class="st">&#39;type&#39;</span>] <span class="op">==</span> <span class="st">&#39;Substitution&#39;</span>]</span>
<span id="cb59-2"><a href="#cb59-2"></a>substitution_Liv <span class="op">=</span> events_Liv[events_Liv[<span class="st">&#39;type&#39;</span>] <span class="op">==</span> <span class="st">&#39;Substitution&#39;</span>]</span></code></pre></div>
<p>And let us view the datasets:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1"></a><span class="bu">print</span>(substitution_Real.to_markdown())</span></code></pre></div>
<pre><code>## |      |   minute |   second | team        | type         |   location |   pass_end_location |   pass_outcome | player                         |
## |-----:|---------:|---------:|:------------|:-------------|-----------:|--------------------:|---------------:|:-------------------------------|
## | 3485 |       36 |       17 | Real Madrid | Substitution |        nan |                 nan |            nan | Daniel Carvajal Ramos          |
## | 3486 |       60 |       56 | Real Madrid | Substitution |        nan |                 nan |            nan | Francisco Román Alarcón Suárez |
## | 3488 |       88 |       21 | Real Madrid | Substitution |        nan |                 nan |            nan | Karim Benzema                  |</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1"></a><span class="bu">print</span>(substitution_Liv.to_markdown())</span></code></pre></div>
<pre><code>## |      |   minute |   second | team      | type         |   location |   pass_end_location |   pass_outcome | player              |
## |-----:|---------:|---------:|:----------|:-------------|-----------:|--------------------:|---------------:|:--------------------|
## | 3484 |       29 |       39 | Liverpool | Substitution |        nan |                 nan |            nan | Mohamed Salah       |
## | 3487 |       82 |       27 | Liverpool | Substitution |        nan |                 nan |            nan | James Philip Milner |</code></pre>
<p>We see that the first substitution takes place for <code>Real Madrid</code> at the <code>36</code>th minute and <code>17</code>th second, whereas for <code>Liverpool</code> it takes place around <code>29</code>th minute and <code>39</code>th second. Let us find these out by writing a small Python code:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1"></a>substitution_Real_minute <span class="op">=</span> np.<span class="bu">min</span>(substitution_Real[<span class="st">&#39;minute&#39;</span>])</span>
<span id="cb64-2"><a href="#cb64-2"></a>substitution_Real_minute_data <span class="op">=</span> substitution_Real[substitution_Real[<span class="st">&#39;minute&#39;</span>] <span class="op">==</span> substitution_Real_minute]</span>
<span id="cb64-3"><a href="#cb64-3"></a>substitution_Real_second <span class="op">=</span> np.<span class="bu">min</span>(substitution_Real_minute_data[<span class="st">&#39;second&#39;</span>])</span>
<span id="cb64-4"><a href="#cb64-4"></a><span class="bu">print</span>(<span class="st">&quot;minute =&quot;</span>, substitution_Real_minute, <span class="st">&quot;second =&quot;</span>,  substitution_Real_second)</span></code></pre></div>
<pre><code>## minute = 36 second = 17</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1"></a>substitution_Liv_minute <span class="op">=</span> np.<span class="bu">min</span>(substitution_Liv[<span class="st">&#39;minute&#39;</span>])</span>
<span id="cb66-2"><a href="#cb66-2"></a>substitution_Liv_minute_data <span class="op">=</span> substitution_Liv[substitution_Liv[<span class="st">&#39;minute&#39;</span>] <span class="op">==</span> substitution_Liv_minute]</span>
<span id="cb66-3"><a href="#cb66-3"></a>substitution_Liv_second <span class="op">=</span> np.<span class="bu">min</span>(substitution_Liv_minute_data[<span class="st">&#39;second&#39;</span>])</span>
<span id="cb66-4"><a href="#cb66-4"></a><span class="bu">print</span>(<span class="st">&quot;minute = &quot;</span>, substitution_Liv_minute, <span class="st">&quot;second = &quot;</span>, substitution_Liv_second)</span></code></pre></div>
<pre><code>## minute =  29 second =  39</code></pre>
<p>We see that we have gotten the correct timings of when the first substitutions had taken place. Now we filter our datasets by taking tose pass events that took place before the first substitutions</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1"></a>events_pn_Real <span class="op">=</span> events_pn_Real[(events_pn_Real[<span class="st">&#39;minute&#39;</span>] <span class="op">&lt;=</span> substitution_Real_minute)]</span>
<span id="cb68-2"><a href="#cb68-2"></a></span>
<span id="cb68-3"><a href="#cb68-3"></a>events_pn_Liv <span class="op">=</span> events_pn_Liv[(events_pn_Liv[<span class="st">&#39;minute&#39;</span>] <span class="op">&lt;=</span> substitution_Liv_minute)]</span></code></pre></div>
<p>Let us again print the first 10 rows of the renewed datasets:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1"></a><span class="bu">print</span>(events_pn_Real.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   index |   minute |   second | team        | type   | location     | pass_end_location   |   pass_outcome | player                              | pass_maker                          | pass_receiver                       |
## |---:|--------:|---------:|---------:|:------------|:-------|:-------------|:--------------------|---------------:|:------------------------------------|:------------------------------------|:------------------------------------|
## |  0 |       8 |        0 |        8 | Real Madrid | Pass   | [27.4, 60.2] | [36.1, 71.6]        |            nan | Raphaël Varane                      | Raphaël Varane                      | Luka Modrić                         |
## |  1 |       9 |        0 |       10 | Real Madrid | Pass   | [35.3, 75.4] | [22.4, 76.6]        |            nan | Luka Modrić                         | Luka Modrić                         | Daniel Carvajal Ramos               |
## |  2 |      10 |        0 |       11 | Real Madrid | Pass   | [22.3, 76.6] | [33.4, 68.0]        |            nan | Daniel Carvajal Ramos               | Daniel Carvajal Ramos               | Carlos Henrique Casimiro            |
## |  3 |      17 |        0 |       40 | Real Madrid | Pass   | [57.5, 4.6]  | [49.2, 15.6]        |            nan | Marcelo Vieira da Silva Júnior      | Marcelo Vieira da Silva Júnior      | Carlos Henrique Casimiro            |
## |  4 |      18 |        0 |       43 | Real Madrid | Pass   | [48.8, 18.4] | [49.8, 12.5]        |            nan | Carlos Henrique Casimiro            | Carlos Henrique Casimiro            | Toni Kroos                          |
## |  5 |      19 |        0 |       46 | Real Madrid | Pass   | [48.8, 13.9] | [36.1, 56.3]        |            nan | Toni Kroos                          | Toni Kroos                          | Raphaël Varane                      |
## |  6 |      20 |        0 |       52 | Real Madrid | Pass   | [41.3, 54.8] | [34.4, 40.2]        |            nan | Raphaël Varane                      | Raphaël Varane                      | Sergio Ramos García                 |
## |  7 |      21 |        0 |       55 | Real Madrid | Pass   | [39.1, 36.5] | [65.4, 13.1]        |            nan | Sergio Ramos García                 | Sergio Ramos García                 | Cristiano Ronaldo dos Santos Aveiro |
## |  8 |      22 |        0 |       58 | Real Madrid | Pass   | [64.5, 11.1] | [54.2, 5.6]         |            nan | Cristiano Ronaldo dos Santos Aveiro | Cristiano Ronaldo dos Santos Aveiro | Marcelo Vieira da Silva Júnior      |
## |  9 |      23 |        0 |       59 | Real Madrid | Pass   | [55.3, 5.5]  | [83.9, 4.3]         |            nan | Marcelo Vieira da Silva Júnior      | Marcelo Vieira da Silva Júnior      | Karim Benzema                       |</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1"></a><span class="bu">print</span>(events_pn_Liv.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   index |   minute |   second | team      | type   | location     | pass_end_location   |   pass_outcome | player                              | pass_maker                          | pass_receiver                       |
## |---:|--------:|---------:|---------:|:----------|:-------|:-------------|:--------------------|---------------:|:------------------------------------|:------------------------------------|:------------------------------------|
## |  0 |       6 |        0 |        0 | Liverpool | Pass   | [60.0, 40.0] | [32.1, 41.2]        |            nan | James Philip Milner                 | James Philip Milner                 | Dejan Lovren                        |
## |  1 |      12 |        0 |       16 | Liverpool | Pass   | [76.5, 18.1] | [84.8, 9.5]         |            nan | Jordan Brian Henderson              | Jordan Brian Henderson              | Sadio Mané                          |
## |  2 |      13 |        0 |       18 | Liverpool | Pass   | [84.4, 10.0] | [92.5, 19.1]        |            nan | Sadio Mané                          | Sadio Mané                          | Roberto Firmino Barbosa de Oliveira |
## |  3 |      14 |        0 |       19 | Liverpool | Pass   | [91.6, 21.3] | [90.6, 50.7]        |            nan | Roberto Firmino Barbosa de Oliveira | Roberto Firmino Barbosa de Oliveira | Mohamed Salah                       |
## |  4 |      37 |        2 |        0 | Liverpool | Pass   | [9.9, 39.1]  | [28.1, 4.2]         |            nan | Virgil van Dijk                     | Virgil van Dijk                     | Andrew Robertson                    |
## |  5 |      39 |        2 |        7 | Liverpool | Pass   | [53.2, 0.1]  | [50.0, 4.0]         |            nan | Andrew Robertson                    | Andrew Robertson                    | James Philip Milner                 |
## |  6 |      40 |        2 |       10 | Liverpool | Pass   | [45.5, 4.0]  | [27.4, 16.8]        |            nan | James Philip Milner                 | James Philip Milner                 | Virgil van Dijk                     |
## |  7 |      41 |        2 |       13 | Liverpool | Pass   | [26.7, 19.6] | [27.8, 47.3]        |            nan | Virgil van Dijk                     | Virgil van Dijk                     | Dejan Lovren                        |
## |  8 |      42 |        2 |       16 | Liverpool | Pass   | [28.0, 45.4] | [28.4, 21.4]        |            nan | Dejan Lovren                        | Dejan Lovren                        | Virgil van Dijk                     |
## |  9 |      43 |        2 |       19 | Liverpool | Pass   | [30.4, 25.7] | [30.7, 52.9]        |            nan | Virgil van Dijk                     | Virgil van Dijk                     | Dejan Lovren                        |</code></pre>
<p>Now from the datasets, we will split the <code>location</code> and the <code>pass_end_location</code> columns into two columns each representing the coordinates and name them as <code>pass_maker_x</code>, <code>pass_maker_y</code>, <code>pass_receiver_x</code> and <code>pass_receiver_y</code>.</p>
<p>Let us manipulate the dataset for <code>Real Madrid</code> first:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1"></a>Loc <span class="op">=</span> events_pn_Real[<span class="st">&#39;location&#39;</span>]</span>
<span id="cb73-2"><a href="#cb73-2"></a>Loc <span class="op">=</span> pd.DataFrame(Loc.to_list(), columns<span class="op">=</span>[<span class="st">&#39;pass_maker_x&#39;</span>, <span class="st">&#39;pass_maker_y&#39;</span>])</span>
<span id="cb73-3"><a href="#cb73-3"></a></span>
<span id="cb73-4"><a href="#cb73-4"></a>Loc_end <span class="op">=</span> events_pn_Real[<span class="st">&#39;pass_end_location&#39;</span>]</span>
<span id="cb73-5"><a href="#cb73-5"></a>Loc_end <span class="op">=</span> pd.DataFrame(Loc_end.to_list(), columns<span class="op">=</span>[<span class="st">&#39;pass_receiver_x&#39;</span>, <span class="st">&#39;pass_receiver_y&#39;</span>])</span>
<span id="cb73-6"><a href="#cb73-6"></a></span>
<span id="cb73-7"><a href="#cb73-7"></a>events_pn_Real[<span class="st">&#39;pass_maker_x&#39;</span>] <span class="op">=</span> Loc[<span class="st">&#39;pass_maker_x&#39;</span>]</span>
<span id="cb73-8"><a href="#cb73-8"></a>events_pn_Real[<span class="st">&#39;pass_maker_y&#39;</span>] <span class="op">=</span> Loc[<span class="st">&#39;pass_maker_y&#39;</span>]</span>
<span id="cb73-9"><a href="#cb73-9"></a>events_pn_Real[<span class="st">&#39;pass_receiver_x&#39;</span>] <span class="op">=</span> Loc_end[<span class="st">&#39;pass_receiver_x&#39;</span>]</span>
<span id="cb73-10"><a href="#cb73-10"></a>events_pn_Real[<span class="st">&#39;pass_receiver_y&#39;</span>] <span class="op">=</span> Loc_end[<span class="st">&#39;pass_receiver_y&#39;</span>]</span>
<span id="cb73-11"><a href="#cb73-11"></a></span>
<span id="cb73-12"><a href="#cb73-12"></a>events_pn_Real <span class="op">=</span> events_pn_Real[[<span class="st">&#39;index&#39;</span>, <span class="st">&#39;minute&#39;</span>, <span class="st">&#39;second&#39;</span>, <span class="st">&#39;team&#39;</span>, <span class="st">&#39;type&#39;</span>, <span class="st">&#39;pass_outcome&#39;</span>, <span class="st">&#39;player&#39;</span>, <span class="st">&#39;pass_maker&#39;</span>, <span class="st">&#39;pass_receiver&#39;</span>, <span class="st">&#39;pass_maker_x&#39;</span>, <span class="st">&#39;pass_maker_y&#39;</span>, <span class="st">&#39;pass_receiver_x&#39;</span>, <span class="st">&#39;pass_receiver_y&#39;</span>]]</span>
<span id="cb73-13"><a href="#cb73-13"></a></span>
<span id="cb73-14"><a href="#cb73-14"></a><span class="bu">print</span>(events_pn_Real.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   index |   minute |   second | team        | type   |   pass_outcome | player                              | pass_maker                          | pass_receiver                       |   pass_maker_x |   pass_maker_y |   pass_receiver_x |   pass_receiver_y |
## |---:|--------:|---------:|---------:|:------------|:-------|---------------:|:------------------------------------|:------------------------------------|:------------------------------------|---------------:|---------------:|------------------:|------------------:|
## |  0 |       8 |        0 |        8 | Real Madrid | Pass   |            nan | Raphaël Varane                      | Raphaël Varane                      | Luka Modrić                         |           27.4 |           60.2 |              36.1 |              71.6 |
## |  1 |       9 |        0 |       10 | Real Madrid | Pass   |            nan | Luka Modrić                         | Luka Modrić                         | Daniel Carvajal Ramos               |           35.3 |           75.4 |              22.4 |              76.6 |
## |  2 |      10 |        0 |       11 | Real Madrid | Pass   |            nan | Daniel Carvajal Ramos               | Daniel Carvajal Ramos               | Carlos Henrique Casimiro            |           22.3 |           76.6 |              33.4 |              68   |
## |  3 |      17 |        0 |       40 | Real Madrid | Pass   |            nan | Marcelo Vieira da Silva Júnior      | Marcelo Vieira da Silva Júnior      | Carlos Henrique Casimiro            |           57.5 |            4.6 |              49.2 |              15.6 |
## |  4 |      18 |        0 |       43 | Real Madrid | Pass   |            nan | Carlos Henrique Casimiro            | Carlos Henrique Casimiro            | Toni Kroos                          |           48.8 |           18.4 |              49.8 |              12.5 |
## |  5 |      19 |        0 |       46 | Real Madrid | Pass   |            nan | Toni Kroos                          | Toni Kroos                          | Raphaël Varane                      |           48.8 |           13.9 |              36.1 |              56.3 |
## |  6 |      20 |        0 |       52 | Real Madrid | Pass   |            nan | Raphaël Varane                      | Raphaël Varane                      | Sergio Ramos García                 |           41.3 |           54.8 |              34.4 |              40.2 |
## |  7 |      21 |        0 |       55 | Real Madrid | Pass   |            nan | Sergio Ramos García                 | Sergio Ramos García                 | Cristiano Ronaldo dos Santos Aveiro |           39.1 |           36.5 |              65.4 |              13.1 |
## |  8 |      22 |        0 |       58 | Real Madrid | Pass   |            nan | Cristiano Ronaldo dos Santos Aveiro | Cristiano Ronaldo dos Santos Aveiro | Marcelo Vieira da Silva Júnior      |           64.5 |           11.1 |              54.2 |               5.6 |
## |  9 |      23 |        0 |       59 | Real Madrid | Pass   |            nan | Marcelo Vieira da Silva Júnior      | Marcelo Vieira da Silva Júnior      | Karim Benzema                       |           55.3 |            5.5 |              83.9 |               4.3 |</code></pre>
<p>Same manipulation for Liverpool:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1"></a>Loc <span class="op">=</span> events_pn_Liv[<span class="st">&#39;location&#39;</span>]</span>
<span id="cb75-2"><a href="#cb75-2"></a>Loc <span class="op">=</span> pd.DataFrame(Loc.to_list(), columns<span class="op">=</span>[<span class="st">&#39;pass_maker_x&#39;</span>, <span class="st">&#39;pass_maker_y&#39;</span>])</span>
<span id="cb75-3"><a href="#cb75-3"></a></span>
<span id="cb75-4"><a href="#cb75-4"></a>Loc_end <span class="op">=</span> events_pn_Liv[<span class="st">&#39;pass_end_location&#39;</span>]</span>
<span id="cb75-5"><a href="#cb75-5"></a>Loc_end <span class="op">=</span> pd.DataFrame(Loc_end.to_list(), columns<span class="op">=</span>[<span class="st">&#39;pass_receiver_x&#39;</span>, <span class="st">&#39;pass_receiver_y&#39;</span>])</span>
<span id="cb75-6"><a href="#cb75-6"></a></span>
<span id="cb75-7"><a href="#cb75-7"></a>events_pn_Liv[<span class="st">&#39;pass_maker_x&#39;</span>] <span class="op">=</span> Loc[<span class="st">&#39;pass_maker_x&#39;</span>]</span>
<span id="cb75-8"><a href="#cb75-8"></a>events_pn_Liv[<span class="st">&#39;pass_maker_y&#39;</span>] <span class="op">=</span> Loc[<span class="st">&#39;pass_maker_y&#39;</span>]</span>
<span id="cb75-9"><a href="#cb75-9"></a>events_pn_Liv[<span class="st">&#39;pass_receiver_x&#39;</span>] <span class="op">=</span> Loc_end[<span class="st">&#39;pass_receiver_x&#39;</span>]</span>
<span id="cb75-10"><a href="#cb75-10"></a>events_pn_Liv[<span class="st">&#39;pass_receiver_y&#39;</span>] <span class="op">=</span> Loc_end[<span class="st">&#39;pass_receiver_y&#39;</span>]</span>
<span id="cb75-11"><a href="#cb75-11"></a></span>
<span id="cb75-12"><a href="#cb75-12"></a>events_pn_Liv <span class="op">=</span> events_pn_Liv[[<span class="st">&#39;index&#39;</span>, <span class="st">&#39;minute&#39;</span>, <span class="st">&#39;second&#39;</span>, <span class="st">&#39;team&#39;</span>, <span class="st">&#39;type&#39;</span>, <span class="st">&#39;pass_outcome&#39;</span>, <span class="st">&#39;player&#39;</span>, <span class="st">&#39;pass_maker&#39;</span>, <span class="st">&#39;pass_receiver&#39;</span>, <span class="st">&#39;pass_maker_x&#39;</span>, <span class="st">&#39;pass_maker_y&#39;</span>, <span class="st">&#39;pass_receiver_x&#39;</span>, <span class="st">&#39;pass_receiver_y&#39;</span>]]</span>
<span id="cb75-13"><a href="#cb75-13"></a></span>
<span id="cb75-14"><a href="#cb75-14"></a><span class="bu">print</span>(events_pn_Liv.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   index |   minute |   second | team      | type   |   pass_outcome | player                              | pass_maker                          | pass_receiver                       |   pass_maker_x |   pass_maker_y |   pass_receiver_x |   pass_receiver_y |
## |---:|--------:|---------:|---------:|:----------|:-------|---------------:|:------------------------------------|:------------------------------------|:------------------------------------|---------------:|---------------:|------------------:|------------------:|
## |  0 |       6 |        0 |        0 | Liverpool | Pass   |            nan | James Philip Milner                 | James Philip Milner                 | Dejan Lovren                        |           60   |           40   |              32.1 |              41.2 |
## |  1 |      12 |        0 |       16 | Liverpool | Pass   |            nan | Jordan Brian Henderson              | Jordan Brian Henderson              | Sadio Mané                          |           76.5 |           18.1 |              84.8 |               9.5 |
## |  2 |      13 |        0 |       18 | Liverpool | Pass   |            nan | Sadio Mané                          | Sadio Mané                          | Roberto Firmino Barbosa de Oliveira |           84.4 |           10   |              92.5 |              19.1 |
## |  3 |      14 |        0 |       19 | Liverpool | Pass   |            nan | Roberto Firmino Barbosa de Oliveira | Roberto Firmino Barbosa de Oliveira | Mohamed Salah                       |           91.6 |           21.3 |              90.6 |              50.7 |
## |  4 |      37 |        2 |        0 | Liverpool | Pass   |            nan | Virgil van Dijk                     | Virgil van Dijk                     | Andrew Robertson                    |            9.9 |           39.1 |              28.1 |               4.2 |
## |  5 |      39 |        2 |        7 | Liverpool | Pass   |            nan | Andrew Robertson                    | Andrew Robertson                    | James Philip Milner                 |           53.2 |            0.1 |              50   |               4   |
## |  6 |      40 |        2 |       10 | Liverpool | Pass   |            nan | James Philip Milner                 | James Philip Milner                 | Virgil van Dijk                     |           45.5 |            4   |              27.4 |              16.8 |
## |  7 |      41 |        2 |       13 | Liverpool | Pass   |            nan | Virgil van Dijk                     | Virgil van Dijk                     | Dejan Lovren                        |           26.7 |           19.6 |              27.8 |              47.3 |
## |  8 |      42 |        2 |       16 | Liverpool | Pass   |            nan | Dejan Lovren                        | Dejan Lovren                        | Virgil van Dijk                     |           28   |           45.4 |              28.4 |              21.4 |
## |  9 |      43 |        2 |       19 | Liverpool | Pass   |            nan | Virgil van Dijk                     | Virgil van Dijk                     | Dejan Lovren                        |           30.4 |           25.7 |              30.7 |              52.9 |</code></pre>
<p>Inspired by the way given <a href="https://mplsoccer.readthedocs.io/en/latest/gallery/pitch_plots/plot_pass_network.html">here</a>, we will take the average locations of the starting 11 players on the field for a unified construction of the pass network, and also will count the number of passes created by these player:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1"></a>av_loc_Real <span class="op">=</span> events_pn_Real.groupby(<span class="st">&#39;pass_maker&#39;</span>).agg({<span class="st">&#39;pass_maker_x&#39;</span>:[<span class="st">&#39;mean&#39;</span>], <span class="st">&#39;pass_maker_y&#39;</span>:[<span class="st">&#39;mean&#39;</span>, <span class="st">&#39;count&#39;</span>]})</span>
<span id="cb77-2"><a href="#cb77-2"></a><span class="bu">print</span>(av_loc_Real.to_markdown())</span></code></pre></div>
<pre><code>## | pass_maker                          |   (&#39;pass_maker_x&#39;, &#39;mean&#39;) |   (&#39;pass_maker_y&#39;, &#39;mean&#39;) |   (&#39;pass_maker_y&#39;, &#39;count&#39;) |
## |:------------------------------------|---------------------------:|---------------------------:|----------------------------:|
## | Carlos Henrique Casimiro            |                    60.8455 |                    31.8364 |                          11 |
## | Cristiano Ronaldo dos Santos Aveiro |                    81.58   |                    29.16   |                          10 |
## | Daniel Carvajal Ramos               |                    64.3417 |                    73.875  |                          24 |
## | Francisco Román Alarcón Suárez      |                    62.3235 |                    27.0824 |                          17 |
## | Karim Benzema                       |                    65.0818 |                    27.9364 |                          11 |
## | Keylor Navas Gamboa                 |                    10.87   |                    41.81   |                          10 |
## | Luka Modrić                         |                    60.6048 |                    55.0286 |                          21 |
## | Marcelo Vieira da Silva Júnior      |                    59.8652 |                    11.1304 |                          23 |
## | Raphaël Varane                      |                    37.4364 |                    58.3545 |                          22 |
## | Sergio Ramos García                 |                    41.2824 |                    24.5147 |                          34 |
## | Toni Kroos                          |                    51.19   |                    24.275  |                          40 |</code></pre>
<p>As we see the <code>groupby()</code> function from <code>pandas</code> splits <code>events_pn_Real</code> into groups indexed by the player names. Whereas, the <code>agg()</code> function aggregates the data into the averages of the pass makers’ locations and also counts the number of passes made by these players. Now refine the column names of <code>av_loc_Real</code>:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1"></a>av_loc_Real.columns <span class="op">=</span> [<span class="st">&#39;pass_maker_x&#39;</span>, <span class="st">&#39;pass_maker_y&#39;</span>, <span class="st">&#39;count&#39;</span>]</span>
<span id="cb79-2"><a href="#cb79-2"></a><span class="bu">print</span>(av_loc_Real.to_markdown())</span></code></pre></div>
<pre><code>## | pass_maker                          |   pass_maker_x |   pass_maker_y |   count |
## |:------------------------------------|---------------:|---------------:|--------:|
## | Carlos Henrique Casimiro            |        60.8455 |        31.8364 |      11 |
## | Cristiano Ronaldo dos Santos Aveiro |        81.58   |        29.16   |      10 |
## | Daniel Carvajal Ramos               |        64.3417 |        73.875  |      24 |
## | Francisco Román Alarcón Suárez      |        62.3235 |        27.0824 |      17 |
## | Karim Benzema                       |        65.0818 |        27.9364 |      11 |
## | Keylor Navas Gamboa                 |        10.87   |        41.81   |      10 |
## | Luka Modrić                         |        60.6048 |        55.0286 |      21 |
## | Marcelo Vieira da Silva Júnior      |        59.8652 |        11.1304 |      23 |
## | Raphaël Varane                      |        37.4364 |        58.3545 |      22 |
## | Sergio Ramos García                 |        41.2824 |        24.5147 |      34 |
## | Toni Kroos                          |        51.19   |        24.275  |      40 |</code></pre>
<p>Now do the same operations for <code>Liverpool</code>:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1"></a>av_loc_Liv <span class="op">=</span> events_pn_Liv.groupby(<span class="st">&#39;pass_maker&#39;</span>).agg({<span class="st">&#39;pass_maker_x&#39;</span>:[<span class="st">&#39;mean&#39;</span>], <span class="st">&#39;pass_maker_y&#39;</span>:[<span class="st">&#39;mean&#39;</span>, <span class="st">&#39;count&#39;</span>]})</span>
<span id="cb81-2"><a href="#cb81-2"></a>av_loc_Liv.columns <span class="op">=</span> [<span class="st">&#39;pass_maker_x&#39;</span>, <span class="st">&#39;pass_maker_y&#39;</span>, <span class="st">&#39;count&#39;</span>]</span>
<span id="cb81-3"><a href="#cb81-3"></a><span class="bu">print</span>(av_loc_Liv.to_markdown())</span></code></pre></div>
<pre><code>## | pass_maker                          |   pass_maker_x |   pass_maker_y |   count |
## |:------------------------------------|---------------:|---------------:|--------:|
## | Andrew Robertson                    |        59.8154 |        6.83077 |      13 |
## | Dejan Lovren                        |        41.6909 |       60.1727  |      11 |
## | Georginio Wijnaldum                 |        76.3909 |       28.5182  |      11 |
## | James Philip Milner                 |        72.3533 |       36.1533  |      15 |
## | Jordan Brian Henderson              |        61.0353 |       37.1529  |      17 |
## | Loris Karius                        |        12.9143 |       40.3857  |       7 |
## | Mohamed Salah                       |        77.55   |       64.71    |      10 |
## | Roberto Firmino Barbosa de Oliveira |        78.25   |       43.57    |      10 |
## | Sadio Mané                          |        86.275  |       22.075   |       4 |
## | Trent Alexander-Arnold              |        64.6667 |       72.55    |      12 |
## | Virgil van Dijk                     |        43.3667 |       25.4333  |       9 |</code></pre>
<p>Once we sort out the starting 11 pass makers’ average locations in a game, we will try to figure out the number of times a particular pass maker passed the ball to a particular pass receiver (be cautious to keep the direction of pass in mind, i.e, a pass from a player <code>A</code> to a player <code>B</code> is not identical to a pass from player <code>B</code> to player <code>A</code>). We will use the <code>groupby()</code> and the <code>count()</code> function to count the number of rows where a unique player <code>A</code> passed the ball to another unique player <code>B</code>.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1"></a>pass_Real <span class="op">=</span> events_pn_Real.groupby([<span class="st">&#39;pass_maker&#39;</span>, <span class="st">&#39;pass_receiver&#39;</span>]).index.count().reset_index()</span>
<span id="cb83-2"><a href="#cb83-2"></a><span class="bu">print</span>(pass_Real.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    | pass_maker                          | pass_receiver                  |   index |
## |---:|:------------------------------------|:-------------------------------|--------:|
## |  0 | Carlos Henrique Casimiro            | Daniel Carvajal Ramos          |       1 |
## |  1 | Carlos Henrique Casimiro            | Luka Modrić                    |       1 |
## |  2 | Carlos Henrique Casimiro            | Marcelo Vieira da Silva Júnior |       1 |
## |  3 | Carlos Henrique Casimiro            | Raphaël Varane                 |       1 |
## |  4 | Carlos Henrique Casimiro            | Sergio Ramos García            |       1 |
## |  5 | Carlos Henrique Casimiro            | Toni Kroos                     |       6 |
## |  6 | Cristiano Ronaldo dos Santos Aveiro | Daniel Carvajal Ramos          |       3 |
## |  7 | Cristiano Ronaldo dos Santos Aveiro | Karim Benzema                  |       1 |
## |  8 | Cristiano Ronaldo dos Santos Aveiro | Luka Modrić                    |       1 |
## |  9 | Cristiano Ronaldo dos Santos Aveiro | Marcelo Vieira da Silva Júnior |       4 |</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1"></a>pass_Liv <span class="op">=</span> events_pn_Liv.groupby([<span class="st">&#39;pass_maker&#39;</span>, <span class="st">&#39;pass_receiver&#39;</span>]).index.count().reset_index()</span>
<span id="cb85-2"><a href="#cb85-2"></a><span class="bu">print</span>(pass_Liv.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    | pass_maker       | pass_receiver                       |   index |
## |---:|:-----------------|:------------------------------------|--------:|
## |  0 | Andrew Robertson | Andrew Robertson                    |       1 |
## |  1 | Andrew Robertson | Georginio Wijnaldum                 |       3 |
## |  2 | Andrew Robertson | James Philip Milner                 |       3 |
## |  3 | Andrew Robertson | Jordan Brian Henderson              |       2 |
## |  4 | Andrew Robertson | Roberto Firmino Barbosa de Oliveira |       2 |
## |  5 | Andrew Robertson | Virgil van Dijk                     |       2 |
## |  6 | Dejan Lovren     | James Philip Milner                 |       1 |
## |  7 | Dejan Lovren     | Jordan Brian Henderson              |       1 |
## |  8 | Dejan Lovren     | Loris Karius                        |       2 |
## |  9 | Dejan Lovren     | Mohamed Salah                       |       1 |</code></pre>
<p>Let’s rename the <code>index</code> column to <code>number_of_passes</code>:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1"></a>pass_Real.rename(columns <span class="op">=</span> {<span class="st">&#39;index&#39;</span>:<span class="st">&#39;number_of_passes&#39;</span>}, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb87-2"><a href="#cb87-2"></a><span class="bu">print</span>(pass_Real.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    | pass_maker                          | pass_receiver                  |   number_of_passes |
## |---:|:------------------------------------|:-------------------------------|-------------------:|
## |  0 | Carlos Henrique Casimiro            | Daniel Carvajal Ramos          |                  1 |
## |  1 | Carlos Henrique Casimiro            | Luka Modrić                    |                  1 |
## |  2 | Carlos Henrique Casimiro            | Marcelo Vieira da Silva Júnior |                  1 |
## |  3 | Carlos Henrique Casimiro            | Raphaël Varane                 |                  1 |
## |  4 | Carlos Henrique Casimiro            | Sergio Ramos García            |                  1 |
## |  5 | Carlos Henrique Casimiro            | Toni Kroos                     |                  6 |
## |  6 | Cristiano Ronaldo dos Santos Aveiro | Daniel Carvajal Ramos          |                  3 |
## |  7 | Cristiano Ronaldo dos Santos Aveiro | Karim Benzema                  |                  1 |
## |  8 | Cristiano Ronaldo dos Santos Aveiro | Luka Modrić                    |                  1 |
## |  9 | Cristiano Ronaldo dos Santos Aveiro | Marcelo Vieira da Silva Júnior |                  4 |</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1"></a>pass_Liv.rename(columns <span class="op">=</span> {<span class="st">&#39;index&#39;</span>:<span class="st">&#39;number_of_passes&#39;</span>}, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb89-2"><a href="#cb89-2"></a><span class="bu">print</span>(pass_Liv.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    | pass_maker       | pass_receiver                       |   number_of_passes |
## |---:|:-----------------|:------------------------------------|-------------------:|
## |  0 | Andrew Robertson | Andrew Robertson                    |                  1 |
## |  1 | Andrew Robertson | Georginio Wijnaldum                 |                  3 |
## |  2 | Andrew Robertson | James Philip Milner                 |                  3 |
## |  3 | Andrew Robertson | Jordan Brian Henderson              |                  2 |
## |  4 | Andrew Robertson | Roberto Firmino Barbosa de Oliveira |                  2 |
## |  5 | Andrew Robertson | Virgil van Dijk                     |                  2 |
## |  6 | Dejan Lovren     | James Philip Milner                 |                  1 |
## |  7 | Dejan Lovren     | Jordan Brian Henderson              |                  1 |
## |  8 | Dejan Lovren     | Loris Karius                        |                  2 |
## |  9 | Dejan Lovren     | Mohamed Salah                       |                  1 |</code></pre>
<p>Now, we will merge the datasets <code>av_loc_Real</code> and <code>pass_Real</code>, Let us identify the left and the right dataframes for performing the merge. Here, <code>av_loc_Real</code> is the left dataframe and <code>pass_Real</code> is the right. We will use the <code>merge()</code> function from <code>pandas</code> to carry out the merging operation.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1"></a>pass_Real <span class="op">=</span> pass_Real.merge(av_loc_Real, left_on <span class="op">=</span> <span class="st">&#39;pass_maker&#39;</span>, right_index <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb91-2"><a href="#cb91-2"></a><span class="bu">print</span>(pass_Real.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    | pass_maker                          | pass_receiver                  |   number_of_passes |   pass_maker_x |   pass_maker_y |   count |
## |---:|:------------------------------------|:-------------------------------|-------------------:|---------------:|---------------:|--------:|
## |  0 | Carlos Henrique Casimiro            | Daniel Carvajal Ramos          |                  1 |        60.8455 |        31.8364 |      11 |
## |  1 | Carlos Henrique Casimiro            | Luka Modrić                    |                  1 |        60.8455 |        31.8364 |      11 |
## |  2 | Carlos Henrique Casimiro            | Marcelo Vieira da Silva Júnior |                  1 |        60.8455 |        31.8364 |      11 |
## |  3 | Carlos Henrique Casimiro            | Raphaël Varane                 |                  1 |        60.8455 |        31.8364 |      11 |
## |  4 | Carlos Henrique Casimiro            | Sergio Ramos García            |                  1 |        60.8455 |        31.8364 |      11 |
## |  5 | Carlos Henrique Casimiro            | Toni Kroos                     |                  6 |        60.8455 |        31.8364 |      11 |
## |  6 | Cristiano Ronaldo dos Santos Aveiro | Daniel Carvajal Ramos          |                  3 |        81.58   |        29.16   |      10 |
## |  7 | Cristiano Ronaldo dos Santos Aveiro | Karim Benzema                  |                  1 |        81.58   |        29.16   |      10 |
## |  8 | Cristiano Ronaldo dos Santos Aveiro | Luka Modrić                    |                  1 |        81.58   |        29.16   |      10 |
## |  9 | Cristiano Ronaldo dos Santos Aveiro | Marcelo Vieira da Silva Júnior |                  4 |        81.58   |        29.16   |      10 |</code></pre>
<p>The <code>left_on</code> argument specifies the column names to join our right dataframe on, and the <code>right_index</code> argument decides whether to use the index from the right dataframe as the key for joining. Let us do the same operation for the other team:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1"></a>pass_Liv <span class="op">=</span> pass_Liv.merge(av_loc_Liv, left_on <span class="op">=</span> <span class="st">&#39;pass_maker&#39;</span>, right_index <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb93-2"><a href="#cb93-2"></a><span class="bu">print</span>(pass_Liv.head(<span class="dv">10</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    | pass_maker       | pass_receiver                       |   number_of_passes |   pass_maker_x |   pass_maker_y |   count |
## |---:|:-----------------|:------------------------------------|-------------------:|---------------:|---------------:|--------:|
## |  0 | Andrew Robertson | Andrew Robertson                    |                  1 |        59.8154 |        6.83077 |      13 |
## |  1 | Andrew Robertson | Georginio Wijnaldum                 |                  3 |        59.8154 |        6.83077 |      13 |
## |  2 | Andrew Robertson | James Philip Milner                 |                  3 |        59.8154 |        6.83077 |      13 |
## |  3 | Andrew Robertson | Jordan Brian Henderson              |                  2 |        59.8154 |        6.83077 |      13 |
## |  4 | Andrew Robertson | Roberto Firmino Barbosa de Oliveira |                  2 |        59.8154 |        6.83077 |      13 |
## |  5 | Andrew Robertson | Virgil van Dijk                     |                  2 |        59.8154 |        6.83077 |      13 |
## |  6 | Dejan Lovren     | James Philip Milner                 |                  1 |        41.6909 |       60.1727  |      11 |
## |  7 | Dejan Lovren     | Jordan Brian Henderson              |                  1 |        41.6909 |       60.1727  |      11 |
## |  8 | Dejan Lovren     | Loris Karius                        |                  2 |        41.6909 |       60.1727  |      11 |
## |  9 | Dejan Lovren     | Mohamed Salah                       |                  1 |        41.6909 |       60.1727  |      11 |</code></pre>
<p>Finally, we will again perform a merge on these updated datasets for adding the average locations of the pass receivers and the number of times the receiver received the ball. A last touch of data cleaning will fetch us the dataset sufficient to start visualizing the pass networks for both the teams</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1"></a>pass_Real <span class="op">=</span> pass_Real.merge(av_loc_Real, left_on <span class="op">=</span> <span class="st">&#39;pass_receiver&#39;</span>, right_index <span class="op">=</span> <span class="va">True</span>, suffixes <span class="op">=</span> [<span class="st">&#39;&#39;</span>, <span class="st">&#39;_receipt&#39;</span>])</span>
<span id="cb95-2"><a href="#cb95-2"></a>pass_Real.rename(columns <span class="op">=</span> {<span class="st">&#39;pass_maker_x_receipt&#39;</span>:<span class="st">&#39;pass_receiver_x&#39;</span>, <span class="st">&#39;pass_maker_y_receipt&#39;</span>:<span class="st">&#39;pass_receiver_y&#39;</span>, <span class="st">&#39;count_receipt&#39;</span>:<span class="st">&#39;number_of_passes_received&#39;</span>}, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb95-3"><a href="#cb95-3"></a>pass_Real <span class="op">=</span> pass_Real[pass_Real[<span class="st">&#39;pass_maker&#39;</span>] <span class="op">!=</span> pass_Real[<span class="st">&#39;pass_receiver&#39;</span>]].reset_index()</span>
<span id="cb95-4"><a href="#cb95-4"></a><span class="bu">print</span>(pass_Real.to_markdown())</span></code></pre></div>
<pre><code>## |    |   index | pass_maker                          | pass_receiver                       |   number_of_passes |   pass_maker_x |   pass_maker_y |   count |   pass_receiver_x |   pass_receiver_y |   number_of_passes_received |
## |---:|--------:|:------------------------------------|:------------------------------------|-------------------:|---------------:|---------------:|--------:|------------------:|------------------:|----------------------------:|
## |  0 |       0 | Carlos Henrique Casimiro            | Daniel Carvajal Ramos               |                  1 |        60.8455 |        31.8364 |      11 |           64.3417 |           73.875  |                          24 |
## |  1 |       6 | Cristiano Ronaldo dos Santos Aveiro | Daniel Carvajal Ramos               |                  3 |        81.58   |        29.16   |      10 |           64.3417 |           73.875  |                          24 |
## |  2 |      21 | Francisco Román Alarcón Suárez      | Daniel Carvajal Ramos               |                  2 |        62.3235 |        27.0824 |      17 |           64.3417 |           73.875  |                          24 |
## |  3 |      29 | Karim Benzema                       | Daniel Carvajal Ramos               |                  2 |        65.0818 |        27.9364 |      11 |           64.3417 |           73.875  |                          24 |
## |  4 |      39 | Luka Modrić                         | Daniel Carvajal Ramos               |                 10 |        60.6048 |        55.0286 |      21 |           64.3417 |           73.875  |                          24 |
## |  5 |      47 | Marcelo Vieira da Silva Júnior      | Daniel Carvajal Ramos               |                  2 |        59.8652 |        11.1304 |      23 |           64.3417 |           73.875  |                          24 |
## |  6 |      55 | Raphaël Varane                      | Daniel Carvajal Ramos               |                  3 |        37.4364 |        58.3545 |      22 |           64.3417 |           73.875  |                          24 |
## |  7 |      62 | Sergio Ramos García                 | Daniel Carvajal Ramos               |                  3 |        41.2824 |        24.5147 |      34 |           64.3417 |           73.875  |                          24 |
## |  8 |      71 | Toni Kroos                          | Daniel Carvajal Ramos               |                  1 |        51.19   |        24.275  |      40 |           64.3417 |           73.875  |                          24 |
## |  9 |       1 | Carlos Henrique Casimiro            | Luka Modrić                         |                  1 |        60.8455 |        31.8364 |      11 |           60.6048 |           55.0286 |                          21 |
## | 10 |       8 | Cristiano Ronaldo dos Santos Aveiro | Luka Modrić                         |                  1 |        81.58   |        29.16   |      10 |           60.6048 |           55.0286 |                          21 |
## | 11 |      17 | Daniel Carvajal Ramos               | Luka Modrić                         |                  7 |        64.3417 |        73.875  |      24 |           60.6048 |           55.0286 |                          21 |
## | 12 |      23 | Francisco Román Alarcón Suárez      | Luka Modrić                         |                  1 |        62.3235 |        27.0824 |      17 |           60.6048 |           55.0286 |                          21 |
## | 13 |      50 | Marcelo Vieira da Silva Júnior      | Luka Modrić                         |                  1 |        59.8652 |        11.1304 |      23 |           60.6048 |           55.0286 |                          21 |
## | 14 |      58 | Raphaël Varane                      | Luka Modrić                         |                  5 |        37.4364 |        58.3545 |      22 |           60.6048 |           55.0286 |                          21 |
## | 15 |      65 | Sergio Ramos García                 | Luka Modrić                         |                  2 |        41.2824 |        24.5147 |      34 |           60.6048 |           55.0286 |                          21 |
## | 16 |      75 | Toni Kroos                          | Luka Modrić                         |                  5 |        51.19   |        24.275  |      40 |           60.6048 |           55.0286 |                          21 |
## | 17 |       2 | Carlos Henrique Casimiro            | Marcelo Vieira da Silva Júnior      |                  1 |        60.8455 |        31.8364 |      11 |           59.8652 |           11.1304 |                          23 |
## | 18 |       9 | Cristiano Ronaldo dos Santos Aveiro | Marcelo Vieira da Silva Júnior      |                  4 |        81.58   |        29.16   |      10 |           59.8652 |           11.1304 |                          23 |
## | 19 |      24 | Francisco Román Alarcón Suárez      | Marcelo Vieira da Silva Júnior      |                  2 |        62.3235 |        27.0824 |      17 |           59.8652 |           11.1304 |                          23 |
## | 20 |      34 | Keylor Navas Gamboa                 | Marcelo Vieira da Silva Júnior      |                  2 |        10.87   |        41.81   |      10 |           59.8652 |           11.1304 |                          23 |
## | 21 |      41 | Luka Modrić                         | Marcelo Vieira da Silva Júnior      |                  1 |        60.6048 |        55.0286 |      21 |           59.8652 |           11.1304 |                          23 |
## | 22 |      66 | Sergio Ramos García                 | Marcelo Vieira da Silva Júnior      |                  9 |        41.2824 |        24.5147 |      34 |           59.8652 |           11.1304 |                          23 |
## | 23 |      76 | Toni Kroos                          | Marcelo Vieira da Silva Júnior      |                  4 |        51.19   |        24.275  |      40 |           59.8652 |           11.1304 |                          23 |
## | 24 |       3 | Carlos Henrique Casimiro            | Raphaël Varane                      |                  1 |        60.8455 |        31.8364 |      11 |           37.4364 |           58.3545 |                          22 |
## | 25 |      18 | Daniel Carvajal Ramos               | Raphaël Varane                      |                  5 |        64.3417 |        73.875  |      24 |           37.4364 |           58.3545 |                          22 |
## | 26 |      35 | Keylor Navas Gamboa                 | Raphaël Varane                      |                  2 |        10.87   |        41.81   |      10 |           37.4364 |           58.3545 |                          22 |
## | 27 |      42 | Luka Modrić                         | Raphaël Varane                      |                  3 |        60.6048 |        55.0286 |      21 |           37.4364 |           58.3545 |                          22 |
## | 28 |      51 | Marcelo Vieira da Silva Júnior      | Raphaël Varane                      |                  2 |        59.8652 |        11.1304 |      23 |           37.4364 |           58.3545 |                          22 |
## | 29 |      67 | Sergio Ramos García                 | Raphaël Varane                      |                  5 |        41.2824 |        24.5147 |      34 |           37.4364 |           58.3545 |                          22 |
## | 30 |      77 | Toni Kroos                          | Raphaël Varane                      |                  4 |        51.19   |        24.275  |      40 |           37.4364 |           58.3545 |                          22 |
## | 31 |       4 | Carlos Henrique Casimiro            | Sergio Ramos García                 |                  1 |        60.8455 |        31.8364 |      11 |           41.2824 |           24.5147 |                          34 |
## | 32 |      10 | Cristiano Ronaldo dos Santos Aveiro | Sergio Ramos García                 |                  1 |        81.58   |        29.16   |      10 |           41.2824 |           24.5147 |                          34 |
## | 33 |      25 | Francisco Román Alarcón Suárez      | Sergio Ramos García                 |                  5 |        62.3235 |        27.0824 |      17 |           41.2824 |           24.5147 |                          34 |
## | 34 |      31 | Karim Benzema                       | Sergio Ramos García                 |                  1 |        65.0818 |        27.9364 |      11 |           41.2824 |           24.5147 |                          34 |
## | 35 |      36 | Keylor Navas Gamboa                 | Sergio Ramos García                 |                  4 |        10.87   |        41.81   |      10 |           41.2824 |           24.5147 |                          34 |
## | 36 |      43 | Luka Modrić                         | Sergio Ramos García                 |                  1 |        60.6048 |        55.0286 |      21 |           41.2824 |           24.5147 |                          34 |
## | 37 |      52 | Marcelo Vieira da Silva Júnior      | Sergio Ramos García                 |                  2 |        59.8652 |        11.1304 |      23 |           41.2824 |           24.5147 |                          34 |
## | 38 |      59 | Raphaël Varane                      | Sergio Ramos García                 |                  6 |        37.4364 |        58.3545 |      22 |           41.2824 |           24.5147 |                          34 |
## | 39 |      78 | Toni Kroos                          | Sergio Ramos García                 |                 10 |        51.19   |        24.275  |      40 |           41.2824 |           24.5147 |                          34 |
## | 40 |       5 | Carlos Henrique Casimiro            | Toni Kroos                          |                  6 |        60.8455 |        31.8364 |      11 |           51.19   |           24.275  |                          40 |
## | 41 |      19 | Daniel Carvajal Ramos               | Toni Kroos                          |                  1 |        64.3417 |        73.875  |      24 |           51.19   |           24.275  |                          40 |
## | 42 |      26 | Francisco Román Alarcón Suárez      | Toni Kroos                          |                  4 |        62.3235 |        27.0824 |      17 |           51.19   |           24.275  |                          40 |
## | 43 |      32 | Karim Benzema                       | Toni Kroos                          |                  4 |        65.0818 |        27.9364 |      11 |           51.19   |           24.275  |                          40 |
## | 44 |      37 | Keylor Navas Gamboa                 | Toni Kroos                          |                  1 |        10.87   |        41.81   |      10 |           51.19   |           24.275  |                          40 |
## | 45 |      44 | Luka Modrić                         | Toni Kroos                          |                  4 |        60.6048 |        55.0286 |      21 |           51.19   |           24.275  |                          40 |
## | 46 |      53 | Marcelo Vieira da Silva Júnior      | Toni Kroos                          |                  5 |        59.8652 |        11.1304 |      23 |           51.19   |           24.275  |                          40 |
## | 47 |      60 | Raphaël Varane                      | Toni Kroos                          |                  4 |        37.4364 |        58.3545 |      22 |           51.19   |           24.275  |                          40 |
## | 48 |      68 | Sergio Ramos García                 | Toni Kroos                          |                  9 |        41.2824 |        24.5147 |      34 |           51.19   |           24.275  |                          40 |
## | 49 |       7 | Cristiano Ronaldo dos Santos Aveiro | Karim Benzema                       |                  1 |        81.58   |        29.16   |      10 |           65.0818 |           27.9364 |                          11 |
## | 50 |      15 | Daniel Carvajal Ramos               | Karim Benzema                       |                  1 |        64.3417 |        73.875  |      24 |           65.0818 |           27.9364 |                          11 |
## | 51 |      22 | Francisco Román Alarcón Suárez      | Karim Benzema                       |                  1 |        62.3235 |        27.0824 |      17 |           65.0818 |           27.9364 |                          11 |
## | 52 |      33 | Keylor Navas Gamboa                 | Karim Benzema                       |                  1 |        10.87   |        41.81   |      10 |           65.0818 |           27.9364 |                          11 |
## | 53 |      40 | Luka Modrić                         | Karim Benzema                       |                  1 |        60.6048 |        55.0286 |      21 |           65.0818 |           27.9364 |                          11 |
## | 54 |      49 | Marcelo Vieira da Silva Júnior      | Karim Benzema                       |                  3 |        59.8652 |        11.1304 |      23 |           65.0818 |           27.9364 |                          11 |
## | 55 |      56 | Raphaël Varane                      | Karim Benzema                       |                  1 |        37.4364 |        58.3545 |      22 |           65.0818 |           27.9364 |                          11 |
## | 56 |      73 | Toni Kroos                          | Karim Benzema                       |                  2 |        51.19   |        24.275  |      40 |           65.0818 |           27.9364 |                          11 |
## | 57 |      11 | Daniel Carvajal Ramos               | Carlos Henrique Casimiro            |                  2 |        64.3417 |        73.875  |      24 |           60.8455 |           31.8364 |                          11 |
## | 58 |      27 | Karim Benzema                       | Carlos Henrique Casimiro            |                  2 |        65.0818 |        27.9364 |      11 |           60.8455 |           31.8364 |                          11 |
## | 59 |      38 | Luka Modrić                         | Carlos Henrique Casimiro            |                  1 |        60.6048 |        55.0286 |      21 |           60.8455 |           31.8364 |                          11 |
## | 60 |      45 | Marcelo Vieira da Silva Júnior      | Carlos Henrique Casimiro            |                  2 |        59.8652 |        11.1304 |      23 |           60.8455 |           31.8364 |                          11 |
## | 61 |      54 | Raphaël Varane                      | Carlos Henrique Casimiro            |                  1 |        37.4364 |        58.3545 |      22 |           60.8455 |           31.8364 |                          11 |
## | 62 |      69 | Toni Kroos                          | Carlos Henrique Casimiro            |                  2 |        51.19   |        24.275  |      40 |           60.8455 |           31.8364 |                          11 |
## | 63 |      12 | Daniel Carvajal Ramos               | Cristiano Ronaldo dos Santos Aveiro |                  2 |        64.3417 |        73.875  |      24 |           81.58   |           29.16   |                          10 |
## | 64 |      20 | Francisco Román Alarcón Suárez      | Cristiano Ronaldo dos Santos Aveiro |                  2 |        62.3235 |        27.0824 |      17 |           81.58   |           29.16   |                          10 |
## | 65 |      28 | Karim Benzema                       | Cristiano Ronaldo dos Santos Aveiro |                  1 |        65.0818 |        27.9364 |      11 |           81.58   |           29.16   |                          10 |
## | 66 |      46 | Marcelo Vieira da Silva Júnior      | Cristiano Ronaldo dos Santos Aveiro |                  2 |        59.8652 |        11.1304 |      23 |           81.58   |           29.16   |                          10 |
## | 67 |      61 | Sergio Ramos García                 | Cristiano Ronaldo dos Santos Aveiro |                  1 |        41.2824 |        24.5147 |      34 |           81.58   |           29.16   |                          10 |
## | 68 |      70 | Toni Kroos                          | Cristiano Ronaldo dos Santos Aveiro |                  2 |        51.19   |        24.275  |      40 |           81.58   |           29.16   |                          10 |
## | 69 |      14 | Daniel Carvajal Ramos               | Francisco Román Alarcón Suárez      |                  3 |        64.3417 |        73.875  |      24 |           62.3235 |           27.0824 |                          17 |
## | 70 |      48 | Marcelo Vieira da Silva Júnior      | Francisco Román Alarcón Suárez      |                  4 |        59.8652 |        11.1304 |      23 |           62.3235 |           27.0824 |                          17 |
## | 71 |      63 | Sergio Ramos García                 | Francisco Román Alarcón Suárez      |                  4 |        41.2824 |        24.5147 |      34 |           62.3235 |           27.0824 |                          17 |
## | 72 |      72 | Toni Kroos                          | Francisco Román Alarcón Suárez      |                  8 |        51.19   |        24.275  |      40 |           62.3235 |           27.0824 |                          17 |
## | 73 |      16 | Daniel Carvajal Ramos               | Keylor Navas Gamboa                 |                  1 |        64.3417 |        73.875  |      24 |           10.87   |           41.81   |                          10 |
## | 74 |      30 | Karim Benzema                       | Keylor Navas Gamboa                 |                  1 |        65.0818 |        27.9364 |      11 |           10.87   |           41.81   |                          10 |
## | 75 |      57 | Raphaël Varane                      | Keylor Navas Gamboa                 |                  2 |        37.4364 |        58.3545 |      22 |           10.87   |           41.81   |                          10 |
## | 76 |      64 | Sergio Ramos García                 | Keylor Navas Gamboa                 |                  1 |        41.2824 |        24.5147 |      34 |           10.87   |           41.81   |                          10 |
## | 77 |      74 | Toni Kroos                          | Keylor Navas Gamboa                 |                  1 |        51.19   |        24.275  |      40 |           10.87   |           41.81   |                          10 |</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1"></a>pass_Liv <span class="op">=</span> pass_Liv.merge(av_loc_Liv, left_on <span class="op">=</span> <span class="st">&#39;pass_receiver&#39;</span>, right_index <span class="op">=</span> <span class="va">True</span>, suffixes <span class="op">=</span> [<span class="st">&#39;&#39;</span>, <span class="st">&#39;_receipt&#39;</span>])</span>
<span id="cb97-2"><a href="#cb97-2"></a>pass_Liv.rename(columns <span class="op">=</span> {<span class="st">&#39;pass_maker_x_receipt&#39;</span>:<span class="st">&#39;pass_receiver_x&#39;</span>, <span class="st">&#39;pass_maker_y_receipt&#39;</span>:<span class="st">&#39;pass_receiver_y&#39;</span>, <span class="st">&#39;count_receipt&#39;</span>:<span class="st">&#39;number_of_passes_received&#39;</span>}, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb97-3"><a href="#cb97-3"></a>pass_Liv <span class="op">=</span> pass_Liv[pass_Liv[<span class="st">&#39;pass_maker&#39;</span>] <span class="op">!=</span> pass_Liv[<span class="st">&#39;pass_receiver&#39;</span>]].reset_index()</span>
<span id="cb97-4"><a href="#cb97-4"></a><span class="bu">print</span>(pass_Liv.to_markdown())</span></code></pre></div>
<pre><code>## |    |   index | pass_maker                          | pass_receiver                       |   number_of_passes |   pass_maker_x |   pass_maker_y |   count |   pass_receiver_x |   pass_receiver_y |   number_of_passes_received |
## |---:|--------:|:------------------------------------|:------------------------------------|-------------------:|---------------:|---------------:|--------:|------------------:|------------------:|----------------------------:|
## |  0 |      12 | Georginio Wijnaldum                 | Andrew Robertson                    |                  4 |        76.3909 |       28.5182  |      11 |           59.8154 |           6.83077 |                          13 |
## |  1 |      18 | James Philip Milner                 | Andrew Robertson                    |                  1 |        72.3533 |       36.1533  |      15 |           59.8154 |           6.83077 |                          13 |
## |  2 |      28 | Jordan Brian Henderson              | Andrew Robertson                    |                  1 |        61.0353 |       37.1529  |      17 |           59.8154 |           6.83077 |                          13 |
## |  3 |      36 | Loris Karius                        | Andrew Robertson                    |                  1 |        12.9143 |       40.3857  |       7 |           59.8154 |           6.83077 |                          13 |
## |  4 |      54 | Trent Alexander-Arnold              | Andrew Robertson                    |                  1 |        64.6667 |       72.55    |      12 |           59.8154 |           6.83077 |                          13 |
## |  5 |      60 | Virgil van Dijk                     | Andrew Robertson                    |                  3 |        43.3667 |       25.4333  |       9 |           59.8154 |           6.83077 |                          13 |
## |  6 |       1 | Andrew Robertson                    | Georginio Wijnaldum                 |                  3 |        59.8154 |        6.83077 |      13 |           76.3909 |          28.5182  |                          11 |
## |  7 |      20 | James Philip Milner                 | Georginio Wijnaldum                 |                  1 |        72.3533 |       36.1533  |      15 |           76.3909 |          28.5182  |                          11 |
## |  8 |      30 | Jordan Brian Henderson              | Georginio Wijnaldum                 |                  4 |        61.0353 |       37.1529  |      17 |           76.3909 |          28.5182  |                          11 |
## |  9 |      40 | Mohamed Salah                       | Georginio Wijnaldum                 |                  1 |        77.55   |       64.71    |      10 |           76.3909 |          28.5182  |                          11 |
## | 10 |      56 | Trent Alexander-Arnold              | Georginio Wijnaldum                 |                  3 |        64.6667 |       72.55    |      12 |           76.3909 |          28.5182  |                          11 |
## | 11 |      62 | Virgil van Dijk                     | Georginio Wijnaldum                 |                  1 |        43.3667 |       25.4333  |       9 |           76.3909 |          28.5182  |                          11 |
## | 12 |       2 | Andrew Robertson                    | James Philip Milner                 |                  3 |        59.8154 |        6.83077 |      13 |           72.3533 |          36.1533  |                          15 |
## | 13 |       6 | Dejan Lovren                        | James Philip Milner                 |                  1 |        41.6909 |       60.1727  |      11 |           72.3533 |          36.1533  |                          15 |
## | 14 |      13 | Georginio Wijnaldum                 | James Philip Milner                 |                  1 |        76.3909 |       28.5182  |      11 |           72.3533 |          36.1533  |                          15 |
## | 15 |      31 | Jordan Brian Henderson              | James Philip Milner                 |                  3 |        61.0353 |       37.1529  |      17 |           72.3533 |          36.1533  |                          15 |
## | 16 |      41 | Mohamed Salah                       | James Philip Milner                 |                  1 |        77.55   |       64.71    |      10 |           72.3533 |          36.1533  |                          15 |
## | 17 |      47 | Roberto Firmino Barbosa de Oliveira | James Philip Milner                 |                  2 |        78.25   |       43.57    |      10 |           72.3533 |          36.1533  |                          15 |
## | 18 |      51 | Sadio Mané                          | James Philip Milner                 |                  1 |        86.275  |       22.075   |       4 |           72.3533 |          36.1533  |                          15 |
## | 19 |       3 | Andrew Robertson                    | Jordan Brian Henderson              |                  2 |        59.8154 |        6.83077 |      13 |           61.0353 |          37.1529  |                          17 |
## | 20 |       7 | Dejan Lovren                        | Jordan Brian Henderson              |                  1 |        41.6909 |       60.1727  |      11 |           61.0353 |          37.1529  |                          17 |
## | 21 |      14 | Georginio Wijnaldum                 | Jordan Brian Henderson              |                  2 |        76.3909 |       28.5182  |      11 |           61.0353 |          37.1529  |                          17 |
## | 22 |      21 | James Philip Milner                 | Jordan Brian Henderson              |                  2 |        72.3533 |       36.1533  |      15 |           61.0353 |          37.1529  |                          17 |
## | 23 |      38 | Loris Karius                        | Jordan Brian Henderson              |                  1 |        12.9143 |       40.3857  |       7 |           61.0353 |          37.1529  |                          17 |
## | 24 |      48 | Roberto Firmino Barbosa de Oliveira | Jordan Brian Henderson              |                  2 |        78.25   |       43.57    |      10 |           61.0353 |          37.1529  |                          17 |
## | 25 |      52 | Sadio Mané                          | Jordan Brian Henderson              |                  1 |        86.275  |       22.075   |       4 |           61.0353 |          37.1529  |                          17 |
## | 26 |      57 | Trent Alexander-Arnold              | Jordan Brian Henderson              |                  2 |        64.6667 |       72.55    |      12 |           61.0353 |          37.1529  |                          17 |
## | 27 |      63 | Virgil van Dijk                     | Jordan Brian Henderson              |                  1 |        43.3667 |       25.4333  |       9 |           61.0353 |          37.1529  |                          17 |
## | 28 |       4 | Andrew Robertson                    | Roberto Firmino Barbosa de Oliveira |                  2 |        59.8154 |        6.83077 |      13 |           78.25   |          43.57    |                          10 |
## | 29 |      24 | James Philip Milner                 | Roberto Firmino Barbosa de Oliveira |                  1 |        72.3533 |       36.1533  |      15 |           78.25   |          43.57    |                          10 |
## | 30 |      42 | Mohamed Salah                       | Roberto Firmino Barbosa de Oliveira |                  4 |        77.55   |       64.71    |      10 |           78.25   |          43.57    |                          10 |
## | 31 |      53 | Sadio Mané                          | Roberto Firmino Barbosa de Oliveira |                  2 |        86.275  |       22.075   |       4 |           78.25   |          43.57    |                          10 |
## | 32 |      59 | Trent Alexander-Arnold              | Roberto Firmino Barbosa de Oliveira |                  2 |        64.6667 |       72.55    |      12 |           78.25   |          43.57    |                          10 |
## | 33 |       5 | Andrew Robertson                    | Virgil van Dijk                     |                  2 |        59.8154 |        6.83077 |      13 |           43.3667 |          25.4333  |                           9 |
## | 34 |      11 | Dejan Lovren                        | Virgil van Dijk                     |                  2 |        41.6909 |       60.1727  |      11 |           43.3667 |          25.4333  |                           9 |
## | 35 |      17 | Georginio Wijnaldum                 | Virgil van Dijk                     |                  2 |        76.3909 |       28.5182  |      11 |           43.3667 |          25.4333  |                           9 |
## | 36 |      27 | James Philip Milner                 | Virgil van Dijk                     |                  1 |        72.3533 |       36.1533  |      15 |           43.3667 |          25.4333  |                           9 |
## | 37 |      35 | Jordan Brian Henderson              | Virgil van Dijk                     |                  2 |        61.0353 |       37.1529  |      17 |           43.3667 |          25.4333  |                           9 |
## | 38 |      39 | Loris Karius                        | Virgil van Dijk                     |                  1 |        12.9143 |       40.3857  |       7 |           43.3667 |          25.4333  |                           9 |
## | 39 |      45 | Mohamed Salah                       | Virgil van Dijk                     |                  1 |        77.55   |       64.71    |      10 |           43.3667 |          25.4333  |                           9 |
## | 40 |       8 | Dejan Lovren                        | Loris Karius                        |                  2 |        41.6909 |       60.1727  |      11 |           12.9143 |          40.3857  |                           7 |
## | 41 |      22 | James Philip Milner                 | Loris Karius                        |                  1 |        72.3533 |       36.1533  |      15 |           12.9143 |          40.3857  |                           7 |
## | 42 |      32 | Jordan Brian Henderson              | Loris Karius                        |                  2 |        61.0353 |       37.1529  |      17 |           12.9143 |          40.3857  |                           7 |
## | 43 |       9 | Dejan Lovren                        | Mohamed Salah                       |                  1 |        41.6909 |       60.1727  |      11 |           77.55   |          64.71    |                          10 |
## | 44 |      15 | Georginio Wijnaldum                 | Mohamed Salah                       |                  1 |        76.3909 |       28.5182  |      11 |           77.55   |          64.71    |                          10 |
## | 45 |      23 | James Philip Milner                 | Mohamed Salah                       |                  1 |        72.3533 |       36.1533  |      15 |           77.55   |          64.71    |                          10 |
## | 46 |      49 | Roberto Firmino Barbosa de Oliveira | Mohamed Salah                       |                  4 |        78.25   |       43.57    |      10 |           77.55   |          64.71    |                          10 |
## | 47 |      58 | Trent Alexander-Arnold              | Mohamed Salah                       |                  3 |        64.6667 |       72.55    |      12 |           77.55   |          64.71    |                          10 |
## | 48 |      10 | Dejan Lovren                        | Trent Alexander-Arnold              |                  4 |        41.6909 |       60.1727  |      11 |           64.6667 |          72.55    |                          12 |
## | 49 |      16 | Georginio Wijnaldum                 | Trent Alexander-Arnold              |                  1 |        76.3909 |       28.5182  |      11 |           64.6667 |          72.55    |                          12 |
## | 50 |      26 | James Philip Milner                 | Trent Alexander-Arnold              |                  4 |        72.3533 |       36.1533  |      15 |           64.6667 |          72.55    |                          12 |
## | 51 |      34 | Jordan Brian Henderson              | Trent Alexander-Arnold              |                  1 |        61.0353 |       37.1529  |      17 |           64.6667 |          72.55    |                          12 |
## | 52 |      44 | Mohamed Salah                       | Trent Alexander-Arnold              |                  2 |        77.55   |       64.71    |      10 |           64.6667 |          72.55    |                          12 |
## | 53 |      50 | Roberto Firmino Barbosa de Oliveira | Trent Alexander-Arnold              |                  1 |        78.25   |       43.57    |      10 |           64.6667 |          72.55    |                          12 |
## | 54 |      64 | Virgil van Dijk                     | Trent Alexander-Arnold              |                  1 |        43.3667 |       25.4333  |       9 |           64.6667 |          72.55    |                          12 |
## | 55 |      19 | James Philip Milner                 | Dejan Lovren                        |                  1 |        72.3533 |       36.1533  |      15 |           41.6909 |          60.1727  |                          11 |
## | 56 |      29 | Jordan Brian Henderson              | Dejan Lovren                        |                  3 |        61.0353 |       37.1529  |      17 |           41.6909 |          60.1727  |                          11 |
## | 57 |      37 | Loris Karius                        | Dejan Lovren                        |                  4 |        12.9143 |       40.3857  |       7 |           41.6909 |          60.1727  |                          11 |
## | 58 |      46 | Roberto Firmino Barbosa de Oliveira | Dejan Lovren                        |                  1 |        78.25   |       43.57    |      10 |           41.6909 |          60.1727  |                          11 |
## | 59 |      55 | Trent Alexander-Arnold              | Dejan Lovren                        |                  1 |        64.6667 |       72.55    |      12 |           41.6909 |          60.1727  |                          11 |
## | 60 |      61 | Virgil van Dijk                     | Dejan Lovren                        |                  3 |        43.3667 |       25.4333  |       9 |           41.6909 |          60.1727  |                          11 |
## | 61 |      25 | James Philip Milner                 | Sadio Mané                          |                  2 |        72.3533 |       36.1533  |      15 |           86.275  |          22.075   |                           4 |
## | 62 |      33 | Jordan Brian Henderson              | Sadio Mané                          |                  1 |        61.0353 |       37.1529  |      17 |           86.275  |          22.075   |                           4 |
## | 63 |      43 | Mohamed Salah                       | Sadio Mané                          |                  1 |        77.55   |       64.71    |      10 |           86.275  |          22.075   |                           4 |</code></pre>
<p>We will replace the player names with their jersey numbers and create another pair of new datasets:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1"></a>pass_Real_new <span class="op">=</span> pass_Real.replace({<span class="st">&quot;pass_maker&quot;</span>: players_Real, <span class="st">&quot;pass_receiver&quot;</span>: players_Real})</span>
<span id="cb99-2"><a href="#cb99-2"></a><span class="bu">print</span>(pass_Real_new.to_markdown())</span></code></pre></div>
<pre><code>## |    |   index |   pass_maker |   pass_receiver |   number_of_passes |   pass_maker_x |   pass_maker_y |   count |   pass_receiver_x |   pass_receiver_y |   number_of_passes_received |
## |---:|--------:|-------------:|----------------:|-------------------:|---------------:|---------------:|--------:|------------------:|------------------:|----------------------------:|
## |  0 |       0 |           14 |               2 |                  1 |        60.8455 |        31.8364 |      11 |           64.3417 |           73.875  |                          24 |
## |  1 |       6 |            7 |               2 |                  3 |        81.58   |        29.16   |      10 |           64.3417 |           73.875  |                          24 |
## |  2 |      21 |           22 |               2 |                  2 |        62.3235 |        27.0824 |      17 |           64.3417 |           73.875  |                          24 |
## |  3 |      29 |            9 |               2 |                  2 |        65.0818 |        27.9364 |      11 |           64.3417 |           73.875  |                          24 |
## |  4 |      39 |           10 |               2 |                 10 |        60.6048 |        55.0286 |      21 |           64.3417 |           73.875  |                          24 |
## |  5 |      47 |           12 |               2 |                  2 |        59.8652 |        11.1304 |      23 |           64.3417 |           73.875  |                          24 |
## |  6 |      55 |            5 |               2 |                  3 |        37.4364 |        58.3545 |      22 |           64.3417 |           73.875  |                          24 |
## |  7 |      62 |            4 |               2 |                  3 |        41.2824 |        24.5147 |      34 |           64.3417 |           73.875  |                          24 |
## |  8 |      71 |            8 |               2 |                  1 |        51.19   |        24.275  |      40 |           64.3417 |           73.875  |                          24 |
## |  9 |       1 |           14 |              10 |                  1 |        60.8455 |        31.8364 |      11 |           60.6048 |           55.0286 |                          21 |
## | 10 |       8 |            7 |              10 |                  1 |        81.58   |        29.16   |      10 |           60.6048 |           55.0286 |                          21 |
## | 11 |      17 |            2 |              10 |                  7 |        64.3417 |        73.875  |      24 |           60.6048 |           55.0286 |                          21 |
## | 12 |      23 |           22 |              10 |                  1 |        62.3235 |        27.0824 |      17 |           60.6048 |           55.0286 |                          21 |
## | 13 |      50 |           12 |              10 |                  1 |        59.8652 |        11.1304 |      23 |           60.6048 |           55.0286 |                          21 |
## | 14 |      58 |            5 |              10 |                  5 |        37.4364 |        58.3545 |      22 |           60.6048 |           55.0286 |                          21 |
## | 15 |      65 |            4 |              10 |                  2 |        41.2824 |        24.5147 |      34 |           60.6048 |           55.0286 |                          21 |
## | 16 |      75 |            8 |              10 |                  5 |        51.19   |        24.275  |      40 |           60.6048 |           55.0286 |                          21 |
## | 17 |       2 |           14 |              12 |                  1 |        60.8455 |        31.8364 |      11 |           59.8652 |           11.1304 |                          23 |
## | 18 |       9 |            7 |              12 |                  4 |        81.58   |        29.16   |      10 |           59.8652 |           11.1304 |                          23 |
## | 19 |      24 |           22 |              12 |                  2 |        62.3235 |        27.0824 |      17 |           59.8652 |           11.1304 |                          23 |
## | 20 |      34 |            1 |              12 |                  2 |        10.87   |        41.81   |      10 |           59.8652 |           11.1304 |                          23 |
## | 21 |      41 |           10 |              12 |                  1 |        60.6048 |        55.0286 |      21 |           59.8652 |           11.1304 |                          23 |
## | 22 |      66 |            4 |              12 |                  9 |        41.2824 |        24.5147 |      34 |           59.8652 |           11.1304 |                          23 |
## | 23 |      76 |            8 |              12 |                  4 |        51.19   |        24.275  |      40 |           59.8652 |           11.1304 |                          23 |
## | 24 |       3 |           14 |               5 |                  1 |        60.8455 |        31.8364 |      11 |           37.4364 |           58.3545 |                          22 |
## | 25 |      18 |            2 |               5 |                  5 |        64.3417 |        73.875  |      24 |           37.4364 |           58.3545 |                          22 |
## | 26 |      35 |            1 |               5 |                  2 |        10.87   |        41.81   |      10 |           37.4364 |           58.3545 |                          22 |
## | 27 |      42 |           10 |               5 |                  3 |        60.6048 |        55.0286 |      21 |           37.4364 |           58.3545 |                          22 |
## | 28 |      51 |           12 |               5 |                  2 |        59.8652 |        11.1304 |      23 |           37.4364 |           58.3545 |                          22 |
## | 29 |      67 |            4 |               5 |                  5 |        41.2824 |        24.5147 |      34 |           37.4364 |           58.3545 |                          22 |
## | 30 |      77 |            8 |               5 |                  4 |        51.19   |        24.275  |      40 |           37.4364 |           58.3545 |                          22 |
## | 31 |       4 |           14 |               4 |                  1 |        60.8455 |        31.8364 |      11 |           41.2824 |           24.5147 |                          34 |
## | 32 |      10 |            7 |               4 |                  1 |        81.58   |        29.16   |      10 |           41.2824 |           24.5147 |                          34 |
## | 33 |      25 |           22 |               4 |                  5 |        62.3235 |        27.0824 |      17 |           41.2824 |           24.5147 |                          34 |
## | 34 |      31 |            9 |               4 |                  1 |        65.0818 |        27.9364 |      11 |           41.2824 |           24.5147 |                          34 |
## | 35 |      36 |            1 |               4 |                  4 |        10.87   |        41.81   |      10 |           41.2824 |           24.5147 |                          34 |
## | 36 |      43 |           10 |               4 |                  1 |        60.6048 |        55.0286 |      21 |           41.2824 |           24.5147 |                          34 |
## | 37 |      52 |           12 |               4 |                  2 |        59.8652 |        11.1304 |      23 |           41.2824 |           24.5147 |                          34 |
## | 38 |      59 |            5 |               4 |                  6 |        37.4364 |        58.3545 |      22 |           41.2824 |           24.5147 |                          34 |
## | 39 |      78 |            8 |               4 |                 10 |        51.19   |        24.275  |      40 |           41.2824 |           24.5147 |                          34 |
## | 40 |       5 |           14 |               8 |                  6 |        60.8455 |        31.8364 |      11 |           51.19   |           24.275  |                          40 |
## | 41 |      19 |            2 |               8 |                  1 |        64.3417 |        73.875  |      24 |           51.19   |           24.275  |                          40 |
## | 42 |      26 |           22 |               8 |                  4 |        62.3235 |        27.0824 |      17 |           51.19   |           24.275  |                          40 |
## | 43 |      32 |            9 |               8 |                  4 |        65.0818 |        27.9364 |      11 |           51.19   |           24.275  |                          40 |
## | 44 |      37 |            1 |               8 |                  1 |        10.87   |        41.81   |      10 |           51.19   |           24.275  |                          40 |
## | 45 |      44 |           10 |               8 |                  4 |        60.6048 |        55.0286 |      21 |           51.19   |           24.275  |                          40 |
## | 46 |      53 |           12 |               8 |                  5 |        59.8652 |        11.1304 |      23 |           51.19   |           24.275  |                          40 |
## | 47 |      60 |            5 |               8 |                  4 |        37.4364 |        58.3545 |      22 |           51.19   |           24.275  |                          40 |
## | 48 |      68 |            4 |               8 |                  9 |        41.2824 |        24.5147 |      34 |           51.19   |           24.275  |                          40 |
## | 49 |       7 |            7 |               9 |                  1 |        81.58   |        29.16   |      10 |           65.0818 |           27.9364 |                          11 |
## | 50 |      15 |            2 |               9 |                  1 |        64.3417 |        73.875  |      24 |           65.0818 |           27.9364 |                          11 |
## | 51 |      22 |           22 |               9 |                  1 |        62.3235 |        27.0824 |      17 |           65.0818 |           27.9364 |                          11 |
## | 52 |      33 |            1 |               9 |                  1 |        10.87   |        41.81   |      10 |           65.0818 |           27.9364 |                          11 |
## | 53 |      40 |           10 |               9 |                  1 |        60.6048 |        55.0286 |      21 |           65.0818 |           27.9364 |                          11 |
## | 54 |      49 |           12 |               9 |                  3 |        59.8652 |        11.1304 |      23 |           65.0818 |           27.9364 |                          11 |
## | 55 |      56 |            5 |               9 |                  1 |        37.4364 |        58.3545 |      22 |           65.0818 |           27.9364 |                          11 |
## | 56 |      73 |            8 |               9 |                  2 |        51.19   |        24.275  |      40 |           65.0818 |           27.9364 |                          11 |
## | 57 |      11 |            2 |              14 |                  2 |        64.3417 |        73.875  |      24 |           60.8455 |           31.8364 |                          11 |
## | 58 |      27 |            9 |              14 |                  2 |        65.0818 |        27.9364 |      11 |           60.8455 |           31.8364 |                          11 |
## | 59 |      38 |           10 |              14 |                  1 |        60.6048 |        55.0286 |      21 |           60.8455 |           31.8364 |                          11 |
## | 60 |      45 |           12 |              14 |                  2 |        59.8652 |        11.1304 |      23 |           60.8455 |           31.8364 |                          11 |
## | 61 |      54 |            5 |              14 |                  1 |        37.4364 |        58.3545 |      22 |           60.8455 |           31.8364 |                          11 |
## | 62 |      69 |            8 |              14 |                  2 |        51.19   |        24.275  |      40 |           60.8455 |           31.8364 |                          11 |
## | 63 |      12 |            2 |               7 |                  2 |        64.3417 |        73.875  |      24 |           81.58   |           29.16   |                          10 |
## | 64 |      20 |           22 |               7 |                  2 |        62.3235 |        27.0824 |      17 |           81.58   |           29.16   |                          10 |
## | 65 |      28 |            9 |               7 |                  1 |        65.0818 |        27.9364 |      11 |           81.58   |           29.16   |                          10 |
## | 66 |      46 |           12 |               7 |                  2 |        59.8652 |        11.1304 |      23 |           81.58   |           29.16   |                          10 |
## | 67 |      61 |            4 |               7 |                  1 |        41.2824 |        24.5147 |      34 |           81.58   |           29.16   |                          10 |
## | 68 |      70 |            8 |               7 |                  2 |        51.19   |        24.275  |      40 |           81.58   |           29.16   |                          10 |
## | 69 |      14 |            2 |              22 |                  3 |        64.3417 |        73.875  |      24 |           62.3235 |           27.0824 |                          17 |
## | 70 |      48 |           12 |              22 |                  4 |        59.8652 |        11.1304 |      23 |           62.3235 |           27.0824 |                          17 |
## | 71 |      63 |            4 |              22 |                  4 |        41.2824 |        24.5147 |      34 |           62.3235 |           27.0824 |                          17 |
## | 72 |      72 |            8 |              22 |                  8 |        51.19   |        24.275  |      40 |           62.3235 |           27.0824 |                          17 |
## | 73 |      16 |            2 |               1 |                  1 |        64.3417 |        73.875  |      24 |           10.87   |           41.81   |                          10 |
## | 74 |      30 |            9 |               1 |                  1 |        65.0818 |        27.9364 |      11 |           10.87   |           41.81   |                          10 |
## | 75 |      57 |            5 |               1 |                  2 |        37.4364 |        58.3545 |      22 |           10.87   |           41.81   |                          10 |
## | 76 |      64 |            4 |               1 |                  1 |        41.2824 |        24.5147 |      34 |           10.87   |           41.81   |                          10 |
## | 77 |      74 |            8 |               1 |                  1 |        51.19   |        24.275  |      40 |           10.87   |           41.81   |                          10 |</code></pre>
<div class="sourceCode" id="cb101"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1"></a>pass_Liv_new <span class="op">=</span> pass_Liv.replace({<span class="st">&quot;pass_maker&quot;</span>: players_Liv, <span class="st">&quot;pass_receiver&quot;</span>: players_Liv})</span>
<span id="cb101-2"><a href="#cb101-2"></a><span class="bu">print</span>(pass_Liv_new.to_markdown())</span></code></pre></div>
<pre><code>## |    |   index |   pass_maker |   pass_receiver |   number_of_passes |   pass_maker_x |   pass_maker_y |   count |   pass_receiver_x |   pass_receiver_y |   number_of_passes_received |
## |---:|--------:|-------------:|----------------:|-------------------:|---------------:|---------------:|--------:|------------------:|------------------:|----------------------------:|
## |  0 |      12 |            5 |              26 |                  4 |        76.3909 |       28.5182  |      11 |           59.8154 |           6.83077 |                          13 |
## |  1 |      18 |            7 |              26 |                  1 |        72.3533 |       36.1533  |      15 |           59.8154 |           6.83077 |                          13 |
## |  2 |      28 |           14 |              26 |                  1 |        61.0353 |       37.1529  |      17 |           59.8154 |           6.83077 |                          13 |
## |  3 |      36 |            1 |              26 |                  1 |        12.9143 |       40.3857  |       7 |           59.8154 |           6.83077 |                          13 |
## |  4 |      54 |           66 |              26 |                  1 |        64.6667 |       72.55    |      12 |           59.8154 |           6.83077 |                          13 |
## |  5 |      60 |            4 |              26 |                  3 |        43.3667 |       25.4333  |       9 |           59.8154 |           6.83077 |                          13 |
## |  6 |       1 |           26 |               5 |                  3 |        59.8154 |        6.83077 |      13 |           76.3909 |          28.5182  |                          11 |
## |  7 |      20 |            7 |               5 |                  1 |        72.3533 |       36.1533  |      15 |           76.3909 |          28.5182  |                          11 |
## |  8 |      30 |           14 |               5 |                  4 |        61.0353 |       37.1529  |      17 |           76.3909 |          28.5182  |                          11 |
## |  9 |      40 |           11 |               5 |                  1 |        77.55   |       64.71    |      10 |           76.3909 |          28.5182  |                          11 |
## | 10 |      56 |           66 |               5 |                  3 |        64.6667 |       72.55    |      12 |           76.3909 |          28.5182  |                          11 |
## | 11 |      62 |            4 |               5 |                  1 |        43.3667 |       25.4333  |       9 |           76.3909 |          28.5182  |                          11 |
## | 12 |       2 |           26 |               7 |                  3 |        59.8154 |        6.83077 |      13 |           72.3533 |          36.1533  |                          15 |
## | 13 |       6 |            6 |               7 |                  1 |        41.6909 |       60.1727  |      11 |           72.3533 |          36.1533  |                          15 |
## | 14 |      13 |            5 |               7 |                  1 |        76.3909 |       28.5182  |      11 |           72.3533 |          36.1533  |                          15 |
## | 15 |      31 |           14 |               7 |                  3 |        61.0353 |       37.1529  |      17 |           72.3533 |          36.1533  |                          15 |
## | 16 |      41 |           11 |               7 |                  1 |        77.55   |       64.71    |      10 |           72.3533 |          36.1533  |                          15 |
## | 17 |      47 |            9 |               7 |                  2 |        78.25   |       43.57    |      10 |           72.3533 |          36.1533  |                          15 |
## | 18 |      51 |           19 |               7 |                  1 |        86.275  |       22.075   |       4 |           72.3533 |          36.1533  |                          15 |
## | 19 |       3 |           26 |              14 |                  2 |        59.8154 |        6.83077 |      13 |           61.0353 |          37.1529  |                          17 |
## | 20 |       7 |            6 |              14 |                  1 |        41.6909 |       60.1727  |      11 |           61.0353 |          37.1529  |                          17 |
## | 21 |      14 |            5 |              14 |                  2 |        76.3909 |       28.5182  |      11 |           61.0353 |          37.1529  |                          17 |
## | 22 |      21 |            7 |              14 |                  2 |        72.3533 |       36.1533  |      15 |           61.0353 |          37.1529  |                          17 |
## | 23 |      38 |            1 |              14 |                  1 |        12.9143 |       40.3857  |       7 |           61.0353 |          37.1529  |                          17 |
## | 24 |      48 |            9 |              14 |                  2 |        78.25   |       43.57    |      10 |           61.0353 |          37.1529  |                          17 |
## | 25 |      52 |           19 |              14 |                  1 |        86.275  |       22.075   |       4 |           61.0353 |          37.1529  |                          17 |
## | 26 |      57 |           66 |              14 |                  2 |        64.6667 |       72.55    |      12 |           61.0353 |          37.1529  |                          17 |
## | 27 |      63 |            4 |              14 |                  1 |        43.3667 |       25.4333  |       9 |           61.0353 |          37.1529  |                          17 |
## | 28 |       4 |           26 |               9 |                  2 |        59.8154 |        6.83077 |      13 |           78.25   |          43.57    |                          10 |
## | 29 |      24 |            7 |               9 |                  1 |        72.3533 |       36.1533  |      15 |           78.25   |          43.57    |                          10 |
## | 30 |      42 |           11 |               9 |                  4 |        77.55   |       64.71    |      10 |           78.25   |          43.57    |                          10 |
## | 31 |      53 |           19 |               9 |                  2 |        86.275  |       22.075   |       4 |           78.25   |          43.57    |                          10 |
## | 32 |      59 |           66 |               9 |                  2 |        64.6667 |       72.55    |      12 |           78.25   |          43.57    |                          10 |
## | 33 |       5 |           26 |               4 |                  2 |        59.8154 |        6.83077 |      13 |           43.3667 |          25.4333  |                           9 |
## | 34 |      11 |            6 |               4 |                  2 |        41.6909 |       60.1727  |      11 |           43.3667 |          25.4333  |                           9 |
## | 35 |      17 |            5 |               4 |                  2 |        76.3909 |       28.5182  |      11 |           43.3667 |          25.4333  |                           9 |
## | 36 |      27 |            7 |               4 |                  1 |        72.3533 |       36.1533  |      15 |           43.3667 |          25.4333  |                           9 |
## | 37 |      35 |           14 |               4 |                  2 |        61.0353 |       37.1529  |      17 |           43.3667 |          25.4333  |                           9 |
## | 38 |      39 |            1 |               4 |                  1 |        12.9143 |       40.3857  |       7 |           43.3667 |          25.4333  |                           9 |
## | 39 |      45 |           11 |               4 |                  1 |        77.55   |       64.71    |      10 |           43.3667 |          25.4333  |                           9 |
## | 40 |       8 |            6 |               1 |                  2 |        41.6909 |       60.1727  |      11 |           12.9143 |          40.3857  |                           7 |
## | 41 |      22 |            7 |               1 |                  1 |        72.3533 |       36.1533  |      15 |           12.9143 |          40.3857  |                           7 |
## | 42 |      32 |           14 |               1 |                  2 |        61.0353 |       37.1529  |      17 |           12.9143 |          40.3857  |                           7 |
## | 43 |       9 |            6 |              11 |                  1 |        41.6909 |       60.1727  |      11 |           77.55   |          64.71    |                          10 |
## | 44 |      15 |            5 |              11 |                  1 |        76.3909 |       28.5182  |      11 |           77.55   |          64.71    |                          10 |
## | 45 |      23 |            7 |              11 |                  1 |        72.3533 |       36.1533  |      15 |           77.55   |          64.71    |                          10 |
## | 46 |      49 |            9 |              11 |                  4 |        78.25   |       43.57    |      10 |           77.55   |          64.71    |                          10 |
## | 47 |      58 |           66 |              11 |                  3 |        64.6667 |       72.55    |      12 |           77.55   |          64.71    |                          10 |
## | 48 |      10 |            6 |              66 |                  4 |        41.6909 |       60.1727  |      11 |           64.6667 |          72.55    |                          12 |
## | 49 |      16 |            5 |              66 |                  1 |        76.3909 |       28.5182  |      11 |           64.6667 |          72.55    |                          12 |
## | 50 |      26 |            7 |              66 |                  4 |        72.3533 |       36.1533  |      15 |           64.6667 |          72.55    |                          12 |
## | 51 |      34 |           14 |              66 |                  1 |        61.0353 |       37.1529  |      17 |           64.6667 |          72.55    |                          12 |
## | 52 |      44 |           11 |              66 |                  2 |        77.55   |       64.71    |      10 |           64.6667 |          72.55    |                          12 |
## | 53 |      50 |            9 |              66 |                  1 |        78.25   |       43.57    |      10 |           64.6667 |          72.55    |                          12 |
## | 54 |      64 |            4 |              66 |                  1 |        43.3667 |       25.4333  |       9 |           64.6667 |          72.55    |                          12 |
## | 55 |      19 |            7 |               6 |                  1 |        72.3533 |       36.1533  |      15 |           41.6909 |          60.1727  |                          11 |
## | 56 |      29 |           14 |               6 |                  3 |        61.0353 |       37.1529  |      17 |           41.6909 |          60.1727  |                          11 |
## | 57 |      37 |            1 |               6 |                  4 |        12.9143 |       40.3857  |       7 |           41.6909 |          60.1727  |                          11 |
## | 58 |      46 |            9 |               6 |                  1 |        78.25   |       43.57    |      10 |           41.6909 |          60.1727  |                          11 |
## | 59 |      55 |           66 |               6 |                  1 |        64.6667 |       72.55    |      12 |           41.6909 |          60.1727  |                          11 |
## | 60 |      61 |            4 |               6 |                  3 |        43.3667 |       25.4333  |       9 |           41.6909 |          60.1727  |                          11 |
## | 61 |      25 |            7 |              19 |                  2 |        72.3533 |       36.1533  |      15 |           86.275  |          22.075   |                           4 |
## | 62 |      33 |           14 |              19 |                  1 |        61.0353 |       37.1529  |      17 |           86.275  |          22.075   |                           4 |
## | 63 |      43 |           11 |              19 |                  1 |        77.55   |       64.71    |      10 |           86.275  |          22.075   |                           4 |</code></pre>
<p>Now let us visualize the pass networks for both the teams.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1"></a>pitch <span class="op">=</span> Pitch(pitch_color<span class="op">=</span><span class="st">&#39;grass&#39;</span>, goal_type <span class="op">=</span> <span class="st">&#39;box&#39;</span>, line_color<span class="op">=</span><span class="st">&#39;white&#39;</span>, stripe <span class="op">=</span> <span class="va">True</span>, constrained_layout<span class="op">=</span><span class="va">True</span>, tight_layout<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb103-2"><a href="#cb103-2"></a>fig, ax <span class="op">=</span> pitch.draw()</span>
<span id="cb103-3"><a href="#cb103-3"></a>arrows <span class="op">=</span> pitch.arrows(pass_Real.pass_maker_x, pass_Real.pass_maker_y,</span>
<span id="cb103-4"><a href="#cb103-4"></a>                         pass_Real.pass_receiver_x, pass_Real.pass_receiver_y, lw <span class="op">=</span> <span class="dv">5</span>,</span>
<span id="cb103-5"><a href="#cb103-5"></a>                         color <span class="op">=</span> <span class="st">&#39;black&#39;</span>, zorder <span class="op">=</span> <span class="dv">1</span>, ax <span class="op">=</span> ax)</span>
<span id="cb103-6"><a href="#cb103-6"></a>nodes <span class="op">=</span> pitch.scatter(av_loc_Real.pass_maker_x, av_loc_Real.pass_maker_y,</span>
<span id="cb103-7"><a href="#cb103-7"></a>                           s<span class="op">=</span><span class="dv">350</span>, color <span class="op">=</span> <span class="st">&#39;white&#39;</span>, edgecolors<span class="op">=</span><span class="st">&#39;black&#39;</span>, linewidth<span class="op">=</span><span class="dv">1</span>, alpha <span class="op">=</span> <span class="dv">1</span>, ax <span class="op">=</span> ax)</span>
<span id="cb103-8"><a href="#cb103-8"></a>                          </span>
<span id="cb103-9"><a href="#cb103-9"></a><span class="cf">for</span> index, row <span class="kw">in</span> av_loc_Real.iterrows():</span>
<span id="cb103-10"><a href="#cb103-10"></a>    pitch.annotate(players_Real[row.name], xy<span class="op">=</span>(row.pass_maker_x, row.pass_maker_y), c <span class="op">=</span><span class="st">&#39;black&#39;</span>, va <span class="op">=</span> <span class="st">&#39;center&#39;</span>, ha <span class="op">=</span> <span class="st">&#39;center&#39;</span>, size <span class="op">=</span> <span class="dv">10</span>, ax <span class="op">=</span> ax)</span></code></pre></div>
<div class="sourceCode" id="cb104"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1"></a>plt.title(<span class="st">&quot;Pass network for Real Madrid against Liverpool&quot;</span>, size <span class="op">=</span> <span class="dv">20</span>)                   </span></code></pre></div>
<div class="sourceCode" id="cb105"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<div class="sourceCode" id="cb106"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1"></a>pitch <span class="op">=</span> Pitch(pitch_color<span class="op">=</span><span class="st">&#39;grass&#39;</span>, goal_type <span class="op">=</span> <span class="st">&#39;box&#39;</span>, stripe <span class="op">=</span> <span class="va">True</span>, line_color<span class="op">=</span><span class="st">&#39;white&#39;</span>, constrained_layout<span class="op">=</span><span class="va">True</span>, tight_layout<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb106-2"><a href="#cb106-2"></a>fig, ax <span class="op">=</span> pitch.draw()</span>
<span id="cb106-3"><a href="#cb106-3"></a>arrows <span class="op">=</span> pitch.arrows(<span class="dv">120</span> <span class="op">-</span> pass_Liv.pass_maker_x, pass_Liv.pass_maker_y,</span>
<span id="cb106-4"><a href="#cb106-4"></a>                         <span class="dv">120</span> <span class="op">-</span> pass_Liv.pass_receiver_x, pass_Liv.pass_receiver_y, lw <span class="op">=</span> <span class="dv">5</span>,</span>
<span id="cb106-5"><a href="#cb106-5"></a>                         color <span class="op">=</span> <span class="st">&#39;black&#39;</span>, zorder <span class="op">=</span> <span class="dv">1</span>, ax <span class="op">=</span> ax)</span>
<span id="cb106-6"><a href="#cb106-6"></a>nodes <span class="op">=</span> pitch.scatter(<span class="dv">120</span> <span class="op">-</span> av_loc_Liv.pass_maker_x, av_loc_Liv.pass_maker_y,</span>
<span id="cb106-7"><a href="#cb106-7"></a>                           s<span class="op">=</span><span class="dv">350</span>, color <span class="op">=</span> <span class="st">&#39;red&#39;</span>, edgecolors <span class="op">=</span> <span class="st">&#39;black&#39;</span>, linewidth<span class="op">=</span><span class="dv">1</span>, alpha <span class="op">=</span> <span class="dv">1</span>, ax <span class="op">=</span> ax)</span>
<span id="cb106-8"><a href="#cb106-8"></a>                           </span>
<span id="cb106-9"><a href="#cb106-9"></a><span class="cf">for</span> index, row <span class="kw">in</span> av_loc_Liv.iterrows():</span>
<span id="cb106-10"><a href="#cb106-10"></a>    pitch.annotate(players_Liv[row.name], xy<span class="op">=</span>(<span class="dv">120</span> <span class="op">-</span> row.pass_maker_x, row.pass_maker_y), c <span class="op">=</span><span class="st">&#39;black&#39;</span>, va <span class="op">=</span> <span class="st">&#39;center&#39;</span>, ha <span class="op">=</span> <span class="st">&#39;center&#39;</span>, size <span class="op">=</span> <span class="dv">10</span>, ax <span class="op">=</span> ax)</span></code></pre></div>
<div class="sourceCode" id="cb107"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1"></a>plt.title(<span class="st">&quot;Pass network for Liverpool against Real Madrid&quot;</span>, size <span class="op">=</span> <span class="dv">20</span>)</span></code></pre></div>
<div class="sourceCode" id="cb108"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-3.png" width="672" /></p>
<p>In case of <code>Liverpool</code>’s pass network visualization, we subtract the x coordinates from 120 just to reverse the x-axis. Now that we have been successful in correctly visualizing the pass networks of the teams involved in the game, we will now start analyzing our networks using metrics from the literature of <em>complex network analysis</em>.</p>
<p>Note that both of our networks are directed weighted graphs, with number of passes as the weight for a directed edge.</p>
<p>Let us first develop the isomorphic graph to the one we just visualized for <code>Real Madrid</code>, but this time using the <code>networkx</code> package. First we will use the relevant columns from the <code>pass_Real_new</code> dataset:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1"></a>pass_Real_new <span class="op">=</span> pass_Real_new[[<span class="st">&#39;pass_maker&#39;</span>, <span class="st">&#39;pass_receiver&#39;</span>, <span class="st">&#39;number_of_passes&#39;</span>]]</span>
<span id="cb109-2"><a href="#cb109-2"></a><span class="bu">print</span>(pass_Real_new.to_markdown())</span></code></pre></div>
<pre><code>## |    |   pass_maker |   pass_receiver |   number_of_passes |
## |---:|-------------:|----------------:|-------------------:|
## |  0 |           14 |               2 |                  1 |
## |  1 |            7 |               2 |                  3 |
## |  2 |           22 |               2 |                  2 |
## |  3 |            9 |               2 |                  2 |
## |  4 |           10 |               2 |                 10 |
## |  5 |           12 |               2 |                  2 |
## |  6 |            5 |               2 |                  3 |
## |  7 |            4 |               2 |                  3 |
## |  8 |            8 |               2 |                  1 |
## |  9 |           14 |              10 |                  1 |
## | 10 |            7 |              10 |                  1 |
## | 11 |            2 |              10 |                  7 |
## | 12 |           22 |              10 |                  1 |
## | 13 |           12 |              10 |                  1 |
## | 14 |            5 |              10 |                  5 |
## | 15 |            4 |              10 |                  2 |
## | 16 |            8 |              10 |                  5 |
## | 17 |           14 |              12 |                  1 |
## | 18 |            7 |              12 |                  4 |
## | 19 |           22 |              12 |                  2 |
## | 20 |            1 |              12 |                  2 |
## | 21 |           10 |              12 |                  1 |
## | 22 |            4 |              12 |                  9 |
## | 23 |            8 |              12 |                  4 |
## | 24 |           14 |               5 |                  1 |
## | 25 |            2 |               5 |                  5 |
## | 26 |            1 |               5 |                  2 |
## | 27 |           10 |               5 |                  3 |
## | 28 |           12 |               5 |                  2 |
## | 29 |            4 |               5 |                  5 |
## | 30 |            8 |               5 |                  4 |
## | 31 |           14 |               4 |                  1 |
## | 32 |            7 |               4 |                  1 |
## | 33 |           22 |               4 |                  5 |
## | 34 |            9 |               4 |                  1 |
## | 35 |            1 |               4 |                  4 |
## | 36 |           10 |               4 |                  1 |
## | 37 |           12 |               4 |                  2 |
## | 38 |            5 |               4 |                  6 |
## | 39 |            8 |               4 |                 10 |
## | 40 |           14 |               8 |                  6 |
## | 41 |            2 |               8 |                  1 |
## | 42 |           22 |               8 |                  4 |
## | 43 |            9 |               8 |                  4 |
## | 44 |            1 |               8 |                  1 |
## | 45 |           10 |               8 |                  4 |
## | 46 |           12 |               8 |                  5 |
## | 47 |            5 |               8 |                  4 |
## | 48 |            4 |               8 |                  9 |
## | 49 |            7 |               9 |                  1 |
## | 50 |            2 |               9 |                  1 |
## | 51 |           22 |               9 |                  1 |
## | 52 |            1 |               9 |                  1 |
## | 53 |           10 |               9 |                  1 |
## | 54 |           12 |               9 |                  3 |
## | 55 |            5 |               9 |                  1 |
## | 56 |            8 |               9 |                  2 |
## | 57 |            2 |              14 |                  2 |
## | 58 |            9 |              14 |                  2 |
## | 59 |           10 |              14 |                  1 |
## | 60 |           12 |              14 |                  2 |
## | 61 |            5 |              14 |                  1 |
## | 62 |            8 |              14 |                  2 |
## | 63 |            2 |               7 |                  2 |
## | 64 |           22 |               7 |                  2 |
## | 65 |            9 |               7 |                  1 |
## | 66 |           12 |               7 |                  2 |
## | 67 |            4 |               7 |                  1 |
## | 68 |            8 |               7 |                  2 |
## | 69 |            2 |              22 |                  3 |
## | 70 |           12 |              22 |                  4 |
## | 71 |            4 |              22 |                  4 |
## | 72 |            8 |              22 |                  8 |
## | 73 |            2 |               1 |                  1 |
## | 74 |            9 |               1 |                  1 |
## | 75 |            5 |               1 |                  2 |
## | 76 |            4 |               1 |                  1 |
## | 77 |            8 |               1 |                  1 |</code></pre>
<p>We will next convert <code>pass_Real_new</code> to a list of tuples, where each row is converted to a tuple. This is required for drawing a <code>networkx</code> graph</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1"></a>L_Real <span class="op">=</span> pass_Real_new.<span class="bu">apply</span>(<span class="bu">tuple</span>, axis<span class="op">=</span><span class="dv">1</span>).tolist()</span>
<span id="cb111-2"><a href="#cb111-2"></a><span class="bu">print</span>(L_Real)</span></code></pre></div>
<pre><code>## [(&#39;14&#39;, &#39;2&#39;, 1), (&#39;7&#39;, &#39;2&#39;, 3), (&#39;22&#39;, &#39;2&#39;, 2), (&#39;9&#39;, &#39;2&#39;, 2), (&#39;10&#39;, &#39;2&#39;, 10), (&#39;12&#39;, &#39;2&#39;, 2), (&#39;5&#39;, &#39;2&#39;, 3), (&#39;4&#39;, &#39;2&#39;, 3), (&#39;8&#39;, &#39;2&#39;, 1), (&#39;14&#39;, &#39;10&#39;, 1), (&#39;7&#39;, &#39;10&#39;, 1), (&#39;2&#39;, &#39;10&#39;, 7), (&#39;22&#39;, &#39;10&#39;, 1), (&#39;12&#39;, &#39;10&#39;, 1), (&#39;5&#39;, &#39;10&#39;, 5), (&#39;4&#39;, &#39;10&#39;, 2), (&#39;8&#39;, &#39;10&#39;, 5), (&#39;14&#39;, &#39;12&#39;, 1), (&#39;7&#39;, &#39;12&#39;, 4), (&#39;22&#39;, &#39;12&#39;, 2), (&#39;1&#39;, &#39;12&#39;, 2), (&#39;10&#39;, &#39;12&#39;, 1), (&#39;4&#39;, &#39;12&#39;, 9), (&#39;8&#39;, &#39;12&#39;, 4), (&#39;14&#39;, &#39;5&#39;, 1), (&#39;2&#39;, &#39;5&#39;, 5), (&#39;1&#39;, &#39;5&#39;, 2), (&#39;10&#39;, &#39;5&#39;, 3), (&#39;12&#39;, &#39;5&#39;, 2), (&#39;4&#39;, &#39;5&#39;, 5), (&#39;8&#39;, &#39;5&#39;, 4), (&#39;14&#39;, &#39;4&#39;, 1), (&#39;7&#39;, &#39;4&#39;, 1), (&#39;22&#39;, &#39;4&#39;, 5), (&#39;9&#39;, &#39;4&#39;, 1), (&#39;1&#39;, &#39;4&#39;, 4), (&#39;10&#39;, &#39;4&#39;, 1), (&#39;12&#39;, &#39;4&#39;, 2), (&#39;5&#39;, &#39;4&#39;, 6), (&#39;8&#39;, &#39;4&#39;, 10), (&#39;14&#39;, &#39;8&#39;, 6), (&#39;2&#39;, &#39;8&#39;, 1), (&#39;22&#39;, &#39;8&#39;, 4), (&#39;9&#39;, &#39;8&#39;, 4), (&#39;1&#39;, &#39;8&#39;, 1), (&#39;10&#39;, &#39;8&#39;, 4), (&#39;12&#39;, &#39;8&#39;, 5), (&#39;5&#39;, &#39;8&#39;, 4), (&#39;4&#39;, &#39;8&#39;, 9), (&#39;7&#39;, &#39;9&#39;, 1), (&#39;2&#39;, &#39;9&#39;, 1), (&#39;22&#39;, &#39;9&#39;, 1), (&#39;1&#39;, &#39;9&#39;, 1), (&#39;10&#39;, &#39;9&#39;, 1), (&#39;12&#39;, &#39;9&#39;, 3), (&#39;5&#39;, &#39;9&#39;, 1), (&#39;8&#39;, &#39;9&#39;, 2), (&#39;2&#39;, &#39;14&#39;, 2), (&#39;9&#39;, &#39;14&#39;, 2), (&#39;10&#39;, &#39;14&#39;, 1), (&#39;12&#39;, &#39;14&#39;, 2), (&#39;5&#39;, &#39;14&#39;, 1), (&#39;8&#39;, &#39;14&#39;, 2), (&#39;2&#39;, &#39;7&#39;, 2), (&#39;22&#39;, &#39;7&#39;, 2), (&#39;9&#39;, &#39;7&#39;, 1), (&#39;12&#39;, &#39;7&#39;, 2), (&#39;4&#39;, &#39;7&#39;, 1), (&#39;8&#39;, &#39;7&#39;, 2), (&#39;2&#39;, &#39;22&#39;, 3), (&#39;12&#39;, &#39;22&#39;, 4), (&#39;4&#39;, &#39;22&#39;, 4), (&#39;8&#39;, &#39;22&#39;, 8), (&#39;2&#39;, &#39;1&#39;, 1), (&#39;9&#39;, &#39;1&#39;, 1), (&#39;5&#39;, &#39;1&#39;, 2), (&#39;4&#39;, &#39;1&#39;, 1), (&#39;8&#39;, &#39;1&#39;, 1)]</code></pre>
<p>Now, we can draw the directed weighted graph:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1"></a>G_Real <span class="op">=</span> nx.DiGraph()</span>
<span id="cb113-2"><a href="#cb113-2"></a></span>
<span id="cb113-3"><a href="#cb113-3"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(L_Real)):</span>
<span id="cb113-4"><a href="#cb113-4"></a>    G_Real.add_edge(L_Real[i][<span class="dv">0</span>], L_Real[i][<span class="dv">1</span>], weight <span class="op">=</span> L_Real[i][<span class="dv">2</span>])</span>
<span id="cb113-5"><a href="#cb113-5"></a></span>
<span id="cb113-6"><a href="#cb113-6"></a>edges_Real <span class="op">=</span> G_Real.edges()</span>
<span id="cb113-7"><a href="#cb113-7"></a>weights_Real <span class="op">=</span> [G_Real[u][v][<span class="st">&#39;weight&#39;</span>] <span class="cf">for</span> u, v <span class="kw">in</span> edges_Real]</span>
<span id="cb113-8"><a href="#cb113-8"></a></span>
<span id="cb113-9"><a href="#cb113-9"></a>nx.draw(G_Real, node_size<span class="op">=</span><span class="dv">800</span>, with_labels<span class="op">=</span><span class="va">True</span>, node_color<span class="op">=</span><span class="st">&#39;white&#39;</span>, width <span class="op">=</span> weights_Real)</span>
<span id="cb113-10"><a href="#cb113-10"></a>plt.gca().collections[<span class="dv">0</span>].set_edgecolor(<span class="st">&#39;black&#39;</span>) <span class="co"># sets the edge color of the nodes to black</span></span>
<span id="cb113-11"><a href="#cb113-11"></a>plt.title(<span class="st">&quot;Pass network for Real Madrid vs Liverpool&quot;</span>, size <span class="op">=</span> <span class="dv">20</span>)</span></code></pre></div>
<div class="sourceCode" id="cb114"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-5.png" width="672" /></p>
<p>Now for <code>Liverpool</code> too, let us first clean the <code>pass_Liv_new</code> dataset and then draw the isomorphic weighted directed graph:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1"></a>pass_Liv_new <span class="op">=</span> pass_Liv_new[[<span class="st">&#39;pass_maker&#39;</span>, <span class="st">&#39;pass_receiver&#39;</span>, <span class="st">&#39;number_of_passes&#39;</span>]]</span>
<span id="cb115-2"><a href="#cb115-2"></a><span class="bu">print</span>(pass_Liv_new.to_markdown())</span></code></pre></div>
<pre><code>## |    |   pass_maker |   pass_receiver |   number_of_passes |
## |---:|-------------:|----------------:|-------------------:|
## |  0 |            5 |              26 |                  4 |
## |  1 |            7 |              26 |                  1 |
## |  2 |           14 |              26 |                  1 |
## |  3 |            1 |              26 |                  1 |
## |  4 |           66 |              26 |                  1 |
## |  5 |            4 |              26 |                  3 |
## |  6 |           26 |               5 |                  3 |
## |  7 |            7 |               5 |                  1 |
## |  8 |           14 |               5 |                  4 |
## |  9 |           11 |               5 |                  1 |
## | 10 |           66 |               5 |                  3 |
## | 11 |            4 |               5 |                  1 |
## | 12 |           26 |               7 |                  3 |
## | 13 |            6 |               7 |                  1 |
## | 14 |            5 |               7 |                  1 |
## | 15 |           14 |               7 |                  3 |
## | 16 |           11 |               7 |                  1 |
## | 17 |            9 |               7 |                  2 |
## | 18 |           19 |               7 |                  1 |
## | 19 |           26 |              14 |                  2 |
## | 20 |            6 |              14 |                  1 |
## | 21 |            5 |              14 |                  2 |
## | 22 |            7 |              14 |                  2 |
## | 23 |            1 |              14 |                  1 |
## | 24 |            9 |              14 |                  2 |
## | 25 |           19 |              14 |                  1 |
## | 26 |           66 |              14 |                  2 |
## | 27 |            4 |              14 |                  1 |
## | 28 |           26 |               9 |                  2 |
## | 29 |            7 |               9 |                  1 |
## | 30 |           11 |               9 |                  4 |
## | 31 |           19 |               9 |                  2 |
## | 32 |           66 |               9 |                  2 |
## | 33 |           26 |               4 |                  2 |
## | 34 |            6 |               4 |                  2 |
## | 35 |            5 |               4 |                  2 |
## | 36 |            7 |               4 |                  1 |
## | 37 |           14 |               4 |                  2 |
## | 38 |            1 |               4 |                  1 |
## | 39 |           11 |               4 |                  1 |
## | 40 |            6 |               1 |                  2 |
## | 41 |            7 |               1 |                  1 |
## | 42 |           14 |               1 |                  2 |
## | 43 |            6 |              11 |                  1 |
## | 44 |            5 |              11 |                  1 |
## | 45 |            7 |              11 |                  1 |
## | 46 |            9 |              11 |                  4 |
## | 47 |           66 |              11 |                  3 |
## | 48 |            6 |              66 |                  4 |
## | 49 |            5 |              66 |                  1 |
## | 50 |            7 |              66 |                  4 |
## | 51 |           14 |              66 |                  1 |
## | 52 |           11 |              66 |                  2 |
## | 53 |            9 |              66 |                  1 |
## | 54 |            4 |              66 |                  1 |
## | 55 |            7 |               6 |                  1 |
## | 56 |           14 |               6 |                  3 |
## | 57 |            1 |               6 |                  4 |
## | 58 |            9 |               6 |                  1 |
## | 59 |           66 |               6 |                  1 |
## | 60 |            4 |               6 |                  3 |
## | 61 |            7 |              19 |                  2 |
## | 62 |           14 |              19 |                  1 |
## | 63 |           11 |              19 |                  1 |</code></pre>
<div class="sourceCode" id="cb117"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb117-1"><a href="#cb117-1"></a>L_Liv <span class="op">=</span> pass_Liv_new.<span class="bu">apply</span>(<span class="bu">tuple</span>, axis<span class="op">=</span><span class="dv">1</span>).tolist()</span>
<span id="cb117-2"><a href="#cb117-2"></a>G_Liv <span class="op">=</span> nx.DiGraph()</span>
<span id="cb117-3"><a href="#cb117-3"></a></span>
<span id="cb117-4"><a href="#cb117-4"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(L_Liv)):</span>
<span id="cb117-5"><a href="#cb117-5"></a>    G_Liv.add_edge(L_Liv[i][<span class="dv">0</span>], L_Liv[i][<span class="dv">1</span>], weight <span class="op">=</span> L_Liv[i][<span class="dv">2</span>])</span>
<span id="cb117-6"><a href="#cb117-6"></a></span>
<span id="cb117-7"><a href="#cb117-7"></a>edges_Liv <span class="op">=</span> G_Liv.edges()</span>
<span id="cb117-8"><a href="#cb117-8"></a>weights_Liv <span class="op">=</span> [G_Liv[u][v][<span class="st">&#39;weight&#39;</span>] <span class="cf">for</span> u, v <span class="kw">in</span> edges_Liv]</span>
<span id="cb117-9"><a href="#cb117-9"></a></span>
<span id="cb117-10"><a href="#cb117-10"></a>nx.draw(G_Liv, node_size <span class="op">=</span> <span class="dv">800</span>, with_labels <span class="op">=</span> <span class="va">True</span>, node_color <span class="op">=</span> <span class="st">&#39;red&#39;</span>, width <span class="op">=</span> weights_Liv)</span>
<span id="cb117-11"><a href="#cb117-11"></a>plt.gca().collections[<span class="dv">0</span>].set_edgecolor(<span class="st">&#39;black&#39;</span>) <span class="co"># sets the edge color of the nodes to black</span></span>
<span id="cb117-12"><a href="#cb117-12"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-7.png" width="672" /></p>
<p>Let us discuss some of the important functions from the <code>networkx</code> package that we have employed for drawing graphs:</p>
<ul>
<li><code>DiGraph()</code> function sets the base class for generating directed graphs,</li>
<li><code>add_edge()</code> function adds an edge between two nodes given by the first two arguments and the <code>weight</code> parameter sets the weight for this edge</li>
<li><code>draw()</code> function visualizes a <code>networkx</code> graph and its parameters are self-explanatory</li>
</ul>
<p>Let us now understand the <em>degree</em>, <em>indegree</em> and <em>outdegree</em> of a node from a directed weighted graph. <em>Indegree</em> of a node is the total number of edges that are directed towards the node, i.e, for our case, the total number of passes received by a player (node). Similarly, <em>outdegree</em> means the total number of edges that are directed outwards from the node, i.e, the total number of passes given by a player. Finally, the <em>degree</em> of a node is the total number of edges connected to a node (ignoring the directions of the edges), i.e, sum of the total number of passes given and the total number of passes received by a player. It is evident that the <em>degree</em> of a node is the sum of its <em>indegree</em> and <em>outdegree</em>.</p>
<p>We will use <code>networkx</code> to find out the node degrees from the pass network of <code>Real Madrid</code>.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1"></a>deg_Real <span class="op">=</span> <span class="bu">dict</span>(nx.degree(G_Real)) <span class="co"># prepares a dictionary with jersey numbers as the node ids, i.e, the dictionary keys and degrees as the dictionary values</span></span>
<span id="cb118-2"><a href="#cb118-2"></a>degree_Real <span class="op">=</span> pd.DataFrame.from_dict(<span class="bu">list</span>(deg_Real.items())) <span class="co"># convert a dictionary to a pandas dataframe</span></span>
<span id="cb118-3"><a href="#cb118-3"></a>degree_Real.rename(columns <span class="op">=</span> {<span class="dv">0</span>:<span class="st">&#39;jersey_number&#39;</span>, <span class="dv">1</span>: <span class="st">&#39;node_degree&#39;</span>}, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb118-4"><a href="#cb118-4"></a><span class="bu">print</span>(degree_Real.to_markdown())</span></code></pre></div>
<pre><code>## |    |   jersey_number |   node_degree |
## |---:|----------------:|--------------:|
## |  0 |              14 |            12 |
## |  1 |               2 |            17 |
## |  2 |               7 |            11 |
## |  3 |              22 |            11 |
## |  4 |               9 |            14 |
## |  5 |              10 |            15 |
## |  6 |              12 |            16 |
## |  7 |               5 |            14 |
## |  8 |               4 |            17 |
## |  9 |               8 |            19 |
## | 10 |               1 |            10 |</code></pre>
<p>Out of the 11 starting players for <code>Real Madrid</code> in that game, we notice that the player with jersey number <code>8</code> (i.e, <code>Toni Kroos</code>) had the highest <em>degree</em> value of 19. On second are ranked the players with jersey number <code>2</code> and <code>4</code> with degree value 17, i.e, our favorite Spanish defenders <code>'Daniel Carvajal Ramos'</code> and <code>'Sergio Ramos García'</code> respectively. Tremendous! Let us use <code>seaborn</code> to visualize the <code>deg_Real</code> dictionary via histogram plot:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1"></a>X <span class="op">=</span> <span class="bu">list</span>(deg_Real.keys())</span>
<span id="cb120-2"><a href="#cb120-2"></a>Y <span class="op">=</span> <span class="bu">list</span>(deg_Real.values())</span>
<span id="cb120-3"><a href="#cb120-3"></a>sns.barplot(x <span class="op">=</span> Y, y <span class="op">=</span> X, palette <span class="op">=</span> <span class="st">&quot;magma&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb121"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1"></a>plt.xticks(<span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">max</span>(Y)<span class="op">+</span><span class="dv">5</span>, <span class="dv">2</span>))</span></code></pre></div>
<div class="sourceCode" id="cb122"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1"></a>plt.ylabel(<span class="st">&quot;Player Jersey number&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb123"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb123-1"><a href="#cb123-1"></a>plt.xlabel(<span class="st">&quot;degree&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb124"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1"></a>plt.title(<span class="st">&quot;Player pass degrees for Real Madrid vs Liverpool&quot;</span>, size <span class="op">=</span> <span class="dv">16</span>)</span></code></pre></div>
<div class="sourceCode" id="cb125"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb125-1"><a href="#cb125-1"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-9.png" width="672" /></p>
<p>Let us build the dataframe for <code>Liverpool</code> too:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1"></a>deg_Liv <span class="op">=</span> <span class="bu">dict</span>(nx.degree(G_Liv)) <span class="co"># prepares a dictionary with jersey numbers as the node ids, i.e, the dictionary keys and degrees as the dictionary values</span></span>
<span id="cb126-2"><a href="#cb126-2"></a>degree_Liv <span class="op">=</span> pd.DataFrame.from_dict(<span class="bu">list</span>(deg_Liv.items())) <span class="co"># convert a dictionary to a pandas dataframe</span></span>
<span id="cb126-3"><a href="#cb126-3"></a>degree_Liv.rename(columns <span class="op">=</span> {<span class="dv">0</span>:<span class="st">&#39;jersey_number&#39;</span>, <span class="dv">1</span>: <span class="st">&#39;node_degree&#39;</span>}, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb126-4"><a href="#cb126-4"></a><span class="bu">print</span>(degree_Liv.to_markdown())</span></code></pre></div>
<pre><code>## |    |   jersey_number |   node_degree |
## |---:|----------------:|--------------:|
## |  0 |               5 |            12 |
## |  1 |              26 |            11 |
## |  2 |               7 |            17 |
## |  3 |              14 |            17 |
## |  4 |               1 |             7 |
## |  5 |              66 |            13 |
## |  6 |               4 |            12 |
## |  7 |              11 |            11 |
## |  8 |               6 |            12 |
## |  9 |               9 |            10 |
## | 10 |              19 |             6 |</code></pre>
<p>We see that for Liverpool the degree value is highest (17) for players having jersey number <code>14</code> and <code>7</code>, i,e <code>'Jordan Brian Henderson'</code> and <code>'James Philip Milner'</code> respectively. We will visualize the <code>deg_Liv</code> dictionary via histogram plot:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1"></a>X <span class="op">=</span> <span class="bu">list</span>(deg_Liv.keys())</span>
<span id="cb128-2"><a href="#cb128-2"></a>Y <span class="op">=</span> <span class="bu">list</span>(deg_Liv.values())</span>
<span id="cb128-3"><a href="#cb128-3"></a>sns.barplot(x <span class="op">=</span> Y, y <span class="op">=</span> X, palette <span class="op">=</span> <span class="st">&quot;magma&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb129"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb129-1"><a href="#cb129-1"></a>plt.xticks(<span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">max</span>(Y)<span class="op">+</span><span class="dv">5</span>, <span class="dv">2</span>))</span></code></pre></div>
<div class="sourceCode" id="cb130"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1"></a>plt.ylabel(<span class="st">&quot;Player Jersey number&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb131"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb131-1"><a href="#cb131-1"></a>plt.xlabel(<span class="st">&quot;degree&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb132"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1"></a>plt.title(<span class="st">&quot;Player pass degrees for Liverpool vs Real Madrid&quot;</span>, size <span class="op">=</span> <span class="dv">16</span>)</span></code></pre></div>
<div class="sourceCode" id="cb133"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-11.png" width="672" /></p>
<p>We will visualize similar histogram plots for the <em>indegrees</em> and the <em>outdegrees</em> too:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1"></a>indeg_Real <span class="op">=</span> <span class="bu">dict</span>(G_Real.in_degree()) </span>
<span id="cb134-2"><a href="#cb134-2"></a>indegree_Real <span class="op">=</span> pd.DataFrame.from_dict(<span class="bu">list</span>(indeg_Real.items())) </span>
<span id="cb134-3"><a href="#cb134-3"></a>indegree_Real.rename(columns <span class="op">=</span> {<span class="dv">0</span>:<span class="st">&#39;jersey_number&#39;</span>, <span class="dv">1</span>: <span class="st">&#39;node_indegree&#39;</span>}, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb134-4"><a href="#cb134-4"></a><span class="bu">print</span>(indegree_Real.to_markdown())</span></code></pre></div>
<div class="sourceCode" id="cb135"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1"></a>X <span class="op">=</span> <span class="bu">list</span>(indeg_Real.keys())</span>
<span id="cb135-2"><a href="#cb135-2"></a>Y <span class="op">=</span> <span class="bu">list</span>(indeg_Real.values())</span>
<span id="cb135-3"><a href="#cb135-3"></a>sns.barplot(x <span class="op">=</span> Y, y <span class="op">=</span> X, palette <span class="op">=</span> <span class="st">&quot;hls&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb136"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb136-1"><a href="#cb136-1"></a>plt.xticks(<span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">max</span>(Y)<span class="op">+</span><span class="dv">5</span>, <span class="dv">2</span>))</span></code></pre></div>
<div class="sourceCode" id="cb137"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb137-1"><a href="#cb137-1"></a>plt.ylabel(<span class="st">&quot;Player Jersey number&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb138"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb138-1"><a href="#cb138-1"></a>plt.xlabel(<span class="st">&quot;indegree&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb139"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1"></a>plt.title(<span class="st">&quot;Player pass indegrees for Real Madrid vs Liverpool&quot;</span>, size <span class="op">=</span> <span class="dv">16</span>)</span></code></pre></div>
<div class="sourceCode" id="cb140"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-13.png" width="672" /></p>
<div class="sourceCode" id="cb141"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1"></a>indeg_Liv <span class="op">=</span> <span class="bu">dict</span>(G_Liv.in_degree()) </span>
<span id="cb141-2"><a href="#cb141-2"></a>indegree_Liv <span class="op">=</span> pd.DataFrame.from_dict(<span class="bu">list</span>(indeg_Liv.items())) </span>
<span id="cb141-3"><a href="#cb141-3"></a>indegree_Liv.rename(columns <span class="op">=</span> {<span class="dv">0</span>:<span class="st">&#39;jersey_number&#39;</span>, <span class="dv">1</span>: <span class="st">&#39;node_indegree&#39;</span>}, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb141-4"><a href="#cb141-4"></a><span class="bu">print</span>(indegree_Liv.to_markdown())</span></code></pre></div>
<div class="sourceCode" id="cb142"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb142-1"><a href="#cb142-1"></a>X <span class="op">=</span> <span class="bu">list</span>(indeg_Liv.keys())</span>
<span id="cb142-2"><a href="#cb142-2"></a>Y <span class="op">=</span> <span class="bu">list</span>(indeg_Liv.values())</span>
<span id="cb142-3"><a href="#cb142-3"></a>sns.barplot(x <span class="op">=</span> Y, y <span class="op">=</span> X, palette <span class="op">=</span> <span class="st">&quot;hls&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb143"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb143-1"><a href="#cb143-1"></a>plt.xticks(<span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">max</span>(Y)<span class="op">+</span><span class="dv">5</span>, <span class="dv">2</span>))</span></code></pre></div>
<div class="sourceCode" id="cb144"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1"></a>plt.ylabel(<span class="st">&quot;Player Jersey number&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb145"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb145-1"><a href="#cb145-1"></a>plt.xlabel(<span class="st">&quot;indegree&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb146"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb146-1"><a href="#cb146-1"></a>plt.title(<span class="st">&quot;Player pass indegrees for Liverpool vs Real Madrid&quot;</span>, size <span class="op">=</span> <span class="dv">16</span>)</span></code></pre></div>
<div class="sourceCode" id="cb147"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb147-1"><a href="#cb147-1"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-15.png" width="672" /></p>
<div class="sourceCode" id="cb148"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb148-1"><a href="#cb148-1"></a>outdeg_Real <span class="op">=</span> <span class="bu">dict</span>(G_Real.out_degree()) </span>
<span id="cb148-2"><a href="#cb148-2"></a>outdegree_Real <span class="op">=</span> pd.DataFrame.from_dict(<span class="bu">list</span>(outdeg_Real.items())) </span>
<span id="cb148-3"><a href="#cb148-3"></a>outdegree_Real.rename(columns <span class="op">=</span> {<span class="dv">0</span>:<span class="st">&#39;jersey_number&#39;</span>, <span class="dv">1</span>: <span class="st">&#39;node_outdegree&#39;</span>}, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb148-4"><a href="#cb148-4"></a><span class="bu">print</span>(outdegree_Real.to_markdown())</span></code></pre></div>
<div class="sourceCode" id="cb149"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb149-1"><a href="#cb149-1"></a>X <span class="op">=</span> <span class="bu">list</span>(outdeg_Real.keys())</span>
<span id="cb149-2"><a href="#cb149-2"></a>Y <span class="op">=</span> <span class="bu">list</span>(outdeg_Real.values())</span>
<span id="cb149-3"><a href="#cb149-3"></a>sns.barplot(x <span class="op">=</span> Y, y <span class="op">=</span> X, palette <span class="op">=</span> <span class="st">&quot;hls&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb150"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb150-1"><a href="#cb150-1"></a>plt.xticks(<span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">max</span>(Y)<span class="op">+</span><span class="dv">5</span>, <span class="dv">2</span>))</span></code></pre></div>
<div class="sourceCode" id="cb151"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb151-1"><a href="#cb151-1"></a>plt.ylabel(<span class="st">&quot;Player Jersey number&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb152"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb152-1"><a href="#cb152-1"></a>plt.xlabel(<span class="st">&quot;outdegree&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb153"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb153-1"><a href="#cb153-1"></a>plt.title(<span class="st">&quot;Player pass outdegrees for Real Madrid vs Liverpool&quot;</span>, size <span class="op">=</span> <span class="dv">16</span>)</span></code></pre></div>
<div class="sourceCode" id="cb154"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb154-1"><a href="#cb154-1"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-17.png" width="672" /></p>
<div class="sourceCode" id="cb155"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb155-1"><a href="#cb155-1"></a>outdeg_Liv <span class="op">=</span> <span class="bu">dict</span>(G_Liv.out_degree()) </span>
<span id="cb155-2"><a href="#cb155-2"></a>outdegree_Liv <span class="op">=</span> pd.DataFrame.from_dict(<span class="bu">list</span>(outdeg_Liv.items())) </span>
<span id="cb155-3"><a href="#cb155-3"></a>outdegree_Liv.rename(columns <span class="op">=</span> {<span class="dv">0</span>:<span class="st">&#39;jersey_number&#39;</span>, <span class="dv">1</span>: <span class="st">&#39;node_outdegree&#39;</span>}, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb155-4"><a href="#cb155-4"></a><span class="bu">print</span>(outdegree_Liv.to_markdown())</span></code></pre></div>
<div class="sourceCode" id="cb156"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb156-1"><a href="#cb156-1"></a>X <span class="op">=</span> <span class="bu">list</span>(outdeg_Liv.keys())</span>
<span id="cb156-2"><a href="#cb156-2"></a>Y <span class="op">=</span> <span class="bu">list</span>(outdeg_Liv.values())</span>
<span id="cb156-3"><a href="#cb156-3"></a>sns.barplot(x <span class="op">=</span> Y, y <span class="op">=</span> X, palette <span class="op">=</span> <span class="st">&quot;hls&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb157"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb157-1"><a href="#cb157-1"></a>plt.xticks(<span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">max</span>(Y)<span class="op">+</span><span class="dv">5</span>, <span class="dv">2</span>))</span></code></pre></div>
<div class="sourceCode" id="cb158"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb158-1"><a href="#cb158-1"></a>plt.ylabel(<span class="st">&quot;Player Jersey number&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb159"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb159-1"><a href="#cb159-1"></a>plt.xlabel(<span class="st">&quot;outdegree&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb160"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb160-1"><a href="#cb160-1"></a>plt.title(<span class="st">&quot;Player pass outdegrees for Liverpool vs Real Madrid&quot;</span>, size <span class="op">=</span> <span class="dv">16</span>)</span></code></pre></div>
<div class="sourceCode" id="cb161"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb161-1"><a href="#cb161-1"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-19.png" width="672" /></p>
<p>Now, let us generate the adjacency matrices fr both <code>G_Real</code> and <code>G_Liv</code> graphs:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb162-1"><a href="#cb162-1"></a>A_Real <span class="op">=</span> nx.adjacency_matrix(G_Real)</span>
<span id="cb162-2"><a href="#cb162-2"></a>A_Liv <span class="op">=</span> nx.adjacency_matrix(G_Liv)</span>
<span id="cb162-3"><a href="#cb162-3"></a>A_Real <span class="op">=</span> A_Real.todense()</span>
<span id="cb162-4"><a href="#cb162-4"></a>A_Liv <span class="op">=</span> A_Liv.todense()</span></code></pre></div>
<p>We can visualize the matrices as heatmaps:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb163-1"><a href="#cb163-1"></a>sns.heatmap(A_Real, annot <span class="op">=</span> <span class="va">True</span>, cmap <span class="op">=</span><span class="st">&#39;gnuplot&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb164"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb164-1"><a href="#cb164-1"></a>plt.title(<span class="st">&quot;Adjacency matrix for Real Madrid&#39;s pass network&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb165"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb165-1"><a href="#cb165-1"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-21.png" width="672" /></p>
<div class="sourceCode" id="cb166"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb166-1"><a href="#cb166-1"></a>sns.heatmap(A_Liv, annot <span class="op">=</span> <span class="va">True</span>, cmap <span class="op">=</span><span class="st">&#39;gnuplot&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb167"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb167-1"><a href="#cb167-1"></a>plt.title(<span class="st">&quot;Adjacency matrix for Liverpool&#39;s pass network&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb168"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb168-1"><a href="#cb168-1"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-23.png" width="672" /></p>
<p>If we look into the diagonal of the adjacency matrices, we notice that all the values in the diagonals are 0. This depicts that their isn’t any self loops in any nodes, indicating a player cannot pass to themselves.</p>
<p>The next step is to calculate the degree correlation coefficient of a graph. More specifically, we will calculate <em>Pearson’s degree correlation coefficient</em> value. A positive value of the metric shows an overall positive relationship between the degrees (number of successful passes) of two adjacent nodes (players). Whereas a negative value shows an overall negative relationship. If it is 0, there is no relationship. Also the metric lies in [-1, 1], indicating -1 as the prefect negative relationship and 1 as the perfect positive relationship.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb169-1"><a href="#cb169-1"></a>r_Real <span class="op">=</span> nx.degree_pearson_correlation_coefficient(G_Real, weight <span class="op">=</span> <span class="st">&#39;weight&#39;</span>)</span>
<span id="cb169-2"><a href="#cb169-2"></a>r_Liv <span class="op">=</span> nx.degree_pearson_correlation_coefficient(G_Liv, weight <span class="op">=</span> <span class="st">&#39;weight&#39;</span>)</span>
<span id="cb169-3"><a href="#cb169-3"></a><span class="bu">print</span>(r_Real, r_Liv)</span></code></pre></div>
<pre><code>## -0.1798383643286018 -0.2412372196699064</code></pre>
<p>Now we work on a metric that focuses on the geodesic distance between two player nodes in a graph. One way to implement this is to divide 1 by the <code>'weight'</code> column in the pass network. Let us create a new graph for <code>Real Madrid</code>:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb171-1"><a href="#cb171-1"></a>pass_Real_mod <span class="op">=</span> pass_Real_new[[<span class="st">&#39;pass_maker&#39;</span>, <span class="st">&#39;pass_receiver&#39;</span>]]</span>
<span id="cb171-2"><a href="#cb171-2"></a>pass_Real_mod[<span class="st">&#39;1/nop&#39;</span>] <span class="op">=</span> <span class="dv">1</span><span class="op">/</span>pass_Real_new[<span class="st">&#39;number_of_passes&#39;</span>]</span>
<span id="cb171-3"><a href="#cb171-3"></a><span class="bu">print</span>(pass_Real_mod.head(<span class="dv">5</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   pass_maker |   pass_receiver |    1/nop |
## |---:|-------------:|----------------:|---------:|
## |  0 |           14 |               2 | 1        |
## |  1 |            7 |               2 | 0.333333 |
## |  2 |           22 |               2 | 0.5      |
## |  3 |            9 |               2 | 0.5      |
## |  4 |           10 |               2 | 0.1      |</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb173-1"><a href="#cb173-1"></a>L_Real_mod <span class="op">=</span> pass_Real_mod.<span class="bu">apply</span>(<span class="bu">tuple</span>, axis<span class="op">=</span><span class="dv">1</span>).tolist()</span>
<span id="cb173-2"><a href="#cb173-2"></a></span>
<span id="cb173-3"><a href="#cb173-3"></a>G_Real_mod <span class="op">=</span> nx.DiGraph()</span>
<span id="cb173-4"><a href="#cb173-4"></a></span>
<span id="cb173-5"><a href="#cb173-5"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(L_Real_mod)):</span>
<span id="cb173-6"><a href="#cb173-6"></a>    G_Real_mod.add_edge(L_Real_mod[i][<span class="dv">0</span>], L_Real_mod[i][<span class="dv">1</span>], weight <span class="op">=</span> L_Real_mod[i][<span class="dv">2</span>])</span>
<span id="cb173-7"><a href="#cb173-7"></a></span>
<span id="cb173-8"><a href="#cb173-8"></a>edges_Real_mod <span class="op">=</span> G_Real_mod.edges()</span>
<span id="cb173-9"><a href="#cb173-9"></a>weights_Real_mod <span class="op">=</span> [G_Real_mod[u][v][<span class="st">&#39;weight&#39;</span>] <span class="cf">for</span> u, v <span class="kw">in</span> edges_Real_mod]</span>
<span id="cb173-10"><a href="#cb173-10"></a></span>
<span id="cb173-11"><a href="#cb173-11"></a>nx.draw(G_Real_mod, node_size<span class="op">=</span><span class="dv">800</span>, with_labels<span class="op">=</span><span class="va">True</span>, node_color<span class="op">=</span><span class="st">&#39;white&#39;</span>, width <span class="op">=</span> weights_Real_mod)</span>
<span id="cb173-12"><a href="#cb173-12"></a>plt.gca().collections[<span class="dv">0</span>].set_edgecolor(<span class="st">&#39;black&#39;</span>)</span>
<span id="cb173-13"><a href="#cb173-13"></a>plt.title(<span class="st">&quot;Modified pass network for Real Madrid vs Liverpool&quot;</span>, size <span class="op">=</span> <span class="dv">20</span>)</span></code></pre></div>
<div class="sourceCode" id="cb174"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb174-1"><a href="#cb174-1"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-25.png" width="672" /></p>
<p>We will perform the same operations to create a modified graph for <code>Liverpool</code> too:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb175-1"><a href="#cb175-1"></a>pass_Liv_mod <span class="op">=</span> pass_Liv_new[[<span class="st">&#39;pass_maker&#39;</span>, <span class="st">&#39;pass_receiver&#39;</span>]]</span>
<span id="cb175-2"><a href="#cb175-2"></a>pass_Liv_mod[<span class="st">&#39;1/nop&#39;</span>] <span class="op">=</span> <span class="dv">1</span><span class="op">/</span>pass_Liv_new[<span class="st">&#39;number_of_passes&#39;</span>]</span>
<span id="cb175-3"><a href="#cb175-3"></a><span class="bu">print</span>(pass_Liv_mod.head(<span class="dv">5</span>).to_markdown())</span></code></pre></div>
<pre><code>## |    |   pass_maker |   pass_receiver |   1/nop |
## |---:|-------------:|----------------:|--------:|
## |  0 |            5 |              26 |    0.25 |
## |  1 |            7 |              26 |    1    |
## |  2 |           14 |              26 |    1    |
## |  3 |            1 |              26 |    1    |
## |  4 |           66 |              26 |    1    |</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb177-1"><a href="#cb177-1"></a>L_Liv_mod <span class="op">=</span> pass_Liv_mod.<span class="bu">apply</span>(<span class="bu">tuple</span>, axis<span class="op">=</span><span class="dv">1</span>).tolist()</span>
<span id="cb177-2"><a href="#cb177-2"></a></span>
<span id="cb177-3"><a href="#cb177-3"></a>G_Liv_mod <span class="op">=</span> nx.DiGraph()</span>
<span id="cb177-4"><a href="#cb177-4"></a></span>
<span id="cb177-5"><a href="#cb177-5"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(L_Liv_mod)):</span>
<span id="cb177-6"><a href="#cb177-6"></a>    G_Liv_mod.add_edge(L_Liv_mod[i][<span class="dv">0</span>], L_Liv_mod[i][<span class="dv">1</span>], weight <span class="op">=</span> L_Liv_mod[i][<span class="dv">2</span>])</span>
<span id="cb177-7"><a href="#cb177-7"></a></span>
<span id="cb177-8"><a href="#cb177-8"></a>edges_Liv_mod <span class="op">=</span> G_Liv_mod.edges()</span>
<span id="cb177-9"><a href="#cb177-9"></a>weights_Liv_mod <span class="op">=</span> [G_Liv_mod[u][v][<span class="st">&#39;weight&#39;</span>] <span class="cf">for</span> u, v <span class="kw">in</span> edges_Liv_mod]</span>
<span id="cb177-10"><a href="#cb177-10"></a></span>
<span id="cb177-11"><a href="#cb177-11"></a>nx.draw(G_Liv_mod, node_size<span class="op">=</span><span class="dv">800</span>, with_labels<span class="op">=</span><span class="va">True</span>, node_color<span class="op">=</span><span class="st">&#39;red&#39;</span>, width <span class="op">=</span> weights_Liv_mod)</span>
<span id="cb177-12"><a href="#cb177-12"></a>plt.gca().collections[<span class="dv">0</span>].set_edgecolor(<span class="st">&#39;black&#39;</span>)</span>
<span id="cb177-13"><a href="#cb177-13"></a>plt.title(<span class="st">&quot;Modified pass network for Liverpool vs Real Madrid&quot;</span>, size <span class="op">=</span> <span class="dv">20</span>)</span></code></pre></div>
<div class="sourceCode" id="cb178"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb178-1"><a href="#cb178-1"></a>plt.show()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-2-27.png" width="672" /></p>
<p>Now using these modified graphs we can calculate the all pair shortest paths between the nodes (players) for both the teams. Let us compute first for <code>Real Madrid</code>:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb179-1"><a href="#cb179-1"></a>dis_Real <span class="op">=</span> nx.shortest_path(G_Real_mod, weight <span class="op">=</span> <span class="st">&#39;weight&#39;</span>)</span>
<span id="cb179-2"><a href="#cb179-2"></a><span class="bu">print</span>(dis_Real)</span></code></pre></div>
<pre><code>## {&#39;14&#39;: {&#39;14&#39;: [&#39;14&#39;], &#39;2&#39;: [&#39;14&#39;, &#39;8&#39;, &#39;10&#39;, &#39;2&#39;], &#39;10&#39;: [&#39;14&#39;, &#39;8&#39;, &#39;10&#39;], &#39;12&#39;: [&#39;14&#39;, &#39;8&#39;, &#39;4&#39;, &#39;12&#39;], &#39;5&#39;: [&#39;14&#39;, &#39;8&#39;, &#39;5&#39;], &#39;4&#39;: [&#39;14&#39;, &#39;8&#39;, &#39;4&#39;], &#39;8&#39;: [&#39;14&#39;, &#39;8&#39;], &#39;9&#39;: [&#39;14&#39;, &#39;8&#39;, &#39;9&#39;], &#39;7&#39;: [&#39;14&#39;, &#39;8&#39;, &#39;7&#39;], &#39;22&#39;: [&#39;14&#39;, &#39;8&#39;, &#39;22&#39;], &#39;1&#39;: [&#39;14&#39;, &#39;8&#39;, &#39;5&#39;, &#39;1&#39;]}, &#39;2&#39;: {&#39;2&#39;: [&#39;2&#39;], &#39;10&#39;: [&#39;2&#39;, &#39;10&#39;], &#39;5&#39;: [&#39;2&#39;, &#39;5&#39;], &#39;8&#39;: [&#39;2&#39;, &#39;10&#39;, &#39;8&#39;], &#39;9&#39;: [&#39;2&#39;, &#39;5&#39;, &#39;4&#39;, &#39;12&#39;, &#39;9&#39;], &#39;14&#39;: [&#39;2&#39;, &#39;14&#39;], &#39;7&#39;: [&#39;2&#39;, &#39;7&#39;], &#39;22&#39;: [&#39;2&#39;, &#39;22&#39;], &#39;1&#39;: [&#39;2&#39;, &#39;5&#39;, &#39;1&#39;], &#39;12&#39;: [&#39;2&#39;, &#39;5&#39;, &#39;4&#39;, &#39;12&#39;], &#39;4&#39;: [&#39;2&#39;, &#39;5&#39;, &#39;4&#39;]}, &#39;7&#39;: {&#39;7&#39;: [&#39;7&#39;], &#39;2&#39;: [&#39;7&#39;, &#39;2&#39;], &#39;10&#39;: [&#39;7&#39;, &#39;2&#39;, &#39;10&#39;], &#39;12&#39;: [&#39;7&#39;, &#39;12&#39;], &#39;4&#39;: [&#39;7&#39;, &#39;12&#39;, &#39;8&#39;, &#39;4&#39;], &#39;9&#39;: [&#39;7&#39;, &#39;12&#39;, &#39;9&#39;], &#39;5&#39;: [&#39;7&#39;, &#39;2&#39;, &#39;5&#39;], &#39;8&#39;: [&#39;7&#39;, &#39;12&#39;, &#39;8&#39;], &#39;14&#39;: [&#39;7&#39;, &#39;12&#39;, &#39;14&#39;], &#39;22&#39;: [&#39;7&#39;, &#39;12&#39;, &#39;22&#39;], &#39;1&#39;: [&#39;7&#39;, &#39;2&#39;, &#39;5&#39;, &#39;1&#39;]}, &#39;22&#39;: {&#39;22&#39;: [&#39;22&#39;], &#39;2&#39;: [&#39;22&#39;, &#39;2&#39;], &#39;10&#39;: [&#39;22&#39;, &#39;8&#39;, &#39;10&#39;], &#39;12&#39;: [&#39;22&#39;, &#39;4&#39;, &#39;12&#39;], &#39;4&#39;: [&#39;22&#39;, &#39;4&#39;], &#39;8&#39;: [&#39;22&#39;, &#39;8&#39;], &#39;9&#39;: [&#39;22&#39;, &#39;4&#39;, &#39;12&#39;, &#39;9&#39;], &#39;7&#39;: [&#39;22&#39;, &#39;7&#39;], &#39;5&#39;: [&#39;22&#39;, &#39;4&#39;, &#39;5&#39;], &#39;1&#39;: [&#39;22&#39;, &#39;4&#39;, &#39;5&#39;, &#39;1&#39;], &#39;14&#39;: [&#39;22&#39;, &#39;8&#39;, &#39;14&#39;]}, &#39;9&#39;: {&#39;9&#39;: [&#39;9&#39;], &#39;2&#39;: [&#39;9&#39;, &#39;2&#39;], &#39;4&#39;: [&#39;9&#39;, &#39;8&#39;, &#39;4&#39;], &#39;8&#39;: [&#39;9&#39;, &#39;8&#39;], &#39;14&#39;: [&#39;9&#39;, &#39;14&#39;], &#39;7&#39;: [&#39;9&#39;, &#39;8&#39;, &#39;7&#39;], &#39;1&#39;: [&#39;9&#39;, &#39;1&#39;], &#39;10&#39;: [&#39;9&#39;, &#39;8&#39;, &#39;10&#39;], &#39;12&#39;: [&#39;9&#39;, &#39;8&#39;, &#39;4&#39;, &#39;12&#39;], &#39;5&#39;: [&#39;9&#39;, &#39;8&#39;, &#39;5&#39;], &#39;22&#39;: [&#39;9&#39;, &#39;8&#39;, &#39;22&#39;]}, &#39;10&#39;: {&#39;10&#39;: [&#39;10&#39;], &#39;2&#39;: [&#39;10&#39;, &#39;2&#39;], &#39;12&#39;: [&#39;10&#39;, &#39;8&#39;, &#39;4&#39;, &#39;12&#39;], &#39;5&#39;: [&#39;10&#39;, &#39;2&#39;, &#39;5&#39;], &#39;4&#39;: [&#39;10&#39;, &#39;8&#39;, &#39;4&#39;], &#39;8&#39;: [&#39;10&#39;, &#39;8&#39;], &#39;9&#39;: [&#39;10&#39;, &#39;8&#39;, &#39;9&#39;], &#39;14&#39;: [&#39;10&#39;, &#39;2&#39;, &#39;14&#39;], &#39;7&#39;: [&#39;10&#39;, &#39;2&#39;, &#39;7&#39;], &#39;22&#39;: [&#39;10&#39;, &#39;8&#39;, &#39;22&#39;], &#39;1&#39;: [&#39;10&#39;, &#39;2&#39;, &#39;5&#39;, &#39;1&#39;]}, &#39;12&#39;: {&#39;12&#39;: [&#39;12&#39;], &#39;2&#39;: [&#39;12&#39;, &#39;2&#39;], &#39;10&#39;: [&#39;12&#39;, &#39;8&#39;, &#39;10&#39;], &#39;5&#39;: [&#39;12&#39;, &#39;8&#39;, &#39;5&#39;], &#39;4&#39;: [&#39;12&#39;, &#39;8&#39;, &#39;4&#39;], &#39;8&#39;: [&#39;12&#39;, &#39;8&#39;], &#39;9&#39;: [&#39;12&#39;, &#39;9&#39;], &#39;14&#39;: [&#39;12&#39;, &#39;14&#39;], &#39;7&#39;: [&#39;12&#39;, &#39;7&#39;], &#39;22&#39;: [&#39;12&#39;, &#39;22&#39;], &#39;1&#39;: [&#39;12&#39;, &#39;8&#39;, &#39;5&#39;, &#39;1&#39;]}, &#39;5&#39;: {&#39;5&#39;: [&#39;5&#39;], &#39;2&#39;: [&#39;5&#39;, &#39;10&#39;, &#39;2&#39;], &#39;10&#39;: [&#39;5&#39;, &#39;10&#39;], &#39;4&#39;: [&#39;5&#39;, &#39;4&#39;], &#39;8&#39;: [&#39;5&#39;, &#39;8&#39;], &#39;9&#39;: [&#39;5&#39;, &#39;4&#39;, &#39;12&#39;, &#39;9&#39;], &#39;14&#39;: [&#39;5&#39;, &#39;8&#39;, &#39;14&#39;], &#39;1&#39;: [&#39;5&#39;, &#39;1&#39;], &#39;12&#39;: [&#39;5&#39;, &#39;4&#39;, &#39;12&#39;], &#39;7&#39;: [&#39;5&#39;, &#39;8&#39;, &#39;7&#39;], &#39;22&#39;: [&#39;5&#39;, &#39;8&#39;, &#39;22&#39;]}, &#39;4&#39;: {&#39;4&#39;: [&#39;4&#39;], &#39;2&#39;: [&#39;4&#39;, &#39;2&#39;], &#39;10&#39;: [&#39;4&#39;, &#39;8&#39;, &#39;10&#39;], &#39;12&#39;: [&#39;4&#39;, &#39;12&#39;], &#39;5&#39;: [&#39;4&#39;, &#39;5&#39;], &#39;8&#39;: [&#39;4&#39;, &#39;8&#39;], &#39;7&#39;: [&#39;4&#39;, &#39;12&#39;, &#39;7&#39;], &#39;22&#39;: [&#39;4&#39;, &#39;8&#39;, &#39;22&#39;], &#39;1&#39;: [&#39;4&#39;, &#39;5&#39;, &#39;1&#39;], &#39;9&#39;: [&#39;4&#39;, &#39;12&#39;, &#39;9&#39;], &#39;14&#39;: [&#39;4&#39;, &#39;12&#39;, &#39;14&#39;]}, &#39;8&#39;: {&#39;8&#39;: [&#39;8&#39;], &#39;2&#39;: [&#39;8&#39;, &#39;10&#39;, &#39;2&#39;], &#39;10&#39;: [&#39;8&#39;, &#39;10&#39;], &#39;12&#39;: [&#39;8&#39;, &#39;4&#39;, &#39;12&#39;], &#39;5&#39;: [&#39;8&#39;, &#39;5&#39;], &#39;4&#39;: [&#39;8&#39;, &#39;4&#39;], &#39;9&#39;: [&#39;8&#39;, &#39;9&#39;], &#39;14&#39;: [&#39;8&#39;, &#39;14&#39;], &#39;7&#39;: [&#39;8&#39;, &#39;7&#39;], &#39;22&#39;: [&#39;8&#39;, &#39;22&#39;], &#39;1&#39;: [&#39;8&#39;, &#39;5&#39;, &#39;1&#39;]}, &#39;1&#39;: {&#39;1&#39;: [&#39;1&#39;], &#39;12&#39;: [&#39;1&#39;, &#39;4&#39;, &#39;12&#39;], &#39;5&#39;: [&#39;1&#39;, &#39;4&#39;, &#39;5&#39;], &#39;4&#39;: [&#39;1&#39;, &#39;4&#39;], &#39;8&#39;: [&#39;1&#39;, &#39;4&#39;, &#39;8&#39;], &#39;9&#39;: [&#39;1&#39;, &#39;4&#39;, &#39;12&#39;, &#39;9&#39;], &#39;2&#39;: [&#39;1&#39;, &#39;4&#39;, &#39;2&#39;], &#39;10&#39;: [&#39;1&#39;, &#39;4&#39;, &#39;8&#39;, &#39;10&#39;], &#39;7&#39;: [&#39;1&#39;, &#39;4&#39;, &#39;12&#39;, &#39;7&#39;], &#39;22&#39;: [&#39;1&#39;, &#39;4&#39;, &#39;8&#39;, &#39;22&#39;], &#39;14&#39;: [&#39;1&#39;, &#39;4&#39;, &#39;12&#39;, &#39;14&#39;]}}</code></pre>
<p>Suppose we want to calculate the shortest path from <code>'Keylor Navas Gamboa'</code> (jersey number <code>1</code>) to <code>'Cristiano Ronaldo dos Santos Aveiro'</code> (jersey number <code>7</code>). We will type the following:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb181-1"><a href="#cb181-1"></a><span class="bu">print</span>(dis_Real[<span class="st">&#39;1&#39;</span>][<span class="st">&#39;7&#39;</span>])</span></code></pre></div>
<pre><code>## [&#39;1&#39;, &#39;4&#39;, &#39;12&#39;, &#39;7&#39;]</code></pre>
<p>So, we see that the fastest way possible to pass the ball from <code>'Keylor Navas Gamboa'</code> (jersey: <code>1</code>), to <code>'Cristiano Ronaldo dos Santos Aveiro'</code> (jersey: <code>7</code>) was to pass the ball first to <code>'Sergio Ramos García'</code> (jersey: <code>4</code>) who would pass to <code>'Marcelo Vieira da Silva Júnior'</code> (jersey: <code>12</code>) with him ultimately passing to <code>'Cristiano Ronaldo dos Santos Aveiro'</code>. This seems like a good post-match analysis tool. I got this idea after discussing with <a href="https://4sarathbabu.github.io/">Sarath Babu</a>.</p>
<p>Let us do the same analysis for <code>Liverpool</code>:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb183-1"><a href="#cb183-1"></a>dis_Liv <span class="op">=</span> nx.shortest_path(G_Liv_mod, weight <span class="op">=</span> <span class="st">&#39;weight&#39;</span>)</span>
<span id="cb183-2"><a href="#cb183-2"></a><span class="bu">print</span>(dis_Liv)</span></code></pre></div>
<pre><code>## {&#39;5&#39;: {&#39;5&#39;: [&#39;5&#39;], &#39;26&#39;: [&#39;5&#39;, &#39;26&#39;], &#39;7&#39;: [&#39;5&#39;, &#39;26&#39;, &#39;7&#39;], &#39;14&#39;: [&#39;5&#39;, &#39;14&#39;], &#39;4&#39;: [&#39;5&#39;, &#39;4&#39;], &#39;11&#39;: [&#39;5&#39;, &#39;11&#39;], &#39;66&#39;: [&#39;5&#39;, &#39;26&#39;, &#39;7&#39;, &#39;66&#39;], &#39;9&#39;: [&#39;5&#39;, &#39;26&#39;, &#39;9&#39;], &#39;1&#39;: [&#39;5&#39;, &#39;14&#39;, &#39;1&#39;], &#39;6&#39;: [&#39;5&#39;, &#39;14&#39;, &#39;6&#39;], &#39;19&#39;: [&#39;5&#39;, &#39;26&#39;, &#39;7&#39;, &#39;19&#39;]}, &#39;26&#39;: {&#39;26&#39;: [&#39;26&#39;], &#39;5&#39;: [&#39;26&#39;, &#39;5&#39;], &#39;7&#39;: [&#39;26&#39;, &#39;7&#39;], &#39;14&#39;: [&#39;26&#39;, &#39;14&#39;], &#39;9&#39;: [&#39;26&#39;, &#39;9&#39;], &#39;4&#39;: [&#39;26&#39;, &#39;4&#39;], &#39;11&#39;: [&#39;26&#39;, &#39;9&#39;, &#39;11&#39;], &#39;66&#39;: [&#39;26&#39;, &#39;7&#39;, &#39;66&#39;], &#39;1&#39;: [&#39;26&#39;, &#39;14&#39;, &#39;1&#39;], &#39;6&#39;: [&#39;26&#39;, &#39;14&#39;, &#39;6&#39;], &#39;19&#39;: [&#39;26&#39;, &#39;7&#39;, &#39;19&#39;]}, &#39;7&#39;: {&#39;7&#39;: [&#39;7&#39;], &#39;26&#39;: [&#39;7&#39;, &#39;66&#39;, &#39;5&#39;, &#39;26&#39;], &#39;5&#39;: [&#39;7&#39;, &#39;66&#39;, &#39;5&#39;], &#39;14&#39;: [&#39;7&#39;, &#39;14&#39;], &#39;9&#39;: [&#39;7&#39;, &#39;66&#39;, &#39;9&#39;], &#39;4&#39;: [&#39;7&#39;, &#39;4&#39;], &#39;1&#39;: [&#39;7&#39;, &#39;1&#39;], &#39;11&#39;: [&#39;7&#39;, &#39;66&#39;, &#39;11&#39;], &#39;66&#39;: [&#39;7&#39;, &#39;66&#39;], &#39;6&#39;: [&#39;7&#39;, &#39;14&#39;, &#39;6&#39;], &#39;19&#39;: [&#39;7&#39;, &#39;19&#39;]}, &#39;14&#39;: {&#39;14&#39;: [&#39;14&#39;], &#39;26&#39;: [&#39;14&#39;, &#39;5&#39;, &#39;26&#39;], &#39;5&#39;: [&#39;14&#39;, &#39;5&#39;], &#39;7&#39;: [&#39;14&#39;, &#39;7&#39;], &#39;4&#39;: [&#39;14&#39;, &#39;4&#39;], &#39;1&#39;: [&#39;14&#39;, &#39;1&#39;], &#39;66&#39;: [&#39;14&#39;, &#39;7&#39;, &#39;66&#39;], &#39;6&#39;: [&#39;14&#39;, &#39;6&#39;], &#39;19&#39;: [&#39;14&#39;, &#39;7&#39;, &#39;19&#39;], &#39;11&#39;: [&#39;14&#39;, &#39;7&#39;, &#39;66&#39;, &#39;11&#39;], &#39;9&#39;: [&#39;14&#39;, &#39;5&#39;, &#39;26&#39;, &#39;9&#39;]}, &#39;1&#39;: {&#39;1&#39;: [&#39;1&#39;], &#39;26&#39;: [&#39;1&#39;, &#39;26&#39;], &#39;14&#39;: [&#39;1&#39;, &#39;14&#39;], &#39;4&#39;: [&#39;1&#39;, &#39;6&#39;, &#39;4&#39;], &#39;6&#39;: [&#39;1&#39;, &#39;6&#39;], &#39;7&#39;: [&#39;1&#39;, &#39;6&#39;, &#39;7&#39;], &#39;11&#39;: [&#39;1&#39;, &#39;6&#39;, &#39;66&#39;, &#39;11&#39;], &#39;66&#39;: [&#39;1&#39;, &#39;6&#39;, &#39;66&#39;], &#39;5&#39;: [&#39;1&#39;, &#39;6&#39;, &#39;66&#39;, &#39;5&#39;], &#39;9&#39;: [&#39;1&#39;, &#39;6&#39;, &#39;66&#39;, &#39;9&#39;], &#39;19&#39;: [&#39;1&#39;, &#39;6&#39;, &#39;7&#39;, &#39;19&#39;]}, &#39;66&#39;: {&#39;66&#39;: [&#39;66&#39;], &#39;26&#39;: [&#39;66&#39;, &#39;5&#39;, &#39;26&#39;], &#39;5&#39;: [&#39;66&#39;, &#39;5&#39;], &#39;14&#39;: [&#39;66&#39;, &#39;14&#39;], &#39;9&#39;: [&#39;66&#39;, &#39;9&#39;], &#39;11&#39;: [&#39;66&#39;, &#39;11&#39;], &#39;6&#39;: [&#39;66&#39;, &#39;14&#39;, &#39;6&#39;], &#39;7&#39;: [&#39;66&#39;, &#39;14&#39;, &#39;7&#39;], &#39;4&#39;: [&#39;66&#39;, &#39;5&#39;, &#39;4&#39;], &#39;19&#39;: [&#39;66&#39;, &#39;11&#39;, &#39;19&#39;], &#39;1&#39;: [&#39;66&#39;, &#39;14&#39;, &#39;1&#39;]}, &#39;4&#39;: {&#39;4&#39;: [&#39;4&#39;], &#39;26&#39;: [&#39;4&#39;, &#39;26&#39;], &#39;5&#39;: [&#39;4&#39;, &#39;26&#39;, &#39;5&#39;], &#39;14&#39;: [&#39;4&#39;, &#39;26&#39;, &#39;14&#39;], &#39;66&#39;: [&#39;4&#39;, &#39;6&#39;, &#39;66&#39;], &#39;6&#39;: [&#39;4&#39;, &#39;6&#39;], &#39;7&#39;: [&#39;4&#39;, &#39;26&#39;, &#39;7&#39;], &#39;9&#39;: [&#39;4&#39;, &#39;26&#39;, &#39;9&#39;], &#39;1&#39;: [&#39;4&#39;, &#39;6&#39;, &#39;1&#39;], &#39;11&#39;: [&#39;4&#39;, &#39;6&#39;, &#39;66&#39;, &#39;11&#39;], &#39;19&#39;: [&#39;4&#39;, &#39;26&#39;, &#39;7&#39;, &#39;19&#39;]}, &#39;11&#39;: {&#39;11&#39;: [&#39;11&#39;], &#39;5&#39;: [&#39;11&#39;, &#39;66&#39;, &#39;5&#39;], &#39;7&#39;: [&#39;11&#39;, &#39;9&#39;, &#39;7&#39;], &#39;9&#39;: [&#39;11&#39;, &#39;9&#39;], &#39;4&#39;: [&#39;11&#39;, &#39;4&#39;], &#39;66&#39;: [&#39;11&#39;, &#39;66&#39;], &#39;19&#39;: [&#39;11&#39;, &#39;19&#39;], &#39;14&#39;: [&#39;11&#39;, &#39;9&#39;, &#39;14&#39;], &#39;6&#39;: [&#39;11&#39;, &#39;9&#39;, &#39;14&#39;, &#39;6&#39;], &#39;26&#39;: [&#39;11&#39;, &#39;66&#39;, &#39;5&#39;, &#39;26&#39;], &#39;1&#39;: [&#39;11&#39;, &#39;9&#39;, &#39;14&#39;, &#39;1&#39;]}, &#39;6&#39;: {&#39;6&#39;: [&#39;6&#39;], &#39;7&#39;: [&#39;6&#39;, &#39;7&#39;], &#39;14&#39;: [&#39;6&#39;, &#39;66&#39;, &#39;14&#39;], &#39;4&#39;: [&#39;6&#39;, &#39;4&#39;], &#39;1&#39;: [&#39;6&#39;, &#39;1&#39;], &#39;11&#39;: [&#39;6&#39;, &#39;66&#39;, &#39;11&#39;], &#39;66&#39;: [&#39;6&#39;, &#39;66&#39;], &#39;26&#39;: [&#39;6&#39;, &#39;4&#39;, &#39;26&#39;], &#39;5&#39;: [&#39;6&#39;, &#39;66&#39;, &#39;5&#39;], &#39;9&#39;: [&#39;6&#39;, &#39;66&#39;, &#39;9&#39;], &#39;19&#39;: [&#39;6&#39;, &#39;7&#39;, &#39;19&#39;]}, &#39;9&#39;: {&#39;9&#39;: [&#39;9&#39;], &#39;7&#39;: [&#39;9&#39;, &#39;7&#39;], &#39;14&#39;: [&#39;9&#39;, &#39;14&#39;], &#39;11&#39;: [&#39;9&#39;, &#39;11&#39;], &#39;66&#39;: [&#39;9&#39;, &#39;11&#39;, &#39;66&#39;], &#39;6&#39;: [&#39;9&#39;, &#39;14&#39;, &#39;6&#39;], &#39;5&#39;: [&#39;9&#39;, &#39;14&#39;, &#39;5&#39;], &#39;4&#39;: [&#39;9&#39;, &#39;14&#39;, &#39;4&#39;], &#39;19&#39;: [&#39;9&#39;, &#39;7&#39;, &#39;19&#39;], &#39;26&#39;: [&#39;9&#39;, &#39;14&#39;, &#39;5&#39;, &#39;26&#39;], &#39;1&#39;: [&#39;9&#39;, &#39;14&#39;, &#39;1&#39;]}, &#39;19&#39;: {&#39;19&#39;: [&#39;19&#39;], &#39;7&#39;: [&#39;19&#39;, &#39;7&#39;], &#39;14&#39;: [&#39;19&#39;, &#39;14&#39;], &#39;9&#39;: [&#39;19&#39;, &#39;9&#39;], &#39;11&#39;: [&#39;19&#39;, &#39;9&#39;, &#39;11&#39;], &#39;66&#39;: [&#39;19&#39;, &#39;9&#39;, &#39;11&#39;, &#39;66&#39;], &#39;6&#39;: [&#39;19&#39;, &#39;14&#39;, &#39;6&#39;], &#39;5&#39;: [&#39;19&#39;, &#39;14&#39;, &#39;5&#39;], &#39;4&#39;: [&#39;19&#39;, &#39;14&#39;, &#39;4&#39;], &#39;26&#39;: [&#39;19&#39;, &#39;14&#39;, &#39;5&#39;, &#39;26&#39;], &#39;1&#39;: [&#39;19&#39;, &#39;14&#39;, &#39;1&#39;]}}</code></pre>
<div class="sourceCode" id="cb185"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb185-1"><a href="#cb185-1"></a><span class="bu">print</span>(dis_Liv[<span class="st">&#39;1&#39;</span>][<span class="st">&#39;9&#39;</span>])</span></code></pre></div>
<pre><code>## [&#39;1&#39;, &#39;6&#39;, &#39;66&#39;, &#39;9&#39;]</code></pre>
<p>Now we will calculate another important metric called <em>eccentricity</em>, which is based on shortest distance. <em>Eccentricity</em> of a player node <code>p</code> tells us how far the furthest player node from <code>p</code> is positioned in the pass network. Let us calculate the eccentricities for all the 11 nodes for <code>Real Madrid</code>.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb187-1"><a href="#cb187-1"></a>E_Real <span class="op">=</span> nx.eccentricity(G_Real_mod)</span>
<span id="cb187-2"><a href="#cb187-2"></a><span class="bu">print</span>(E_Real)</span></code></pre></div>
<pre><code>## {&#39;14&#39;: 2, &#39;2&#39;: 2, &#39;7&#39;: 2, &#39;22&#39;: 2, &#39;9&#39;: 2, &#39;10&#39;: 2, &#39;12&#39;: 2, &#39;5&#39;: 2, &#39;4&#39;: 2, &#39;8&#39;: 1, &#39;1&#39;: 2}</code></pre>
<p>We can calculate the average eccentricity:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb189-1"><a href="#cb189-1"></a>av_E_Real <span class="op">=</span> <span class="bu">sum</span>(<span class="bu">list</span>(E_Real.values()))<span class="op">/</span><span class="bu">len</span>(E_Real)</span>
<span id="cb189-2"><a href="#cb189-2"></a><span class="bu">print</span>(av_E_Real)</span></code></pre></div>
<pre><code>## 1.9090909090909092</code></pre>
<p>For <code>Liverpool</code>:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb191-1"><a href="#cb191-1"></a>E_Liv <span class="op">=</span> nx.eccentricity(G_Liv_mod)</span>
<span id="cb191-2"><a href="#cb191-2"></a><span class="bu">print</span>(E_Liv)</span></code></pre></div>
<pre><code>## {&#39;5&#39;: 2, &#39;26&#39;: 2, &#39;7&#39;: 1, &#39;14&#39;: 2, &#39;1&#39;: 2, &#39;66&#39;: 2, &#39;4&#39;: 2, &#39;11&#39;: 2, &#39;6&#39;: 2, &#39;9&#39;: 2, &#39;19&#39;: 2}</code></pre>
<p>We can calculate the <em>average eccentricity</em>:</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb193-1"><a href="#cb193-1"></a>av_E_Liv <span class="op">=</span> <span class="bu">sum</span>(<span class="bu">list</span>(E_Liv.values()))<span class="op">/</span><span class="bu">len</span>(E_Liv)</span>
<span id="cb193-2"><a href="#cb193-2"></a><span class="bu">print</span>(av_E_Liv)</span></code></pre></div>
<pre><code>## 1.9090909090909092</code></pre>
<p>We can also calculate the <em>average clustering coefficient</em> of a graph. Let us first compute this metric for <code>G_Real</code> (note that this graph should not be the modified version)</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb195-1"><a href="#cb195-1"></a>cc_Real <span class="op">=</span> nx.average_clustering(G_Real, weight <span class="op">=</span> <span class="st">&#39;weight&#39;</span>)</span>
<span id="cb195-2"><a href="#cb195-2"></a><span class="bu">print</span>(cc_Real)</span></code></pre></div>
<pre><code>## 0.18233485197970903</code></pre>
<p>for <code>Liverpool</code>:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb197-1"><a href="#cb197-1"></a>cc_Liv <span class="op">=</span> nx.average_clustering(G_Liv, weight <span class="op">=</span> <span class="st">&#39;weight&#39;</span>)</span>
<span id="cb197-2"><a href="#cb197-2"></a><span class="bu">print</span>(cc_Liv)</span></code></pre></div>
<pre><code>## 0.2766427842450553</code></pre>
<p>The <em>average clustering coefficient</em> lies in the range [0, 1] where, a value of 0 denotes the fact that none of the nodes are connected to each other and a value of 1 denotes that the network is a clique, that is each node is connected to all the other nodes of the network. We see that interestingly the <em>average clustering coefficient</em> is lesser for <code>Real Madrid</code>’s pass network stating the fact that a lesser number of players passed the ball among each other, compared to that of <code>Liverpool</code>.</p>
<p>Finally, we can compute the <code>centrality</code> (especially the <code>betweenness centrality</code>) for each node in either team’s pass network and understand which player was the most important in their pass network. For <code>Real Madrid</code>:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb199-1"><a href="#cb199-1"></a>bc_Real <span class="op">=</span> nx.betweenness_centrality(G_Real, weight <span class="op">=</span> <span class="st">&#39;weight&#39;</span>)</span>
<span id="cb199-2"><a href="#cb199-2"></a><span class="bu">print</span>(bc_Real)</span></code></pre></div>
<pre><code>## {&#39;14&#39;: 0.15222222222222223, &#39;2&#39;: 0.10685185185185186, &#39;7&#39;: 0.05592592592592593, &#39;22&#39;: 0.0, &#39;9&#39;: 0.14462962962962964, &#39;10&#39;: 0.12407407407407407, &#39;12&#39;: 0.009259259259259259, &#39;5&#39;: 0.007407407407407408, &#39;4&#39;: 0.06851851851851852, &#39;8&#39;: 0.031481481481481485, &#39;1&#39;: 0.11703703703703704}</code></pre>
<p>we can find the node which has the maximum <em>betweenness centrality</em> measure.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb201-1"><a href="#cb201-1"></a>max_bc_Real <span class="op">=</span> <span class="bu">max</span>(bc_Real, key <span class="op">=</span> bc_Real.get)</span>
<span id="cb201-2"><a href="#cb201-2"></a><span class="bu">print</span>(max_bc_Real)</span></code></pre></div>
<pre><code>## 14</code></pre>
<p>For <code>Liverpool</code>:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb203-1"><a href="#cb203-1"></a>bc_Liv <span class="op">=</span> nx.betweenness_centrality(G_Liv, weight <span class="op">=</span> <span class="st">&#39;weight&#39;</span>)</span>
<span id="cb203-2"><a href="#cb203-2"></a><span class="bu">print</span>(bc_Liv)</span></code></pre></div>
<pre><code>## {&#39;5&#39;: 0.06296296296296296, &#39;26&#39;: 0.016666666666666666, &#39;7&#39;: 0.2453703703703704, &#39;14&#39;: 0.12407407407407407, &#39;1&#39;: 0.002777777777777778, &#39;66&#39;: 0.075, &#39;4&#39;: 0.07222222222222222, &#39;11&#39;: 0.05555555555555556, &#39;6&#39;: 0.1259259259259259, &#39;9&#39;: 0.021296296296296296, &#39;19&#39;: 0.03888888888888889}</code></pre>
<div class="sourceCode" id="cb205"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb205-1"><a href="#cb205-1"></a>max_bc_Liv <span class="op">=</span> <span class="bu">max</span>(bc_Liv, key <span class="op">=</span> bc_Liv.get)</span>
<span id="cb205-2"><a href="#cb205-2"></a><span class="bu">print</span>(max_bc_Liv)</span></code></pre></div>
<pre><code>## 7</code></pre>
